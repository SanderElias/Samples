import{b as M}from"./chunk-TL7IB3IN.js";import"./chunk-FMACUYEJ.js";import"./chunk-IT2JC7M2.js";import{i as I}from"./chunk-4KGGYRLN.js";import{Aa as k,C as S,Ca as E,Eb as j,Jb as r,Kb as c,Pb as H,R as m,Sb as h,Tb as _,V as $,Ya as f,Yb as Q,Zb as V,_b as P,cc as s,dc as T,ea as w,g as v,j as C,la as p,lb as g,ma as d,mc as A,nc as D,q as a,qb as L,r as x,y}from"./chunk-ZN5DRON2.js";import{a as l,b as u}from"./chunk-I4MTPUBM.js";var O=["b"];function R(n,t){if(n&1){let e=H();r(0,"button",1,0),h("click",function(){p(e);let i=_();return d(i.updateCounterWith(-1))}),s(2,"-1"),c(),r(3,"span"),s(4),c(),r(5,"button",1,0),h("click",function(){p(e);let i=_();return d(i.updateCounterWith(1))}),s(7,"+1"),c()}n&2&&(f(4),T(t.count))}var b=class n{constructor(){this.route=w(M),this.localState$=new v({count:0}),this.id$=this.route.params.pipe(m("id"),a(t=>+t)),this.clicks$=this.localState$.pipe(m("buttons"),S(t=>t instanceof E),a(t=>t.toArray().map(e=>e.nativeElement)),$(t=>y(t,"click"))).subscribe(console.log),this.vm$=x({id:this.id$,state:this.localState$}).pipe(a(t=>({id:t.id,count:t.state.count||0})))}ngOnInit(){}updateCounterWith(t){this.localState$.next(u(l({},this.localState$.value),{count:this.localState$.value.count??0+t}))}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=g({type:n,selectors:[["app-ls-home"]],viewQuery:function(e,o){if(e&1&&Q(O,5,k),e&2){let i;V(i=P())&&(o.buttons=i)}},decls:4,vars:3,consts:[["b",""],[3,"click"]],template:function(e,o){if(e&1&&(r(0,"h2"),s(1,"test some state"),c(),L(2,R,8,1),A(3,"async")),e&2){let i;f(2),j((i=D(3,1,o.vm$))?2:-1,i)}},dependencies:[I],encapsulation:2})}};C([W("localState$")],b.prototype,"buttons",void 0);var Y=Symbol("subjectProp");function W(n){return(t,e)=>{Object.defineProperty(t,e,{set:function(o){let i=this[n];o&&i.next(u(l({},i.value),{[e]:o}))},get:function(){throw new Error(`Don't read the "${e}" directly, instead take it from the "${n}" behaviourSubject`)},configurable:!1,enumerable:!0})}}export{b as LsHomeComponent,W as ObservableInput};
