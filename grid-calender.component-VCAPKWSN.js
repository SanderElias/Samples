import{m as p}from"./chunk-SHWH7FWF.js";import{Ba as h,Bb as S,Gb as D,Hb as y,Ib as C,Jb as o,Kb as i,Lb as P,Pb as O,Sb as w,Tb as x,Za as f,bc as s,cc as F,dc as k,ma as b,mb as m,na as v,vc as _,zb as u}from"./chunk-FE3MAFSK.js";import"./chunk-KAT7YFEL.js";var E=(()=>{class e{constructor(){this.day=h.required()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=m({type:e,selectors:[["se-day-cell"]],hostVars:8,hostBindings:function(n,r){n&2&&S("mute",!r.day().isCurrentMonth)("special",r.day().isSpecial)("first",r.day().isFirstSelected)("last",r.day().isLastSelected)},inputs:{day:[1,"day"]},decls:1,vars:1,template:function(n,r){n&1&&s(0),n&2&&k(" ",r.day().day," ")},dependencies:[p],styles:["@layer se_calendar.day{[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}.mute[_nghost-%COMP%], .mute[_nghost-%COMP%]:hover{opacity:.3;border-radius:50%;cursor:not-allowed;background-color:inherit;margin:inherit;font-weight:inherit;font-size:inherit}[_nghost-%COMP%]:hover{font-weight:bolder;font-size:1.2em}.first[_nghost-%COMP%], .last[_nghost-%COMP%]{background-color:#1d0236cc}.first[_nghost-%COMP%], .first[_nghost-%COMP%]:hover{border-top-left-radius:25%;border-bottom-left-radius:25%;margin-right:-.25rem;border-right:0}.last[_nghost-%COMP%], .last[_nghost-%COMP%]:hover{border-top-right-radius:25%;border-bottom-right-radius:25%;border-left:0}}"]})}}return e})();var V=(e,d)=>d.date;function Y(e,d){if(e&1){let t=O();o(0,"se-day-cell",1),w("click",function(){let r=b(t).$implicit,l=x();return v(l.select(r))}),i()}if(e&2){let t=d.$implicit;u("day",t)}}var L=(()=>{class e{constructor(){this.date=h.required(),this.days=_(()=>$(this.date())),this.monthName=_(()=>this.days()[10].date.toLocaleString("default",{month:"long"}))}select(t){let n=this.days();if(t.isCurrentMonth===!1)return;let r=n.find(c=>c.isFirstSelected),l=n.find(c=>c.isLastSelected);if(console.log({day:t,first:r,last:l}),!r){t.isFirstSelected=!0;return}if(!l){t.isLastSelected=!0;return}if(r.date===t.date&&l.date===t.date){t.isFirstSelected=!1,t.isLastSelected=!1;return}if(t.date<r.date){r.isFirstSelected=!1,t.isFirstSelected=!0;return}l&&(l.isLastSelected=!1),t.isLastSelected=!0}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=m({type:e,selectors:[["se-month"]],inputs:{date:[1,"date"]},decls:18,vars:1,consts:[[3,"day"],[3,"click","day"]],template:function(n,r){n&1&&(o(0,"h2"),s(1),i(),o(2,"span"),s(3,"S"),i(),o(4,"span"),s(5,"M"),i(),o(6,"span"),s(7,"T"),i(),o(8,"span"),s(9,"W"),i(),o(10,"span"),s(11,"T"),i(),o(12,"span"),s(13,"F"),i(),o(14,"span"),s(15,"S"),i(),y(16,Y,1,1,"se-day-cell",0,V)),n&2&&(f(),F(r.monthName()),f(15),C(r.days()))},dependencies:[p,E],styles:["@layer se_calendar.month{[_nghost-%COMP%]{display:grid;height:fit-content;width:fit-content;grid-template-columns:repeat(7,40px);grid-auto-rows:40px;gap:.25rem}h2[_ngcontent-%COMP%]{grid-column:1 / -1;text-align:center;padding:7px;margin:0}se-day-cell[_ngcontent-%COMP%]{border:1px solid black}span[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;font-weight:bolder;padding:0}.first[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:has(~.last){background-color:#1d023673;margin-right:-.25rem;border-left:0;border-right:0}se-day-cell[_ngcontent-%COMP%]:hover{background-color:#b99f2d}se-day-cell[_ngcontent-%COMP%]:hover:were(:has(~ .first)){border-radius:25% 0 0 25%}se-day-cell[_ngcontent-%COMP%]:hover ~ [_ngcontent-%COMP%]:has(~.first){background-color:#b99f2d;border-left:0;border-right:0;margin-right:-.5rem}se-day-cell[_ngcontent-%COMP%]:hover:has(~.first){background-color:#b99f2dc4;border-right:0;border-radius:25% 0 0 25%;margin-right:-.5rem}.last[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:has(~se-day-cell:hover){background-color:#b99f2d;border-left:0;border-right:0;margin-left:-.5rem}.last[_ngcontent-%COMP%] ~ se-day-cell[_ngcontent-%COMP%]:hover{background-color:#b99f2dc4;border-left:0;border-radius:0 25% 25% 0;margin-left:-.5rem}}"]})}}return e})();function $(e){let t=a=>new Date(a.getTime()+864e5),n=a=>new Date(e.getFullYear(),e.getMonth(),a),r=new Date(e.getFullYear(),e.getMonth(),1),l=new Date(e.getFullYear(),e.getMonth()+1,0),c=[];for(let a=0;a<r.getDay();a++){let G=e.getTime()-(r.getDay()-a)*864e5;c.push(M(new Date(G),!1))}for(let a=1;a<=l.getDate();a++)c.push(M(n(a)));let g=t(l);for(;g.getDay()!==0;)c.push(M(g,!1)),g=t(g);return c}function M(e,d=!0){return{date:e,day:e.getDate(),isCurrentMonth:d,isFirstSelected:!1,isLastSelected:!1,isSpecial:!1}}function B(e,d){if(e&1&&P(0,"se-month",0),e&2){let t=d.$implicit;u("date",t)}}var R=(()=>{class e{constructor(){this.date=new Date("2025-05-01"),this.months=[0,1,2,3,4,5,6,7,8,9,10,11].map(t=>new Date(this.date.getFullYear(),t,1))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=m({type:e,selectors:[["se-grid-calender"]],decls:5,vars:0,consts:[[3,"date"]],template:function(n,r){n&1&&(o(0,"h1"),s(1,"Grid Calender"),i(),o(2,"div"),y(3,B,1,1,"se-month",0,D),i()),n&2&&(f(3),C(r.months))},dependencies:[p,L],styles:["@layer se_calendar.overview,se_calendar.month,se_calendar.day;@layer se_calendar.overview{[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,352px);grid-template-rows:auto 1fr;gap:2rem}}"]})}}return e})();export{R as GridCalenderComponent};
