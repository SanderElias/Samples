import{a as Y}from"./chunk-34YSCUTL.js";import{a as q,b as B,c as G,d as J}from"./chunk-BTAY3QBN.js";import"./chunk-XZCHICF6.js";import"./chunk-COT5DIUW.js";import{$ as O,D as x,E as C,F as L,Ib as A,M as k,Pb as _,Qb as H,T as w,X as o,Xa as f,_a as a,ea as y,eb as M,fb as P,gb as $,h as b,ha as I,hb as p,hc as z,i as h,ib as l,ja as D,kb as E,l as g,lb as F,nb as R,o as c,qa as j,qb as T,ra as S,wb as m,x as v,xb as V}from"./chunk-IWWGYS2Z.js";import{h as u}from"./chunk-G5KKTNWD.js";var N=(()=>{let i=class{set seLet(e){this.assign(e)}set seLetObserve(e){this.assign(e)}set seLetOn(e){this.assign(e)}assign(e){this.sub&&this.sub.unsubscribe(),g(e)?this.sub=e.pipe(o(()=>this.cdr.markForCheck())).subscribe(t=>{this.context.$implicit=t,this.context.seLet=t}):(this.context.$implicit=e,this.context.seLet=e)}constructor(e,t,s){this.templateRef=e,this.viewContainer=t,this.cdr=s,this.context={$implicit:void 0,seLet:void 0},this.assign=this.assign.bind(this)}ngOnInit(){this.viewContainer.createEmbeddedView(this.templateRef,this.context)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}},n=i;return(()=>{i.\u0275fac=function(t){return new(t||i)(a(_),a(H),a(z))}})(),(()=>{i.\u0275dir=D({type:i,selectors:[["","seLet",""]],inputs:{seLet:"seLet",seLetObserve:"seLetObserve",seLetOn:"seLetOn"},standalone:!0})})(),n})();var Q=(()=>{let i=class{constructor(e){this.http=e,this.base="https://pokeapi.co/api/v2"}load(e){return u(this,null,function*(){if(yield q(),!G(e)){let t=yield fetch(e).then(s=>s.json()).catch(s=>{});yield B(e,t)}return J(e)})}init(){console.log("ps init"),this.load(this.base).then(e=>{console.log(e),h(Object.entries(e)).pipe(o(t=>console.log("url",t)),L(([t,s])=>this.getAllPagedData(s).pipe(x((r,d)=>r.concat(d.results),[]),o(r=>console.log("d",r)),c(r=>({name:t,baseUrl:s,data:r})))),C(),o(t=>console.log(t))).subscribe()})}getAllPagedData(e){return h(this.load(`${e}`)).pipe(k(t=>t.next?this.load(t.next):b))}},n=i;return(()=>{i.\u0275fac=function(t){return new(t||i)(y(Y))}})(),(()=>{i.\u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"})})(),n})();function U(n,i){if(n&1&&(E(0),p(1,"h1"),m(2),l(),F()),n&2){let W=i.$implicit;f(2),V(W)}}var me=(()=>{let i=class{constructor(e){this.pa=e,this.fakePost$=v(1500).pipe(o(()=>console.log("done")),c(()=>"hello world"),w({refCount:!0,bufferSize:1}))}ngOnInit(){console.log("pokeMain")}},n=i;return(()=>{i.\u0275fac=function(t){return new(t||i)(a(Q))}})(),(()=>{i.\u0275cmp=I({type:i,selectors:[["app-pokemain"]],standalone:!0,features:[A],decls:6,vars:1,consts:[[3,"click"],["save",""],[4,"seLet","seLetObserve"]],template:function(t,s){if(t&1){let r=R();p(0,"p"),m(1,"pokemain works!"),l(),p(2,"button",0,1),T("click",function(){j(r);let X=P(3);return S(X.goSave=!0)}),m(4,"Save"),l(),M(5,U,3,1,"ng-container",2)}t&2&&(f(5),$("seLetObserve",s.fakePost$))},dependencies:[N],encapsulation:2})})(),n})();export{me as PokeMainComponent};
