import{q as m}from"./chunk-SXZVUWI2.js";import{$c as h,Da as c,Lc as o,Sc as l,ea as s,oa as a,qb as d}from"./chunk-I3AI3OF7.js";var C=(()=>{class r{#i;#r;#e;#s;#t;#n;#o;constructor(){this.showError=l("",{}),this.#i=s(m),this.#r=s(a),this.#e=s(c).nativeElement,this.#s=this.#e.parentElement,this.#t=this.#r.createElement("div"),this.#n=o(()=>{let t=this.#i.state().errors();return!t||t.length===0?[]:t.map(e=>e?.message??JSON.stringify(e))},{}),this.#o=o(()=>this.#i.state().touched(),{}),this.#t.classList.add("error-messages"),h(()=>{let t=this.#n(),e=this.findNgContentAttributes();e&&this.#t.setAttribute(e,""),t.length>0?(this.renderErrors(t),this.attachErrorContainer(),this.#e.setCustomValidity(t.join(", "))):(this.#e.setCustomValidity(""),this.#t.remove())}),h(()=>{this.#o()?this.#e.classList.add("se-touched"):this.#e.classList.remove("se-touched")})}findNgContentAttributes(){let t=5,e=this.#s,i=this.#e.attributes;return Array.from(i).find(u=>u.name.startsWith("_ngcontent-"))?.name||""}renderErrors(t){if(this.#t.innerHTML="",this.showError()&&(this.#t.innerHTML=`<span class="error">${this.showError()}</span>`),t.length>0){let e=this.#r.createElement("ul");t.forEach(i=>{let n=this.#r.createElement("li");n.innerText=i,e.appendChild(n)}),this.#t.appendChild(e)}}attachErrorContainer(){this.#t.parentElement!==this.#s&&this.#s?.appendChild(this.#t)}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275dir=d({type:r,selectors:[["","showError",""]],inputs:{showError:[1,"showError"]}})}}return r})();export{C as a};
