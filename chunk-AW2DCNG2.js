import{a as J}from"./chunk-M6IWY56P.js";import{a as D,b as P,c as A,d as R,e as $,f as I,h as l,k as G,l as T,m as B,o as j,p as q,w as z}from"./chunk-H5OL5AAF.js";import{j as O,k as V,n as k}from"./chunk-GR2PXCGU.js";import{Eb as M,Gb as v,Hb as g,T as _,U as y,Wa as d,ab as w,cb as c,db as n,eb as t,fa as S,fb as a,ha as N,jb as E,mb as b,nb as p,pa as u,qa as f,sb as i,ub as F}from"./chunk-X5MK5QQ4.js";import{a as C,b as h}from"./chunk-G5KKTNWD.js";function W(m,r){if(m&1){let s=E();n(0,"main")(1,"h1"),i(2,"Reactive"),t(),n(3,"form",1),b("ngSubmit",function(){u(s);let o=p();return f(o.save())}),n(4,"label")(5,"span"),i(6,"Name"),t(),a(7,"input",2),t(),n(8,"label")(9,"span"),i(10,"Date of birth"),t(),a(11,"input",3),t(),n(12,"label")(13,"span"),i(14,"Email Address"),t(),a(15,"input",4),t(),n(16,"label")(17,"span"),i(18,"Favorite Number"),t(),a(19,"input",5),t(),n(20,"label")(21,"span"),a(22,"input",6),i(23," Admin"),t()(),n(24,"label")(25,"span"),i(26),v(27,"async"),t(),a(28,"input",7),t(),n(29,"button",8),b("click",function(o){let L=u(s).ngIf;return p().updateForm(L),f(o.preventDefault())}),i(30,"Reset form"),t(),n(31,"button",9),i(32,"Submit"),t()()()}if(m&2){let s=p();d(3),c("formGroup",s.form),d(23),F("Level ",g(27,3,s.level$),""),d(5),c("disabled",!s.form.valid)}}var H=(()=>{let r=class{constructor(){this.ds=S(J),this.data$=this.ds.data$.pipe(_({refCount:!0,bufferSize:1})),this.sub=this.data$.subscribe(e=>{this.updateForm(e),this.level$=this.form.get("level").valueChanges.pipe(y(e.level))})}updateForm(e){this.form=new I({name:new l(e.name,A.required),dob:new l(e.dob.toISOString().slice(0,10)),email:new l(e.email),favNumber:new l(e.favNumber),admin:new l(e.admin),level:new l(e.level)})}save(){console.log(`saving reactive ${JSON.stringify(this.form.value,void 0,2)}`);let e=new Date(this.form.value.dob);this.ds.save(h(C({},this.form.value),{dob:e}))}ngOnDestroy(){this.sub.unsubscribe()}},m=r;return(()=>{r.\u0275fac=function(o){return new(o||r)}})(),(()=>{r.\u0275cmp=N({type:r,selectors:[["se-reactive"]],standalone:!0,features:[M],decls:2,vars:3,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],["name","name","type","text","placeholder","Name","formControlName","name"],["name","dob","type","date","placeholder","Date of birth","formControlName","dob"],["name","email","type","email","placeholder","Email Address","formControlName","email"],["name","favNumber","type","number","placeholder","Favorite Number","formControlName","favNumber"],["name","admin","type","checkbox","formControlName","admin"],["name","level","type","range","min","1","max","5","formControlName","level"],["type","cancel",3,"click"],["type","submit",3,"disabled"]],template:function(o,x){o&1&&(w(0,W,33,5,"main",0),v(1,"async")),o&2&&c("ngIf",g(1,1,x.data$))},dependencies:[k,O,V,z,G,P,T,B,D,R,$,j,q],styles:["[_nghost-%COMP%]{display:block}form[_ngcontent-%COMP%]{border:2px solid #d7b52b;padding:1.5rem;border-radius:1rem;accent-color:#2bd75d;width:30rem;display:flex;flex-direction:column;gap:.5rem;margin:auto}label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}label[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(2){margin-left:.25rem}.ng-invalid.ng-dirty[_ngcontent-%COMP%]:not(form){background-color:#8f4646}button[type=submit][_ngcontent-%COMP%]{background-color:#2bd75d;color:#fff;border:none;border-radius:5px;padding:.5rem}button[_ngcontent-%COMP%]:disabled{background-color:#d7b52b;cursor:not-allowed}"]})})(),m})(),oe=H;export{oe as a};
