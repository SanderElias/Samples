import{a as T,b as $}from"./chunk-K26RW6XA.js";import{j as k,k as I,m as O}from"./chunk-GR2PXCGU.js";import{Eb as E,G as _,Gb as v,Hb as b,W as h,Wa as r,ab as y,cb as p,db as o,eb as n,f as M,fb as d,ha as w,jb as C,mb as f,nb as g,pa as x,qa as S,sb as s,tb as u}from"./chunk-X5MK5QQ4.js";import{h as m}from"./chunk-G5KKTNWD.js";function D(c,i){if(c&1){let a=C();o(0,"main")(1,"section",1)(2,"button",2),f("click",function(){x(a);let t=g();return S(t.down())}),s(3,"-"),n(),o(4,"h3"),s(5),n(),o(6,"button",2),f("click",function(){x(a);let t=g();return S(t.up())}),s(7,"+"),n(),d(8,"br"),n(),o(9,"h1"),s(10),n(),d(11,"br")(12,"br"),o(13,"p"),s(14,"The raw viewModel:"),n(),d(15,"hr"),o(16,"pre")(17,"code"),s(18),v(19,"json"),n()()()}if(c&2){let a=i.ngIf;r(2),p("disabled",a.underMin),r(3),u(a.count),r(1),p("disabled",a.overMax),r(4),u(a.msg),r(8),u(b(19,5,a))}}var G=(()=>{let i=class{constructor(){this.state$=new M({count:5,msg:"",overMax:!1,underMin:!1,max:10,min:2}),this.updateMessage=e=>{let t=e.overMax?"too high!":e.underMin?"too low!":"";this.setState("msg",t)},this.viewModel$=this.state$.pipe(_(5),h(e=>this.checkState()),h(this.updateMessage)),this.setState=$(this.state$),this.getState=T(this.state$)}checkState(){return m(this,null,function*(){let{count:e,min:t,max:l,overMax:P,underMin:V}=yield this.getState();e>l!==P&&this.setState("overMax",e>l),e<t!==V&&this.setState("underMin",e<t)})}up(){return m(this,null,function*(){let e=yield this.getState("count");this.setState("count",e+1)})}down(){return m(this,null,function*(){let e=yield this.getState("count");this.setState("count",e-1),this.setState({min:3,max:5})})}},c=i;return(()=>{i.\u0275fac=function(t){return new(t||i)}})(),(()=>{i.\u0275cmp=w({type:i,selectors:[["app-observable-state"]],standalone:!0,features:[E],decls:4,vars:3,consts:[[4,"ngIf"],[1,"display"],[3,"disabled","click"]],template:function(t,l){t&1&&(o(0,"h1"),s(1,"Observable state"),n(),y(2,D,20,7,"main",0),v(3,"async")),t&2&&(r(2),p("ngIf",b(3,1,l.viewModel$)))},dependencies:[I,k,O],styles:[`section[_ngcontent-%COMP%] {
    display: grid;
    grid-template-columns: 150px 150px 150px;
  }
  section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {
    text-align: center;
    font-size: 30px;
  }`],changeDetection:0})})(),c})();export{G as ObservableStateComponent};
