import{j as z}from"./chunk-6Z5BSBYQ.js";import"./chunk-QF5K4MHH.js";import{Eb as C,Fc as E,Gc as w,Nb as f,Ob as k,Pb as g,Qb as b,Rb as c,Sb as r,Tb as _,Ub as d,Vb as v,Wb as S,Ya as l,cc as h,dc as y,ec as M,la as p,ob as s,ra as u,rc as a,tc as T}from"./chunk-I3AI3OF7.js";import"./chunk-DAQOROHW.js";function N(o,B){if(o&1&&(p(),S(0,"rect")),o&2){let t=B.$implicit,e=M();C("data-id",t.id)("x",t.x)("y",t.y)("width",e.blockSize)("height",e.blockSize)("fill",t.fillColor)}}var x=(()=>{class o{set recolor(t){t&&this._recolor()}constructor(){this.blockSize=3,this.colCount=Math.floor(1e3/this.blockSize),this.blocks=Array.from({length:this.colCount*this.colCount},(t,e)=>({fillColor:this.randomColor(),x:this.calcX(e),y:this.calcY(e),id:e})),this.rectClicked=new u,this.cellCount=new u,setTimeout(()=>{this.cellCount.emit(this.blocks.length-1)})}sendRectNumber(t){t.preventDefault(),t.stopPropagation();let e=t.target;isNaN(Number(e.dataset.id))||this.rectClicked.emit(Number(e.dataset.id))}calcX(t){let e=Math.floor(t/this.colCount)*this.colCount;return(t-e)*this.blockSize}calcY(t){return Math.floor(t/this.colCount)*this.blockSize}_recolor(){this.blocks.forEach(t=>t.fillColor=this.randomColor()),console.log(`Changed the color of ${this.blocks.length-1} blocks`)}randomColor(){let t=Math.floor(Math.random()*256),e=Math.floor(Math.random()*256),n=Math.floor(Math.random()*256);return`rgb(${t}, ${e}, ${n})`}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=s({type:o,selectors:[["app-blocks"]],inputs:{recolor:"recolor"},outputs:{rectClicked:"rectClicked",cellCount:"cellCount"},decls:4,vars:0,consts:[["role","img","viewBox","0 0 1000 1000",3,"click"]],template:function(e,n){e&1&&(p(),d(0,"svg",0),y("click",function(i){return n.sendRectNumber(i)}),d(1,"g"),k(2,N,1,6,":svg:rect",null,f),v()()),e&2&&(l(2),g(n.blocks))},styles:[`:host{display:block}
`],encapsulation:3})}}return o})();var X=(()=>{class o{constructor(){this.count=0,this.cellCount=0}reColor(){this.count+=1}bit(t){console.log(`rectangle number ${t} is clicked`)}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=s({type:o,selectors:[["app-svg-test"]],decls:9,vars:4,consts:[[3,"rectClicked","cellCount","recolor"],[3,"click"]],template:function(e,n){e&1&&(c(0,"h1"),a(1,"Quick test with svg"),r(),c(2,"small"),a(3),E(4,"number"),r(),c(5,"app-blocks",0),h("rectClicked",function(i){return n.bit(i)})("cellCount",function(i){return n.cellCount=i}),r(),_(6,"hr"),c(7,"button",1),h("click",function(){return n.reColor()}),a(8,"ReColor"),r()),e&2&&(l(3),T("this image contains over ",w(4,2,n.cellCount)," elements"),l(2),b("recolor",n.count))},dependencies:[x,z],styles:["h1[_ngcontent-%COMP%]{margin:0;font-size:1.2rem}hr[_ngcontent-%COMP%]{margin-inline:0;margin-block:.25rem}app-blocks[_ngcontent-%COMP%]{inline-size:min(77vw,77vh);block-size:min(77vw,77vh)}"]})}}return o})();export{X as SvgTestComponent};
