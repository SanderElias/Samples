import{e as D}from"./chunk-3ER4ZWJK.js";import{h as k}from"./chunk-L6IEBM7H.js";import"./chunk-TP3JKZKH.js";import{$b as o,Ac as O,Ea as m,Rc as p,Zc as _,_a as a,_b as n,aa as C,ac as S,ec as z,fa as h,hd as R,jc as P,ka as f,la as b,rc as E,sb as x,sc as w,uc as s,wa as g,xc as l,zc as M}from"./chunk-52KW3IT7.js";import"./chunk-C6Q5SG76.js";var j=["gridContainer"],B=(()=>{class r{constructor(){this.mouseOnCell=g({x:0,y:0},{equal:(t,e)=>t.x===e.x&&t.y===e.y}),this.gridContainerRef=_("gridContainer",{read:m}),this.gridContainer=p(()=>D(this.gridContainerRef()?.nativeElement)),this.gridProps=g({cellSize:0,gap:0,xCells:0,yCells:0}),this._=R({read:()=>{let t=this.gridContainer(),e=getComputedStyle(t);this.gridProps.set({cellSize:parseFloat(e.getPropertyValue("--cellSize")||"10"),gap:parseFloat(e.getPropertyValue("--gap")||"1"),xCells:Number(e.getPropertyValue("--xCells")||"40"),yCells:Number(e.getPropertyValue("--yCells")||"40")})}}),this.user=h(F).user}mouseToXY(t){let e=this.gridContainer(),{cellSize:i,gap:d,xCells:u,yCells:c}=this.gridProps(),v=e.getBoundingClientRect(),N=t.clientX-v.left,V=t.clientY-v.top,y=i+d,G=Math.min(u,Math.floor(N/y)+1),I=Math.min(c,Math.floor(V/y)+1);this.mouseOnCell.set({x:G,y:I})}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275cmp=x({type:r,selectors:[["se-grid-play"]],viewQuery:function(e,i){e&1&&E(i.gridContainerRef,j,5,m),e&2&&w()},decls:11,vars:15,consts:[["gridContainer",""],[1,"grid-container",3,"mousemove"],[1,"grid-item"],[1,"mouse-indicator"],["id","cell-coords"]],template:function(e,i){if(e&1){let d=z();n(0,"h1"),l(1),o(),n(2,"div",1,0),P("mousemove",function(c){return f(d),b(i.mouseToXY(c))}),n(4,"div",2),l(5,"1"),o(),n(6,"div",2),l(7,"3"),o(),S(8,"div",3),o(),n(9,"div",4),l(10),o()}e&2&&(a(),M("Grid Play ",i.user()),a(3),s("--x",1)("--y",1),a(2),s("--x",2)("--y",2),a(2),s("--x",i.mouseOnCell().x)("--y",i.mouseOnCell().y),a(2),O("",i.mouseOnCell().x,", ",i.mouseOnCell().y))},styles:["[_nghost-%COMP%]{display:block;--cellSize: 25px;--xCells: 25;--yCells: 25;--gap: 1px;--accent1: #f082cb;--accent2: #9c1d7c}.mouse-indicator[_ngcontent-%COMP%]{display:none;width:calc(var(--cellSize) - (2 * var(--gap)));height:calc(var(--cellSize) - (2 * var(--gap)));pointer-events:none;border:2px solid black;border-radius:4px;box-sizing:border-box;grid-column-start:var(--x);grid-row-start:var(--y)}.grid-container[_ngcontent-%COMP%]{display:grid;inline-size:calc(var(--xCells) * var(--cellSize) + (var(--xCells) - 1) * var(--gap));block-size:calc(var(--yCells) * var(--cellSize) + (var(--yCells) - 1) * var(--gap));grid-template-columns:repeat(var(--xCells),var(--cellSize));grid-template-rows:repeat(var(--yCells),var(--cellSize));gap:var(--gap);align-items:center;justify-items:center;border:1px solid white;background-image:repeating-linear-gradient(to right,white 0 var(--gap),rgba(255,255,255,0) var(--gap) calc(var(--cellSize) + var(--gap))),repeating-linear-gradient(to bottom,white 0 var(--gap),rgba(255,255,255,0) var(--gap) calc(var(--cellSize) + var(--gap))),linear-gradient(135deg,var(--accent1) 0%,var(--accent2) 100%);background-position:calc(var(--cellSize)) 0,0 calc(var(--cellSize)),0 0;background-repeat:repeat,repeat,no-repeat;background-size:auto;background-clip:padding-box}.grid-container[_ngcontent-%COMP%]:hover   .mouse-indicator[_ngcontent-%COMP%]{display:block}.grid-item[_ngcontent-%COMP%]{--x: attr(data-x type(<number>));--y: attr(data-y type(<number>));font-weight:700;font-size:calc(var(--cellSize) * .95);color:#fff;text-shadow:0 0 3px rgba(0,0,0,.5);border-radius:4px;grid-column-start:var(--x);grid-row-start:var(--y)}"]})}}return r})(),F=(()=>{class r{constructor(){this.userRs=k(()=>({url:"https://auth.eliasweb.nl/api/state",mode:"cors",credentials:"include"})),this.user=p(()=>this.userRs.hasValue()?this.userRs.value()?.data?.username:void 0)}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275prov=C({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();export{B as GridPlayComponent};
