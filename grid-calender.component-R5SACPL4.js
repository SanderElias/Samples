import{m as c}from"./chunk-KJKGJ6N4.js";import{Ab as D,Fb as u,Gb as y,Hb as C,Ib as i,Jb as o,Kb as S,Ob as P,Rb as O,Sb as w,Ya as p,ac as s,bc as x,cc as F,lb as d,na as b,oa as v,yb as h}from"./chunk-7PPZN5LC.js";import"./chunk-KAT7YFEL.js";var T=(()=>{class n{get active(){return!this.day.isCurrentMonth}get special(){return this.day.isSpecial}get first(){return this.day.isFirstSelected}get last(){return this.day.isLastSelected}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=d({type:n,selectors:[["se-day-cell"]],hostVars:8,hostBindings:function(t,r){t&2&&D("mute",r.active)("special",r.special)("first",r.first)("last",r.last)},inputs:{day:"day"},decls:1,vars:1,template:function(t,r){t&1&&s(0),t&2&&F(" ",r.day.day," ")},dependencies:[c],styles:["@layer se_calendar.day{[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}.mute[_nghost-%COMP%], .mute[_nghost-%COMP%]:hover{opacity:.3;border-radius:50%;cursor:not-allowed;background-color:inherit;margin:inherit;font-weight:inherit;font-size:inherit}[_nghost-%COMP%]:hover{font-weight:bolder;font-size:1.2em}.first[_nghost-%COMP%], .last[_nghost-%COMP%]{background-color:#1d0236cc}.first[_nghost-%COMP%], .first[_nghost-%COMP%]:hover{border-top-left-radius:25%;border-bottom-left-radius:25%;margin-right:-.25rem;border-right:0}.last[_nghost-%COMP%], .last[_nghost-%COMP%]:hover{border-top-right-radius:25%;border-bottom-right-radius:25%;border-left:0}}"]})}}return n})();function I(n,m){if(n&1){let e=P();i(0,"se-day-cell",1),O("click",function(){let r=b(e).$implicit,l=w();return v(l.select(r))}),o()}if(n&2){let e=m.$implicit;h("day",e)}}var E=(()=>{class n{set date(e){e?.constructor?.name==="Date"&&(this.days=this.calcDateArray(e),e.getMonth()===0&&(this.days[12].isFirstSelected=!0,this.days[17].isLastSelected=!0))}get monthName(){return this.days[10].date.toLocaleString("default",{month:"long"})}select(e){if(e.isCurrentMonth===!1)return;let t=this.days.find(l=>l.isFirstSelected),r=this.days.find(l=>l.isLastSelected);if(console.log({day:e,first:t,last:r}),!t){e.isFirstSelected=!0;return}if(e.date<t.date){t.isFirstSelected=!1,e.isFirstSelected=!0;return}r&&(r.isLastSelected=!1),e.isLastSelected=!0}calcDateArray(e){let t=a=>new Date(a.getTime()+864e5),r=a=>new Date(e.getFullYear(),e.getMonth(),a),l=new Date(e.getFullYear(),e.getMonth(),1),M=new Date(e.getFullYear(),e.getMonth()+1,0),g=[];for(let a=0;a<l.getDay();a++){let L=e.getTime()-(l.getDay()-a)*24*60*60*1e3;g.push(_(new Date(L),!1))}for(let a=1;a<=M.getDate();a++)g.push(_(r(a)));let f=t(M);for(;f.getDay()!==0;)g.push(_(f,!1)),f=t(f);return g}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=d({type:n,selectors:[["se-month"]],inputs:{date:"date"},decls:18,vars:1,consts:[[3,"day"],[3,"click","day"]],template:function(t,r){t&1&&(i(0,"h2"),s(1),o(),i(2,"span"),s(3,"S"),o(),i(4,"span"),s(5,"M"),o(),i(6,"span"),s(7,"T"),o(),i(8,"span"),s(9,"W"),o(),i(10,"span"),s(11,"T"),o(),i(12,"span"),s(13,"F"),o(),i(14,"span"),s(15,"S"),o(),y(16,I,1,1,"se-day-cell",0,u)),t&2&&(p(),x(r.monthName),p(15),C(r.days))},dependencies:[c,T],styles:["@layer se_calendar.month{[_nghost-%COMP%]{display:grid;height:fit-content;width:fit-content;grid-template-columns:repeat(7,40px);grid-auto-rows:40px;gap:.25rem}h2[_ngcontent-%COMP%]{grid-column:1 / -1;text-align:center;padding:7px;margin:0}se-day-cell[_ngcontent-%COMP%]{border:1px solid black}span[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;font-weight:bolder;padding:0}.first[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:has(~.last){background-color:#1d023673;margin-right:-.25rem;border-left:0;border-right:0}se-day-cell[_ngcontent-%COMP%]:hover{background-color:#b99f2d}se-day-cell[_ngcontent-%COMP%]:hover:were(:has(~ .first)){border-radius:25% 0 0 25%}se-day-cell[_ngcontent-%COMP%]:hover ~ [_ngcontent-%COMP%]:has(~.first){background-color:#b99f2d;border-left:0;border-right:0;margin-right:-.5rem}se-day-cell[_ngcontent-%COMP%]:hover:has(~.first){background-color:#b99f2dc4;border-right:0;border-radius:25% 0 0 25%;margin-right:-.5rem}.last[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:has(~se-day-cell:hover){background-color:#b99f2d;border-left:0;border-right:0;margin-left:-.5rem}.last[_ngcontent-%COMP%] ~ se-day-cell[_ngcontent-%COMP%]:hover{background-color:#b99f2dc4;border-left:0;border-radius:0 25% 25% 0;margin-left:-.5rem}}"]})}}return n})();function _(n,m=!0){return{date:n,day:n.getDate(),isCurrentMonth:m,isFirstSelected:!1,isLastSelected:!1,isSpecial:!1}}function B(n,m){if(n&1&&S(0,"se-month",0),n&2){let e=m.$implicit;h("date",e)}}var H=(()=>{class n{constructor(){this.date=new Date("2023-05-01"),this.months=[0,1,2,3,4,5,6,7,8,9,10,11].map(e=>new Date(this.date.getFullYear(),e,1))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=d({type:n,selectors:[["se-grid-calender"]],decls:5,vars:0,consts:[[3,"date"]],template:function(t,r){t&1&&(i(0,"h1"),s(1,"Grid Calender"),o(),i(2,"div"),y(3,B,1,1,"se-month",0,u),o()),t&2&&(p(3),C(r.months))},dependencies:[c,E],styles:["@layer se_calendar.overview,se_calendar.month,se_calendar.day;@layer se_calendar.overview{[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,352px);grid-template-rows:auto 1fr;gap:2rem}}"]})}}return n})();export{H as GridCalenderComponent};
