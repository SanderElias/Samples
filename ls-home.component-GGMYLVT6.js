import{a as M}from"./chunk-PUMJTBDU.js";import{d as D}from"./chunk-PLJSBLNT.js";import"./chunk-YCVI755P.js";import"./chunk-CXEYGQD6.js";import{j as F,k as q}from"./chunk-4XL46QIM.js";import{B as $,Hb as V,Jb as A,Kb as H,Nb as O,Qb as R,R as f,Rb as W,Ta as E,Tb as B,V as w,X as u,Xa as _,_a as k,db as I,f as S,fb as j,gb as c,ha as C,hb as a,jb as L,kb as Q,mb as P,o as l,p as x,pb as b,qa as d,qb as v,ra as h,vb as s,w as y,wb as T}from"./chunk-ZWPQDWQV.js";import{a as m,b as p}from"./chunk-G5KKTNWD.js";var z=["b"];function G(r,i){if(r&1){let t=P();L(0),c(1,"button",1,2),b("click",function(){d(t);let n=v();return h(n.updateCounterWith(-1))}),s(3,"-1"),a(),c(4,"span"),s(5),a(),c(6,"button",1,2),b("click",function(){d(t);let n=v();return h(n.updateCounterWith(1))}),s(8,"+1"),a(),Q()}if(r&2){let t=i.ngIf;_(5),T(t.count)}}var o=class{constructor(i){this.route=i,this.localState$=new S({count:0}),this.id$=this.route.params.pipe(f("id"),l(t=>+t)),this.clicks$=this.localState$.pipe(f("buttons"),$(t=>t instanceof O),l(t=>t.toArray().map(e=>e.nativeElement)),u(t=>t.forEach(e=>console.log(e))),w(t=>y(t,"click")),u(t=>console.log({cl:t}))).subscribe(console.log),this.vm$=x({id:this.id$,state:this.localState$}).pipe(l(t=>({id:t.id,count:t.state.count||0})),u(console.log))}ngOnInit(){}updateCounterWith(i){this.localState$.next(p(m({},this.localState$.value),{count:this.localState$.value.count+i}))}},g=o;(()=>{o.\u0275fac=function(t){return new(t||o)(k(D))}})(),(()=>{o.\u0275cmp=C({type:o,selectors:[["app-ls-home"]],viewQuery:function(t,e){if(t&1&&W(z,5,E),t&2){let n;R(n=B())&&(e.buttons=n)}},standalone:!0,features:[V],decls:4,vars:3,consts:[[4,"ngIf"],[3,"click"],["b",""]],template:function(t,e){t&1&&(c(0,"h2"),s(1," test some state"),a(),I(2,G,9,1,"ng-container",0),A(3,"async")),t&2&&(_(2),j("ngIf",H(3,1,e.vm$)))},dependencies:[F,q],encapsulation:2})})();M([J("localState$")],g.prototype,"buttons",void 0);var et=Symbol("subjectProp");function J(r){return(i,t)=>{Object.defineProperty(i,t,{set:function(e){let n=this[r];e&&n.next(p(m({},n.value),{[t]:e}))},get:function(){throw new Error(`Don't read the "${t}" directly, instead take it from the "${r}" behaviourSubject`)},configurable:!1,enumerable:!0})}}export{g as LsHomeComponent,J as ObservableInput};
