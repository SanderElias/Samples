function i(e){return new Promise((n,t)=>{e.oncomplete=e.onsuccess=()=>n(e.result),e.onabort=e.onerror=()=>t(e.error)})}function s(e,n){let t=indexedDB.open(e);t.onupgradeneeded=()=>t.result.createObjectStore(n);let r=i(t);return(c,l)=>r.then(o=>l(o.transaction(n,c).objectStore(n)))}var u;function a(){return u||(u=s("keyval-store","keyval")),u}function f(e,n=a()){return n("readonly",t=>i(t.get(e)))}function d(e,n,t=a()){return t("readwrite",r=>(r.put(n,e),i(r.transaction)))}export{f as a,d as b};
