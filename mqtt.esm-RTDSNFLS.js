import{a as Pe,b as Ge,c as jr}from"./chunk-C6Q5SG76.js";var Bi=Object.defineProperty,Ba=Object.getOwnPropertyDescriptor,Ua=Object.getOwnPropertyNames,La=Object.prototype.hasOwnProperty,Ve=(y,c)=>()=>(y&&(c=y(y=0)),c),pe=(y,c)=>()=>(c||y((c={exports:{}}).exports,c),c.exports),jt=(y,c)=>{for(var l in c)Bi(y,l,{get:c[l],enumerable:!0})},Da=(y,c,l,a)=>{if(c&&typeof c=="object"||typeof c=="function")for(let u of Ua(c))!La.call(y,u)&&u!==l&&Bi(y,u,{get:()=>c[u],enumerable:!(a=Ba(c,u))||a.enumerable});return y},Re=y=>Da(Bi({},"__esModule",{value:!0}),y),le=Ve(()=>{}),Ce={};jt(Ce,{_debugEnd:()=>mn,_debugProcess:()=>bn,_events:()=>Mn,_eventsCount:()=>jn,_exiting:()=>rn,_fatalExceptions:()=>dn,_getActiveHandles:()=>fs,_getActiveRequests:()=>hs,_kill:()=>sn,_linkedBinding:()=>us,_maxListeners:()=>Cn,_preload_modules:()=>Pn,_rawDebug:()=>Zr,_startProfilerIdleNotifier:()=>vn,_stopProfilerIdleNotifier:()=>wn,_tickCallback:()=>yn,abort:()=>An,addListener:()=>Nn,allowedNodeEnvironmentFlags:()=>fn,arch:()=>Dr,argv:()=>qr,argv0:()=>kn,assert:()=>ps,binding:()=>Hr,browser:()=>Xr,chdir:()=>Yr,config:()=>nn,cpuUsage:()=>qt,cwd:()=>Qr,debugPort:()=>On,default:()=>Li,dlopen:()=>cs,domain:()=>tn,emit:()=>Fn,emitWarning:()=>Kr,env:()=>Wr,execArgv:()=>$r,execPath:()=>Tn,exit:()=>cn,features:()=>pn,hasUncaughtExceptionCaptureCallback:()=>ds,hrtime:()=>tr,kill:()=>un,listeners:()=>ys,memoryUsage:()=>ln,moduleLoadList:()=>en,nextTick:()=>as,off:()=>Un,on:()=>it,once:()=>Bn,openStdin:()=>hn,pid:()=>In,platform:()=>Fr,ppid:()=>xn,prependListener:()=>Wn,prependOnceListener:()=>qn,reallyExit:()=>on,release:()=>Jr,removeAllListeners:()=>Dn,removeListener:()=>Ln,resourceUsage:()=>an,setSourceMapsEnabled:()=>Rn,setUncaughtExceptionCaptureCallback:()=>gn,stderr:()=>Sn,stdin:()=>En,stdout:()=>_n,title:()=>Lr,umask:()=>Gr,uptime:()=>gs,version:()=>zr,versions:()=>Vr});function Ui(y){throw new Error("Node.js process "+y+" is not supported by JSPM core outside of Node.js")}function Fa(){!At||!St||(At=!1,St.length?tt=St.concat(tt):Kt=-1,tt.length&&ss())}function ss(){if(!At){var y=setTimeout(Fa,0);At=!0;for(var c=tt.length;c;){for(St=tt,tt=[];++Kt<c;)St&&St[Kt].run();Kt=-1,c=tt.length}St=null,At=!1,clearTimeout(y)}}function as(y){var c=new Array(arguments.length-1);if(arguments.length>1)for(var l=1;l<arguments.length;l++)c[l-1]=arguments[l];tt.push(new ls(y,c)),tt.length===1&&!At&&setTimeout(ss,0)}function ls(y,c){this.fun=y,this.array=c}function De(){}function us(y){Ui("_linkedBinding")}function cs(y){Ui("dlopen")}function hs(){return[]}function fs(){return[]}function ps(y,c){if(!y)throw new Error(c||"assertion error")}function ds(){return!1}function gs(){return st.now()/1e3}function tr(y){var c=Math.floor((Date.now()-st.now())*.001),l=st.now()*.001,a=Math.floor(l)+c,u=Math.floor(l%1*1e9);return y&&(a=a-y[0],u=u-y[1],u<0&&(a--,u+=rr)),[a,u]}function it(){return Li}function ys(y){return[]}var tt,At,St,Kt,Lr,Dr,Fr,Wr,qr,$r,zr,Vr,Kr,Hr,Gr,Qr,Yr,Jr,Xr,Zr,en,tn,rn,nn,on,sn,qt,an,ln,un,cn,hn,fn,pn,dn,gn,yn,bn,mn,vn,wn,_n,Sn,En,An,In,xn,Tn,On,kn,Pn,Rn,st,Nr,rr,Cn,Mn,jn,Nn,Bn,Un,Ln,Dn,Fn,Wn,qn,Li,Wa=Ve(()=>{le(),ce(),ue(),tt=[],At=!1,Kt=-1,ls.prototype.run=function(){this.fun.apply(null,this.array)},Lr="browser",Dr="x64",Fr="browser",Wr={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},qr=["/usr/bin/node"],$r=[],zr="v16.8.0",Vr={},Kr=function(y,c){console.warn((c?c+": ":"")+y)},Hr=function(y){Ui("binding")},Gr=function(y){return 0},Qr=function(){return"/"},Yr=function(y){},Jr={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Xr=!0,Zr=De,en=[],tn={},rn=!1,nn={},on=De,sn=De,qt=function(){return{}},an=qt,ln=qt,un=De,cn=De,hn=De,fn={},pn={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},dn=De,gn=De,yn=De,bn=De,mn=De,vn=De,wn=De,_n=void 0,Sn=void 0,En=void 0,An=De,In=2,xn=1,Tn="/bin/usr/node",On=9229,kn="node",Pn=[],Rn=De,st={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},st.now===void 0&&(Nr=Date.now(),st.timing&&st.timing.navigationStart&&(Nr=st.timing.navigationStart),st.now=()=>Date.now()-Nr),rr=1e9,tr.bigint=function(y){var c=tr(y);return typeof BigInt>"u"?c[0]*rr+c[1]:BigInt(c[0]*rr)+BigInt(c[1])},Cn=10,Mn={},jn=0,Nn=it,Bn=it,Un=it,Ln=it,Dn=it,Fn=De,Wn=it,qn=it,Li={version:zr,versions:Vr,arch:Dr,platform:Fr,browser:Xr,release:Jr,_rawDebug:Zr,moduleLoadList:en,binding:Hr,_linkedBinding:us,_events:Mn,_eventsCount:jn,_maxListeners:Cn,on:it,addListener:Nn,once:Bn,off:Un,removeListener:Ln,removeAllListeners:Dn,emit:Fn,prependListener:Wn,prependOnceListener:qn,listeners:ys,domain:tn,_exiting:rn,config:nn,dlopen:cs,uptime:gs,_getActiveRequests:hs,_getActiveHandles:fs,reallyExit:on,_kill:sn,cpuUsage:qt,resourceUsage:an,memoryUsage:ln,kill:un,exit:cn,openStdin:hn,allowedNodeEnvironmentFlags:fn,assert:ps,features:pn,_fatalExceptions:dn,setUncaughtExceptionCaptureCallback:gn,hasUncaughtExceptionCaptureCallback:ds,emitWarning:Kr,nextTick:as,_tickCallback:yn,_debugProcess:bn,_debugEnd:mn,_startProfilerIdleNotifier:vn,_stopProfilerIdleNotifier:wn,stdout:_n,stdin:En,stderr:Sn,abort:An,umask:Gr,chdir:Yr,cwd:Qr,env:Wr,title:Lr,argv:qr,execArgv:$r,pid:In,ppid:xn,execPath:Tn,debugPort:On,hrtime:tr,argv0:kn,_preload_modules:Pn,setSourceMapsEnabled:Rn}}),ue=Ve(()=>{Wa()});function qa(){if($n)return Rt;$n=!0,Rt.byteLength=n,Rt.toByteArray=i,Rt.fromByteArray=d;for(var y=[],c=[],l=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,r=a.length;u<r;++u)y[u]=a[u],c[a.charCodeAt(u)]=u;c[45]=62,c[95]=63;function t(b){var v=b.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=b.indexOf("=");p===-1&&(p=v);var g=p===v?0:4-p%4;return[p,g]}function n(b){var v=t(b),p=v[0],g=v[1];return(p+g)*3/4-g}function e(b,v,p){return(v+p)*3/4-p}function i(b){var v,p=t(b),g=p[0],_=p[1],h=new l(e(b,g,_)),w=0,E=_>0?g-4:g,m;for(m=0;m<E;m+=4)v=c[b.charCodeAt(m)]<<18|c[b.charCodeAt(m+1)]<<12|c[b.charCodeAt(m+2)]<<6|c[b.charCodeAt(m+3)],h[w++]=v>>16&255,h[w++]=v>>8&255,h[w++]=v&255;return _===2&&(v=c[b.charCodeAt(m)]<<2|c[b.charCodeAt(m+1)]>>4,h[w++]=v&255),_===1&&(v=c[b.charCodeAt(m)]<<10|c[b.charCodeAt(m+1)]<<4|c[b.charCodeAt(m+2)]>>2,h[w++]=v>>8&255,h[w++]=v&255),h}function o(b){return y[b>>18&63]+y[b>>12&63]+y[b>>6&63]+y[b&63]}function f(b,v,p){for(var g,_=[],h=v;h<p;h+=3)g=(b[h]<<16&16711680)+(b[h+1]<<8&65280)+(b[h+2]&255),_.push(o(g));return _.join("")}function d(b){for(var v,p=b.length,g=p%3,_=[],h=16383,w=0,E=p-g;w<E;w+=h)_.push(f(b,w,w+h>E?E:w+h));return g===1?(v=b[p-1],_.push(y[v>>2]+y[v<<4&63]+"==")):g===2&&(v=(b[p-2]<<8)+b[p-1],_.push(y[v>>10]+y[v>>4&63]+y[v<<2&63]+"=")),_.join("")}return Rt}function $a(){return zn?$t:(zn=!0,$t.read=function(y,c,l,a,u){var r,t,n=u*8-a-1,e=(1<<n)-1,i=e>>1,o=-7,f=l?u-1:0,d=l?-1:1,b=y[c+f];for(f+=d,r=b&(1<<-o)-1,b>>=-o,o+=n;o>0;r=r*256+y[c+f],f+=d,o-=8);for(t=r&(1<<-o)-1,r>>=-o,o+=a;o>0;t=t*256+y[c+f],f+=d,o-=8);if(r===0)r=1-i;else{if(r===e)return t?NaN:(b?-1:1)*(1/0);t=t+Math.pow(2,a),r=r-i}return(b?-1:1)*t*Math.pow(2,r-a)},$t.write=function(y,c,l,a,u,r){var t,n,e,i=r*8-u-1,o=(1<<i)-1,f=o>>1,d=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=a?0:r-1,v=a?1:-1,p=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(n=isNaN(c)?1:0,t=o):(t=Math.floor(Math.log(c)/Math.LN2),c*(e=Math.pow(2,-t))<1&&(t--,e*=2),t+f>=1?c+=d/e:c+=d*Math.pow(2,1-f),c*e>=2&&(t++,e/=2),t+f>=o?(n=0,t=o):t+f>=1?(n=(c*e-1)*Math.pow(2,u),t=t+f):(n=c*Math.pow(2,f-1)*Math.pow(2,u),t=0));u>=8;y[l+b]=n&255,b+=v,n/=256,u-=8);for(t=t<<u|n,i+=u;i>0;y[l+b]=t&255,b+=v,t/=256,i-=8);y[l+b-v]|=p*128},$t)}function za(){if(Vn)return gt;Vn=!0;let y=qa(),c=$a(),l=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;gt.Buffer=t,gt.SlowBuffer=_,gt.INSPECT_MAX_BYTES=50;let a=2147483647;gt.kMaxLength=a,t.TYPED_ARRAY_SUPPORT=u(),!t.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{let s=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(s,S),s.foo()===42}catch{return!1}}Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}});function r(s){if(s>a)throw new RangeError('The value "'+s+'" is invalid for option "size"');let S=new Uint8Array(s);return Object.setPrototypeOf(S,t.prototype),S}function t(s,S,x){if(typeof s=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return o(s)}return n(s,S,x)}t.poolSize=8192;function n(s,S,x){if(typeof s=="string")return f(s,S);if(ArrayBuffer.isView(s))return b(s);if(s==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s);if(q(s,ArrayBuffer)||s&&q(s.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(q(s,SharedArrayBuffer)||s&&q(s.buffer,SharedArrayBuffer)))return v(s,S,x);if(typeof s=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let W=s.valueOf&&s.valueOf();if(W!=null&&W!==s)return t.from(W,S,x);let J=p(s);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof s[Symbol.toPrimitive]=="function")return t.from(s[Symbol.toPrimitive]("string"),S,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s)}t.from=function(s,S,x){return n(s,S,x)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array);function e(s){if(typeof s!="number")throw new TypeError('"size" argument must be of type number');if(s<0)throw new RangeError('The value "'+s+'" is invalid for option "size"')}function i(s,S,x){return e(s),s<=0?r(s):S!==void 0?typeof x=="string"?r(s).fill(S,x):r(s).fill(S):r(s)}t.alloc=function(s,S,x){return i(s,S,x)};function o(s){return e(s),r(s<0?0:g(s)|0)}t.allocUnsafe=function(s){return o(s)},t.allocUnsafeSlow=function(s){return o(s)};function f(s,S){if((typeof S!="string"||S==="")&&(S="utf8"),!t.isEncoding(S))throw new TypeError("Unknown encoding: "+S);let x=h(s,S)|0,W=r(x),J=W.write(s,S);return J!==x&&(W=W.slice(0,J)),W}function d(s){let S=s.length<0?0:g(s.length)|0,x=r(S);for(let W=0;W<S;W+=1)x[W]=s[W]&255;return x}function b(s){if(q(s,Uint8Array)){let S=new Uint8Array(s);return v(S.buffer,S.byteOffset,S.byteLength)}return d(s)}function v(s,S,x){if(S<0||s.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(s.byteLength<S+(x||0))throw new RangeError('"length" is outside of buffer bounds');let W;return S===void 0&&x===void 0?W=new Uint8Array(s):x===void 0?W=new Uint8Array(s,S):W=new Uint8Array(s,S,x),Object.setPrototypeOf(W,t.prototype),W}function p(s){if(t.isBuffer(s)){let S=g(s.length)|0,x=r(S);return x.length===0||s.copy(x,0,0,S),x}if(s.length!==void 0)return typeof s.length!="number"||de(s.length)?r(0):d(s);if(s.type==="Buffer"&&Array.isArray(s.data))return d(s.data)}function g(s){if(s>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return s|0}function _(s){return+s!=s&&(s=0),t.alloc(+s)}t.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==t.prototype},t.compare=function(s,S){if(q(s,Uint8Array)&&(s=t.from(s,s.offset,s.byteLength)),q(S,Uint8Array)&&(S=t.from(S,S.offset,S.byteLength)),!t.isBuffer(s)||!t.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===S)return 0;let x=s.length,W=S.length;for(let J=0,ae=Math.min(x,W);J<ae;++J)if(s[J]!==S[J]){x=s[J],W=S[J];break}return x<W?-1:W<x?1:0},t.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(s,S){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return t.alloc(0);let x;if(S===void 0)for(S=0,x=0;x<s.length;++x)S+=s[x].length;let W=t.allocUnsafe(S),J=0;for(x=0;x<s.length;++x){let ae=s[x];if(q(ae,Uint8Array))J+ae.length>W.length?(t.isBuffer(ae)||(ae=t.from(ae)),ae.copy(W,J)):Uint8Array.prototype.set.call(W,ae,J);else if(t.isBuffer(ae))ae.copy(W,J);else throw new TypeError('"list" argument must be an Array of Buffers');J+=ae.length}return W};function h(s,S){if(t.isBuffer(s))return s.length;if(ArrayBuffer.isView(s)||q(s,ArrayBuffer))return s.byteLength;if(typeof s!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof s);let x=s.length,W=arguments.length>2&&arguments[2]===!0;if(!W&&x===0)return 0;let J=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return F(s).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return fe(s).length;default:if(J)return W?-1:F(s).length;S=(""+S).toLowerCase(),J=!0}}t.byteLength=h;function w(s,S,x){let W=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,S>>>=0,x<=S))return"";for(s||(s="utf8");;)switch(s){case"hex":return z(this,S,x);case"utf8":case"utf-8":return L(this,S,x);case"ascii":return oe(this,S,x);case"latin1":case"binary":return X(this,S,x);case"base64":return O(this,S,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,S,x);default:if(W)throw new TypeError("Unknown encoding: "+s);s=(s+"").toLowerCase(),W=!0}}t.prototype._isBuffer=!0;function E(s,S,x){let W=s[S];s[S]=s[x],s[x]=W}t.prototype.swap16=function(){let s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let S=0;S<s;S+=2)E(this,S,S+1);return this},t.prototype.swap32=function(){let s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let S=0;S<s;S+=4)E(this,S,S+3),E(this,S+1,S+2);return this},t.prototype.swap64=function(){let s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let S=0;S<s;S+=8)E(this,S,S+7),E(this,S+1,S+6),E(this,S+2,S+5),E(this,S+3,S+4);return this},t.prototype.toString=function(){let s=this.length;return s===0?"":arguments.length===0?L(this,0,s):w.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(s){if(!t.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:t.compare(this,s)===0},t.prototype.inspect=function(){let s="",S=gt.INSPECT_MAX_BYTES;return s=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(s+=" ... "),"<Buffer "+s+">"},l&&(t.prototype[l]=t.prototype.inspect),t.prototype.compare=function(s,S,x,W,J){if(q(s,Uint8Array)&&(s=t.from(s,s.offset,s.byteLength)),!t.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(S===void 0&&(S=0),x===void 0&&(x=s?s.length:0),W===void 0&&(W=0),J===void 0&&(J=this.length),S<0||x>s.length||W<0||J>this.length)throw new RangeError("out of range index");if(W>=J&&S>=x)return 0;if(W>=J)return-1;if(S>=x)return 1;if(S>>>=0,x>>>=0,W>>>=0,J>>>=0,this===s)return 0;let ae=J-W,ve=x-S,G=Math.min(ae,ve),re=this.slice(W,J),xe=s.slice(S,x);for(let Te=0;Te<G;++Te)if(re[Te]!==xe[Te]){ae=re[Te],ve=xe[Te];break}return ae<ve?-1:ve<ae?1:0};function m(s,S,x,W,J){if(s.length===0)return-1;if(typeof x=="string"?(W=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,de(x)&&(x=J?0:s.length-1),x<0&&(x=s.length+x),x>=s.length){if(J)return-1;x=s.length-1}else if(x<0)if(J)x=0;else return-1;if(typeof S=="string"&&(S=t.from(S,W)),t.isBuffer(S))return S.length===0?-1:A(s,S,x,W,J);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(s,S,x):Uint8Array.prototype.lastIndexOf.call(s,S,x):A(s,[S],x,W,J);throw new TypeError("val must be string, number or Buffer")}function A(s,S,x,W,J){let ae=1,ve=s.length,G=S.length;if(W!==void 0&&(W=String(W).toLowerCase(),W==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(s.length<2||S.length<2)return-1;ae=2,ve/=2,G/=2,x/=2}function re(Te,Oe){return ae===1?Te[Oe]:Te.readUInt16BE(Oe*ae)}let xe;if(J){let Te=-1;for(xe=x;xe<ve;xe++)if(re(s,xe)===re(S,Te===-1?0:xe-Te)){if(Te===-1&&(Te=xe),xe-Te+1===G)return Te*ae}else Te!==-1&&(xe-=xe-Te),Te=-1}else for(x+G>ve&&(x=ve-G),xe=x;xe>=0;xe--){let Te=!0;for(let Oe=0;Oe<G;Oe++)if(re(s,xe+Oe)!==re(S,Oe)){Te=!1;break}if(Te)return xe}return-1}t.prototype.includes=function(s,S,x){return this.indexOf(s,S,x)!==-1},t.prototype.indexOf=function(s,S,x){return m(this,s,S,x,!0)},t.prototype.lastIndexOf=function(s,S,x){return m(this,s,S,x,!1)};function I(s,S,x,W){x=Number(x)||0;let J=s.length-x;W?(W=Number(W),W>J&&(W=J)):W=J;let ae=S.length;W>ae/2&&(W=ae/2);let ve;for(ve=0;ve<W;++ve){let G=parseInt(S.substr(ve*2,2),16);if(de(G))return ve;s[x+ve]=G}return ve}function T(s,S,x,W){return me(F(S,s.length-x),s,x,W)}function R(s,S,x,W){return me(ee(S),s,x,W)}function C(s,S,x,W){return me(fe(S),s,x,W)}function U(s,S,x,W){return me(he(S,s.length-x),s,x,W)}t.prototype.write=function(s,S,x,W){if(S===void 0)W="utf8",x=this.length,S=0;else if(x===void 0&&typeof S=="string")W=S,x=this.length,S=0;else if(isFinite(S))S=S>>>0,isFinite(x)?(x=x>>>0,W===void 0&&(W="utf8")):(W=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let J=this.length-S;if((x===void 0||x>J)&&(x=J),s.length>0&&(x<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");let ae=!1;for(;;)switch(W){case"hex":return I(this,s,S,x);case"utf8":case"utf-8":return T(this,s,S,x);case"ascii":case"latin1":case"binary":return R(this,s,S,x);case"base64":return C(this,s,S,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,s,S,x);default:if(ae)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),ae=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(s,S,x){return S===0&&x===s.length?y.fromByteArray(s):y.fromByteArray(s.slice(S,x))}function L(s,S,x){x=Math.min(s.length,x);let W=[],J=S;for(;J<x;){let ae=s[J],ve=null,G=ae>239?4:ae>223?3:ae>191?2:1;if(J+G<=x){let re,xe,Te,Oe;switch(G){case 1:ae<128&&(ve=ae);break;case 2:re=s[J+1],(re&192)===128&&(Oe=(ae&31)<<6|re&63,Oe>127&&(ve=Oe));break;case 3:re=s[J+1],xe=s[J+2],(re&192)===128&&(xe&192)===128&&(Oe=(ae&15)<<12|(re&63)<<6|xe&63,Oe>2047&&(Oe<55296||Oe>57343)&&(ve=Oe));break;case 4:re=s[J+1],xe=s[J+2],Te=s[J+3],(re&192)===128&&(xe&192)===128&&(Te&192)===128&&(Oe=(ae&15)<<18|(re&63)<<12|(xe&63)<<6|Te&63,Oe>65535&&Oe<1114112&&(ve=Oe))}}ve===null?(ve=65533,G=1):ve>65535&&(ve-=65536,W.push(ve>>>10&1023|55296),ve=56320|ve&1023),W.push(ve),J+=G}return B(W)}let $=4096;function B(s){let S=s.length;if(S<=$)return String.fromCharCode.apply(String,s);let x="",W=0;for(;W<S;)x+=String.fromCharCode.apply(String,s.slice(W,W+=$));return x}function oe(s,S,x){let W="";x=Math.min(s.length,x);for(let J=S;J<x;++J)W+=String.fromCharCode(s[J]&127);return W}function X(s,S,x){let W="";x=Math.min(s.length,x);for(let J=S;J<x;++J)W+=String.fromCharCode(s[J]);return W}function z(s,S,x){let W=s.length;(!S||S<0)&&(S=0),(!x||x<0||x>W)&&(x=W);let J="";for(let ae=S;ae<x;++ae)J+=Se[s[ae]];return J}function ne(s,S,x){let W=s.slice(S,x),J="";for(let ae=0;ae<W.length-1;ae+=2)J+=String.fromCharCode(W[ae]+W[ae+1]*256);return J}t.prototype.slice=function(s,S){let x=this.length;s=~~s,S=S===void 0?x:~~S,s<0?(s+=x,s<0&&(s=0)):s>x&&(s=x),S<0?(S+=x,S<0&&(S=0)):S>x&&(S=x),S<s&&(S=s);let W=this.subarray(s,S);return Object.setPrototypeOf(W,t.prototype),W};function D(s,S,x){if(s%1!==0||s<0)throw new RangeError("offset is not uint");if(s+S>x)throw new RangeError("Trying to access beyond buffer length")}t.prototype.readUintLE=t.prototype.readUIntLE=function(s,S,x){s=s>>>0,S=S>>>0,x||D(s,S,this.length);let W=this[s],J=1,ae=0;for(;++ae<S&&(J*=256);)W+=this[s+ae]*J;return W},t.prototype.readUintBE=t.prototype.readUIntBE=function(s,S,x){s=s>>>0,S=S>>>0,x||D(s,S,this.length);let W=this[s+--S],J=1;for(;S>0&&(J*=256);)W+=this[s+--S]*J;return W},t.prototype.readUint8=t.prototype.readUInt8=function(s,S){return s=s>>>0,S||D(s,1,this.length),this[s]},t.prototype.readUint16LE=t.prototype.readUInt16LE=function(s,S){return s=s>>>0,S||D(s,2,this.length),this[s]|this[s+1]<<8},t.prototype.readUint16BE=t.prototype.readUInt16BE=function(s,S){return s=s>>>0,S||D(s,2,this.length),this[s]<<8|this[s+1]},t.prototype.readUint32LE=t.prototype.readUInt32LE=function(s,S){return s=s>>>0,S||D(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},t.prototype.readUint32BE=t.prototype.readUInt32BE=function(s,S){return s=s>>>0,S||D(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},t.prototype.readBigUInt64LE=ge(function(s){s=s>>>0,Q(s,"offset");let S=this[s],x=this[s+7];(S===void 0||x===void 0)&&ye(s,this.length-8);let W=S+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24,J=this[++s]+this[++s]*2**8+this[++s]*2**16+x*2**24;return BigInt(W)+(BigInt(J)<<BigInt(32))}),t.prototype.readBigUInt64BE=ge(function(s){s=s>>>0,Q(s,"offset");let S=this[s],x=this[s+7];(S===void 0||x===void 0)&&ye(s,this.length-8);let W=S*2**24+this[++s]*2**16+this[++s]*2**8+this[++s],J=this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+x;return(BigInt(W)<<BigInt(32))+BigInt(J)}),t.prototype.readIntLE=function(s,S,x){s=s>>>0,S=S>>>0,x||D(s,S,this.length);let W=this[s],J=1,ae=0;for(;++ae<S&&(J*=256);)W+=this[s+ae]*J;return J*=128,W>=J&&(W-=Math.pow(2,8*S)),W},t.prototype.readIntBE=function(s,S,x){s=s>>>0,S=S>>>0,x||D(s,S,this.length);let W=S,J=1,ae=this[s+--W];for(;W>0&&(J*=256);)ae+=this[s+--W]*J;return J*=128,ae>=J&&(ae-=Math.pow(2,8*S)),ae},t.prototype.readInt8=function(s,S){return s=s>>>0,S||D(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},t.prototype.readInt16LE=function(s,S){s=s>>>0,S||D(s,2,this.length);let x=this[s]|this[s+1]<<8;return x&32768?x|4294901760:x},t.prototype.readInt16BE=function(s,S){s=s>>>0,S||D(s,2,this.length);let x=this[s+1]|this[s]<<8;return x&32768?x|4294901760:x},t.prototype.readInt32LE=function(s,S){return s=s>>>0,S||D(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},t.prototype.readInt32BE=function(s,S){return s=s>>>0,S||D(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},t.prototype.readBigInt64LE=ge(function(s){s=s>>>0,Q(s,"offset");let S=this[s],x=this[s+7];(S===void 0||x===void 0)&&ye(s,this.length-8);let W=this[s+4]+this[s+5]*2**8+this[s+6]*2**16+(x<<24);return(BigInt(W)<<BigInt(32))+BigInt(S+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24)}),t.prototype.readBigInt64BE=ge(function(s){s=s>>>0,Q(s,"offset");let S=this[s],x=this[s+7];(S===void 0||x===void 0)&&ye(s,this.length-8);let W=(S<<24)+this[++s]*2**16+this[++s]*2**8+this[++s];return(BigInt(W)<<BigInt(32))+BigInt(this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+x)}),t.prototype.readFloatLE=function(s,S){return s=s>>>0,S||D(s,4,this.length),c.read(this,s,!0,23,4)},t.prototype.readFloatBE=function(s,S){return s=s>>>0,S||D(s,4,this.length),c.read(this,s,!1,23,4)},t.prototype.readDoubleLE=function(s,S){return s=s>>>0,S||D(s,8,this.length),c.read(this,s,!0,52,8)},t.prototype.readDoubleBE=function(s,S){return s=s>>>0,S||D(s,8,this.length),c.read(this,s,!1,52,8)};function Z(s,S,x,W,J,ae){if(!t.isBuffer(s))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>J||S<ae)throw new RangeError('"value" argument is out of bounds');if(x+W>s.length)throw new RangeError("Index out of range")}t.prototype.writeUintLE=t.prototype.writeUIntLE=function(s,S,x,W){if(s=+s,S=S>>>0,x=x>>>0,!W){let ve=Math.pow(2,8*x)-1;Z(this,s,S,x,ve,0)}let J=1,ae=0;for(this[S]=s&255;++ae<x&&(J*=256);)this[S+ae]=s/J&255;return S+x},t.prototype.writeUintBE=t.prototype.writeUIntBE=function(s,S,x,W){if(s=+s,S=S>>>0,x=x>>>0,!W){let ve=Math.pow(2,8*x)-1;Z(this,s,S,x,ve,0)}let J=x-1,ae=1;for(this[S+J]=s&255;--J>=0&&(ae*=256);)this[S+J]=s/ae&255;return S+x},t.prototype.writeUint8=t.prototype.writeUInt8=function(s,S,x){return s=+s,S=S>>>0,x||Z(this,s,S,1,255,0),this[S]=s&255,S+1},t.prototype.writeUint16LE=t.prototype.writeUInt16LE=function(s,S,x){return s=+s,S=S>>>0,x||Z(this,s,S,2,65535,0),this[S]=s&255,this[S+1]=s>>>8,S+2},t.prototype.writeUint16BE=t.prototype.writeUInt16BE=function(s,S,x){return s=+s,S=S>>>0,x||Z(this,s,S,2,65535,0),this[S]=s>>>8,this[S+1]=s&255,S+2},t.prototype.writeUint32LE=t.prototype.writeUInt32LE=function(s,S,x){return s=+s,S=S>>>0,x||Z(this,s,S,4,4294967295,0),this[S+3]=s>>>24,this[S+2]=s>>>16,this[S+1]=s>>>8,this[S]=s&255,S+4},t.prototype.writeUint32BE=t.prototype.writeUInt32BE=function(s,S,x){return s=+s,S=S>>>0,x||Z(this,s,S,4,4294967295,0),this[S]=s>>>24,this[S+1]=s>>>16,this[S+2]=s>>>8,this[S+3]=s&255,S+4};function P(s,S,x,W,J){V(S,W,J,s,x,7);let ae=Number(S&BigInt(4294967295));s[x++]=ae,ae=ae>>8,s[x++]=ae,ae=ae>>8,s[x++]=ae,ae=ae>>8,s[x++]=ae;let ve=Number(S>>BigInt(32)&BigInt(4294967295));return s[x++]=ve,ve=ve>>8,s[x++]=ve,ve=ve>>8,s[x++]=ve,ve=ve>>8,s[x++]=ve,x}function Y(s,S,x,W,J){V(S,W,J,s,x,7);let ae=Number(S&BigInt(4294967295));s[x+7]=ae,ae=ae>>8,s[x+6]=ae,ae=ae>>8,s[x+5]=ae,ae=ae>>8,s[x+4]=ae;let ve=Number(S>>BigInt(32)&BigInt(4294967295));return s[x+3]=ve,ve=ve>>8,s[x+2]=ve,ve=ve>>8,s[x+1]=ve,ve=ve>>8,s[x]=ve,x+8}t.prototype.writeBigUInt64LE=ge(function(s,S=0){return P(this,s,S,BigInt(0),BigInt("0xffffffffffffffff"))}),t.prototype.writeBigUInt64BE=ge(function(s,S=0){return Y(this,s,S,BigInt(0),BigInt("0xffffffffffffffff"))}),t.prototype.writeIntLE=function(s,S,x,W){if(s=+s,S=S>>>0,!W){let G=Math.pow(2,8*x-1);Z(this,s,S,x,G-1,-G)}let J=0,ae=1,ve=0;for(this[S]=s&255;++J<x&&(ae*=256);)s<0&&ve===0&&this[S+J-1]!==0&&(ve=1),this[S+J]=(s/ae>>0)-ve&255;return S+x},t.prototype.writeIntBE=function(s,S,x,W){if(s=+s,S=S>>>0,!W){let G=Math.pow(2,8*x-1);Z(this,s,S,x,G-1,-G)}let J=x-1,ae=1,ve=0;for(this[S+J]=s&255;--J>=0&&(ae*=256);)s<0&&ve===0&&this[S+J+1]!==0&&(ve=1),this[S+J]=(s/ae>>0)-ve&255;return S+x},t.prototype.writeInt8=function(s,S,x){return s=+s,S=S>>>0,x||Z(this,s,S,1,127,-128),s<0&&(s=255+s+1),this[S]=s&255,S+1},t.prototype.writeInt16LE=function(s,S,x){return s=+s,S=S>>>0,x||Z(this,s,S,2,32767,-32768),this[S]=s&255,this[S+1]=s>>>8,S+2},t.prototype.writeInt16BE=function(s,S,x){return s=+s,S=S>>>0,x||Z(this,s,S,2,32767,-32768),this[S]=s>>>8,this[S+1]=s&255,S+2},t.prototype.writeInt32LE=function(s,S,x){return s=+s,S=S>>>0,x||Z(this,s,S,4,2147483647,-2147483648),this[S]=s&255,this[S+1]=s>>>8,this[S+2]=s>>>16,this[S+3]=s>>>24,S+4},t.prototype.writeInt32BE=function(s,S,x){return s=+s,S=S>>>0,x||Z(this,s,S,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[S]=s>>>24,this[S+1]=s>>>16,this[S+2]=s>>>8,this[S+3]=s&255,S+4},t.prototype.writeBigInt64LE=ge(function(s,S=0){return P(this,s,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),t.prototype.writeBigInt64BE=ge(function(s,S=0){return Y(this,s,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function be(s,S,x,W,J,ae){if(x+W>s.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function te(s,S,x,W,J){return S=+S,x=x>>>0,J||be(s,S,x,4),c.write(s,S,x,W,23,4),x+4}t.prototype.writeFloatLE=function(s,S,x){return te(this,s,S,!0,x)},t.prototype.writeFloatBE=function(s,S,x){return te(this,s,S,!1,x)};function we(s,S,x,W,J){return S=+S,x=x>>>0,J||be(s,S,x,8),c.write(s,S,x,W,52,8),x+8}t.prototype.writeDoubleLE=function(s,S,x){return we(this,s,S,!0,x)},t.prototype.writeDoubleBE=function(s,S,x){return we(this,s,S,!1,x)},t.prototype.copy=function(s,S,x,W){if(!t.isBuffer(s))throw new TypeError("argument should be a Buffer");if(x||(x=0),!W&&W!==0&&(W=this.length),S>=s.length&&(S=s.length),S||(S=0),W>0&&W<x&&(W=x),W===x||s.length===0||this.length===0)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),s.length-S<W-x&&(W=s.length-S+x);let J=W-x;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(S,x,W):Uint8Array.prototype.set.call(s,this.subarray(x,W),S),J},t.prototype.fill=function(s,S,x,W){if(typeof s=="string"){if(typeof S=="string"?(W=S,S=0,x=this.length):typeof x=="string"&&(W=x,x=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!t.isEncoding(W))throw new TypeError("Unknown encoding: "+W);if(s.length===1){let ae=s.charCodeAt(0);(W==="utf8"&&ae<128||W==="latin1")&&(s=ae)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(S<0||this.length<S||this.length<x)throw new RangeError("Out of range index");if(x<=S)return this;S=S>>>0,x=x===void 0?this.length:x>>>0,s||(s=0);let J;if(typeof s=="number")for(J=S;J<x;++J)this[J]=s;else{let ae=t.isBuffer(s)?s:t.from(s,W),ve=ae.length;if(ve===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(J=0;J<x-S;++J)this[J+S]=ae[J%ve]}return this};let K={};function N(s,S,x){K[s]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${s}]`,this.stack,delete this.name}get code(){return s}set code(W){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:W,writable:!0})}toString(){return`${this.name} [${s}]: ${this.message}`}}}N("ERR_BUFFER_OUT_OF_BOUNDS",function(s){return s?`${s} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),N("ERR_INVALID_ARG_TYPE",function(s,S){return`The "${s}" argument must be of type number. Received type ${typeof S}`},TypeError),N("ERR_OUT_OF_RANGE",function(s,S,x){let W=`The value of "${s}" is out of range.`,J=x;return Number.isInteger(x)&&Math.abs(x)>2**32?J=ie(String(x)):typeof x=="bigint"&&(J=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(J=ie(J)),J+="n"),W+=` It must be ${S}. Received ${J}`,W},RangeError);function ie(s){let S="",x=s.length,W=s[0]==="-"?1:0;for(;x>=W+4;x-=3)S=`_${s.slice(x-3,x)}${S}`;return`${s.slice(0,x)}${S}`}function H(s,S,x){Q(S,"offset"),(s[S]===void 0||s[S+x]===void 0)&&ye(S,s.length-(x+1))}function V(s,S,x,W,J,ae){if(s>x||s<S){let ve=typeof S=="bigint"?"n":"",G;throw S===0||S===BigInt(0)?G=`>= 0${ve} and < 2${ve} ** ${(ae+1)*8}${ve}`:G=`>= -(2${ve} ** ${(ae+1)*8-1}${ve}) and < 2 ** ${(ae+1)*8-1}${ve}`,new K.ERR_OUT_OF_RANGE("value",G,s)}H(W,J,ae)}function Q(s,S){if(typeof s!="number")throw new K.ERR_INVALID_ARG_TYPE(S,"number",s)}function ye(s,S,x){throw Math.floor(s)!==s?(Q(s,x),new K.ERR_OUT_OF_RANGE("offset","an integer",s)):S<0?new K.ERR_BUFFER_OUT_OF_BOUNDS:new K.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${S}`,s)}let se=/[^+/0-9A-Za-z-_]/g;function M(s){if(s=s.split("=")[0],s=s.trim().replace(se,""),s.length<2)return"";for(;s.length%4!==0;)s=s+"=";return s}function F(s,S){S=S||1/0;let x,W=s.length,J=null,ae=[];for(let ve=0;ve<W;++ve){if(x=s.charCodeAt(ve),x>55295&&x<57344){if(!J){if(x>56319){(S-=3)>-1&&ae.push(239,191,189);continue}else if(ve+1===W){(S-=3)>-1&&ae.push(239,191,189);continue}J=x;continue}if(x<56320){(S-=3)>-1&&ae.push(239,191,189),J=x;continue}x=(J-55296<<10|x-56320)+65536}else J&&(S-=3)>-1&&ae.push(239,191,189);if(J=null,x<128){if((S-=1)<0)break;ae.push(x)}else if(x<2048){if((S-=2)<0)break;ae.push(x>>6|192,x&63|128)}else if(x<65536){if((S-=3)<0)break;ae.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((S-=4)<0)break;ae.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return ae}function ee(s){let S=[];for(let x=0;x<s.length;++x)S.push(s.charCodeAt(x)&255);return S}function he(s,S){let x,W,J,ae=[];for(let ve=0;ve<s.length&&!((S-=2)<0);++ve)x=s.charCodeAt(ve),W=x>>8,J=x%256,ae.push(J),ae.push(W);return ae}function fe(s){return y.toByteArray(M(s))}function me(s,S,x,W){let J;for(J=0;J<W&&!(J+x>=S.length||J>=s.length);++J)S[J+x]=s[J];return J}function q(s,S){return s instanceof S||s!=null&&s.constructor!=null&&s.constructor.name!=null&&s.constructor.name===S.name}function de(s){return s!==s}let Se=(function(){let s="0123456789abcdef",S=new Array(256);for(let x=0;x<16;++x){let W=x*16;for(let J=0;J<16;++J)S[W+J]=s[x]+s[J]}return S})();function ge(s){return typeof BigInt>"u"?Ae:s}function Ae(){throw new Error("BigInt not supported")}return gt}var Rt,$n,$t,zn,gt,Vn,Va=Ve(()=>{le(),ce(),ue(),Rt={},$n=!1,$t={},zn=!1,gt={},Vn=!1}),Be={};jt(Be,{Buffer:()=>xr,INSPECT_MAX_BYTES:()=>bs,default:()=>ot,kMaxLength:()=>ms});var ot,xr,bs,ms,Ue=Ve(()=>{le(),ce(),ue(),Va(),ot=za(),ot.Buffer,ot.SlowBuffer,ot.INSPECT_MAX_BYTES,ot.kMaxLength,xr=ot.Buffer,bs=ot.INSPECT_MAX_BYTES,ms=ot.kMaxLength}),ce=Ve(()=>{Ue()}),je=pe((y,c)=>{"use strict";le(),ce(),ue();var l=class extends Error{constructor(a){if(!Array.isArray(a))throw new TypeError(`Expected input to be an Array, got ${typeof a}`);let u="";for(let r=0;r<a.length;r++)u+=`    ${a[r].stack}
`;super(u),this.name="AggregateError",this.errors=a}};c.exports={AggregateError:l,ArrayIsArray(a){return Array.isArray(a)},ArrayPrototypeIncludes(a,u){return a.includes(u)},ArrayPrototypeIndexOf(a,u){return a.indexOf(u)},ArrayPrototypeJoin(a,u){return a.join(u)},ArrayPrototypeMap(a,u){return a.map(u)},ArrayPrototypePop(a,u){return a.pop(u)},ArrayPrototypePush(a,u){return a.push(u)},ArrayPrototypeSlice(a,u,r){return a.slice(u,r)},Error,FunctionPrototypeCall(a,u,...r){return a.call(u,...r)},FunctionPrototypeSymbolHasInstance(a,u){return Function.prototype[Symbol.hasInstance].call(a,u)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(a,u){return Object.defineProperties(a,u)},ObjectDefineProperty(a,u,r){return Object.defineProperty(a,u,r)},ObjectGetOwnPropertyDescriptor(a,u){return Object.getOwnPropertyDescriptor(a,u)},ObjectKeys(a){return Object.keys(a)},ObjectSetPrototypeOf(a,u){return Object.setPrototypeOf(a,u)},Promise,PromisePrototypeCatch(a,u){return a.catch(u)},PromisePrototypeThen(a,u,r){return a.then(u,r)},PromiseReject(a){return Promise.reject(a)},PromiseResolve(a){return Promise.resolve(a)},ReflectApply:Reflect.apply,RegExpPrototypeTest(a,u){return a.test(u)},SafeSet:Set,String,StringPrototypeSlice(a,u,r){return a.slice(u,r)},StringPrototypeToLowerCase(a){return a.toLowerCase()},StringPrototypeToUpperCase(a){return a.toUpperCase()},StringPrototypeTrim(a){return a.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(a,u,r){return a.set(u,r)},Boolean,Uint8Array}}),vs=pe((y,c)=>{"use strict";le(),ce(),ue(),c.exports={format(l,...a){return l.replace(/%([sdifj])/g,function(...[u,r]){let t=a.shift();return r==="f"?t.toFixed(6):r==="j"?JSON.stringify(t):r==="s"&&typeof t=="object"?`${t.constructor!==Object?t.constructor.name:""} {}`.trim():t.toString()})},inspect(l){switch(typeof l){case"string":if(l.includes("'"))if(l.includes('"')){if(!l.includes("`")&&!l.includes("${"))return`\`${l}\``}else return`"${l}"`;return`'${l}'`;case"number":return isNaN(l)?"NaN":Object.is(l,-0)?String(l):l;case"bigint":return`${String(l)}n`;case"boolean":case"undefined":return String(l);case"object":return"{}"}}}}),$e=pe((y,c)=>{"use strict";le(),ce(),ue();var{format:l,inspect:a}=vs(),{AggregateError:u}=je(),r=globalThis.AggregateError||u,t=Symbol("kIsNodeError"),n=["string","function","number","object","Function","Object","boolean","bigint","symbol"],e=/^([A-Z][a-z0-9]*)+$/,i="__node_internal_",o={};function f(h,w){if(!h)throw new o.ERR_INTERNAL_ASSERTION(w)}function d(h){let w="",E=h.length,m=h[0]==="-"?1:0;for(;E>=m+4;E-=3)w=`_${h.slice(E-3,E)}${w}`;return`${h.slice(0,E)}${w}`}function b(h,w,E){if(typeof w=="function")return f(w.length<=E.length,`Code: ${h}; The provided arguments length (${E.length}) does not match the required ones (${w.length}).`),w(...E);let m=(w.match(/%[dfijoOs]/g)||[]).length;return f(m===E.length,`Code: ${h}; The provided arguments length (${E.length}) does not match the required ones (${m}).`),E.length===0?w:l(w,...E)}function v(h,w,E){E||(E=Error);class m extends E{constructor(...I){super(b(h,w,I))}toString(){return`${this.name} [${h}]: ${this.message}`}}Object.defineProperties(m.prototype,{name:{value:E.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${h}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),m.prototype.code=h,m.prototype[t]=!0,o[h]=m}function p(h){let w=i+h.name;return Object.defineProperty(h,"name",{value:w}),h}function g(h,w){if(h&&w&&h!==w){if(Array.isArray(w.errors))return w.errors.push(h),w;let E=new r([w,h],w.message);return E.code=w.code,E}return h||w}var _=class extends Error{constructor(h="The operation was aborted",w=void 0){if(w!==void 0&&typeof w!="object")throw new o.ERR_INVALID_ARG_TYPE("options","Object",w);super(h,w),this.code="ABORT_ERR",this.name="AbortError"}};v("ERR_ASSERTION","%s",Error),v("ERR_INVALID_ARG_TYPE",(h,w,E)=>{f(typeof h=="string","'name' must be a string"),Array.isArray(w)||(w=[w]);let m="The ";h.endsWith(" argument")?m+=`${h} `:m+=`"${h}" ${h.includes(".")?"property":"argument"} `,m+="must be ";let A=[],I=[],T=[];for(let C of w)f(typeof C=="string","All expected entries have to be of type string"),n.includes(C)?A.push(C.toLowerCase()):e.test(C)?I.push(C):(f(C!=="object",'The value "object" should be written as "Object"'),T.push(C));if(I.length>0){let C=A.indexOf("object");C!==-1&&(A.splice(A,C,1),I.push("Object"))}if(A.length>0){switch(A.length){case 1:m+=`of type ${A[0]}`;break;case 2:m+=`one of type ${A[0]} or ${A[1]}`;break;default:{let C=A.pop();m+=`one of type ${A.join(", ")}, or ${C}`}}(I.length>0||T.length>0)&&(m+=" or ")}if(I.length>0){switch(I.length){case 1:m+=`an instance of ${I[0]}`;break;case 2:m+=`an instance of ${I[0]} or ${I[1]}`;break;default:{let C=I.pop();m+=`an instance of ${I.join(", ")}, or ${C}`}}T.length>0&&(m+=" or ")}switch(T.length){case 0:break;case 1:T[0].toLowerCase()!==T[0]&&(m+="an "),m+=`${T[0]}`;break;case 2:m+=`one of ${T[0]} or ${T[1]}`;break;default:{let C=T.pop();m+=`one of ${T.join(", ")}, or ${C}`}}if(E==null)m+=`. Received ${E}`;else if(typeof E=="function"&&E.name)m+=`. Received function ${E.name}`;else if(typeof E=="object"){var R;if((R=E.constructor)!==null&&R!==void 0&&R.name)m+=`. Received an instance of ${E.constructor.name}`;else{let C=a(E,{depth:-1});m+=`. Received ${C}`}}else{let C=a(E,{colors:!1});C.length>25&&(C=`${C.slice(0,25)}...`),m+=`. Received type ${typeof E} (${C})`}return m},TypeError),v("ERR_INVALID_ARG_VALUE",(h,w,E="is invalid")=>{let m=a(w);return m.length>128&&(m=m.slice(0,128)+"..."),`The ${h.includes(".")?"property":"argument"} '${h}' ${E}. Received ${m}`},TypeError),v("ERR_INVALID_RETURN_VALUE",(h,w,E)=>{var m;let A=E!=null&&(m=E.constructor)!==null&&m!==void 0&&m.name?`instance of ${E.constructor.name}`:`type ${typeof E}`;return`Expected ${h} to be returned from the "${w}" function but got ${A}.`},TypeError),v("ERR_MISSING_ARGS",(...h)=>{f(h.length>0,"At least one arg needs to be specified");let w,E=h.length;switch(h=(Array.isArray(h)?h:[h]).map(m=>`"${m}"`).join(" or "),E){case 1:w+=`The ${h[0]} argument`;break;case 2:w+=`The ${h[0]} and ${h[1]} arguments`;break;default:{let m=h.pop();w+=`The ${h.join(", ")}, and ${m} arguments`}break}return`${w} must be specified`},TypeError),v("ERR_OUT_OF_RANGE",(h,w,E)=>{f(w,'Missing "range" argument');let m;if(Number.isInteger(E)&&Math.abs(E)>2**32)m=d(String(E));else if(typeof E=="bigint"){m=String(E);let A=BigInt(2)**BigInt(32);(E>A||E<-A)&&(m=d(m)),m+="n"}else m=a(E);return`The value of "${h}" is out of range. It must be ${w}. Received ${m}`},RangeError),v("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),v("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),v("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),v("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),v("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),v("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),v("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),v("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),v("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),v("ERR_STREAM_WRITE_AFTER_END","write after end",Error),v("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),c.exports={AbortError:_,aggregateTwoErrors:p(g),hideStackFrames:p,codes:o}}),Gt=pe((y,c)=>{"use strict";le(),ce(),ue();var{AbortController:l,AbortSignal:a}=typeof self<"u"?self:typeof window<"u"?window:void 0;c.exports=l,c.exports.AbortSignal=a,c.exports.default=l}),mt={};jt(mt,{EventEmitter:()=>ws,default:()=>Ct,defaultMaxListeners:()=>_s,init:()=>Ss,listenerCount:()=>Es,on:()=>As,once:()=>Is});function Ka(){if(Kn)return zt;Kn=!0;var y=typeof Reflect=="object"?Reflect:null,c=y&&typeof y.apply=="function"?y.apply:function(E,m,A){return Function.prototype.apply.call(E,m,A)},l;y&&typeof y.ownKeys=="function"?l=y.ownKeys:Object.getOwnPropertySymbols?l=function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:l=function(E){return Object.getOwnPropertyNames(E)};function a(E){console&&console.warn&&console.warn(E)}var u=Number.isNaN||function(E){return E!==E};function r(){r.init.call(this)}zt=r,zt.once=_,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var t=10;function n(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return t},set:function(E){if(typeof E!="number"||E<0||u(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");t=E}}),r.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(E){if(typeof E!="number"||E<0||u(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this};function e(E){return E._maxListeners===void 0?r.defaultMaxListeners:E._maxListeners}r.prototype.getMaxListeners=function(){return e(this)},r.prototype.emit=function(E){for(var m=[],A=1;A<arguments.length;A++)m.push(arguments[A]);var I=E==="error",T=this._events;if(T!==void 0)I=I&&T.error===void 0;else if(!I)return!1;if(I){var R;if(m.length>0&&(R=m[0]),R instanceof Error)throw R;var C=new Error("Unhandled error."+(R?" ("+R.message+")":""));throw C.context=R,C}var U=T[E];if(U===void 0)return!1;if(typeof U=="function")c(U,this,m);else for(var O=U.length,L=v(U,O),A=0;A<O;++A)c(L[A],this,m);return!0};function i(E,m,A,I){var T,R,C;if(n(A),R=E._events,R===void 0?(R=E._events=Object.create(null),E._eventsCount=0):(R.newListener!==void 0&&(E.emit("newListener",m,A.listener?A.listener:A),R=E._events),C=R[m]),C===void 0)C=R[m]=A,++E._eventsCount;else if(typeof C=="function"?C=R[m]=I?[A,C]:[C,A]:I?C.unshift(A):C.push(A),T=e(E),T>0&&C.length>T&&!C.warned){C.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+C.length+" "+String(m)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=E,U.type=m,U.count=C.length,a(U)}return E}r.prototype.addListener=function(E,m){return i(this,E,m,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(E,m){return i(this,E,m,!0)};function o(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(E,m,A){var I={fired:!1,wrapFn:void 0,target:E,type:m,listener:A},T=o.bind(I);return T.listener=A,I.wrapFn=T,T}r.prototype.once=function(E,m){return n(m),this.on(E,f(this,E,m)),this},r.prototype.prependOnceListener=function(E,m){return n(m),this.prependListener(E,f(this,E,m)),this},r.prototype.removeListener=function(E,m){var A,I,T,R,C;if(n(m),I=this._events,I===void 0)return this;if(A=I[E],A===void 0)return this;if(A===m||A.listener===m)--this._eventsCount===0?this._events=Object.create(null):(delete I[E],I.removeListener&&this.emit("removeListener",E,A.listener||m));else if(typeof A!="function"){for(T=-1,R=A.length-1;R>=0;R--)if(A[R]===m||A[R].listener===m){C=A[R].listener,T=R;break}if(T<0)return this;T===0?A.shift():p(A,T),A.length===1&&(I[E]=A[0]),I.removeListener!==void 0&&this.emit("removeListener",E,C||m)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(E){var m,A,I;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[E]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[E]),this;if(arguments.length===0){var T=Object.keys(A),R;for(I=0;I<T.length;++I)R=T[I],R!=="removeListener"&&this.removeAllListeners(R);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(m=A[E],typeof m=="function")this.removeListener(E,m);else if(m!==void 0)for(I=m.length-1;I>=0;I--)this.removeListener(E,m[I]);return this};function d(E,m,A){var I=E._events;if(I===void 0)return[];var T=I[m];return T===void 0?[]:typeof T=="function"?A?[T.listener||T]:[T]:A?g(T):v(T,T.length)}r.prototype.listeners=function(E){return d(this,E,!0)},r.prototype.rawListeners=function(E){return d(this,E,!1)},r.listenerCount=function(E,m){return typeof E.listenerCount=="function"?E.listenerCount(m):b.call(E,m)},r.prototype.listenerCount=b;function b(E){var m=this._events;if(m!==void 0){var A=m[E];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}r.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function v(E,m){for(var A=new Array(m),I=0;I<m;++I)A[I]=E[I];return A}function p(E,m){for(;m+1<E.length;m++)E[m]=E[m+1];E.pop()}function g(E){for(var m=new Array(E.length),A=0;A<m.length;++A)m[A]=E[A].listener||E[A];return m}function _(E,m){return new Promise(function(A,I){function T(C){E.removeListener(m,R),I(C)}function R(){typeof E.removeListener=="function"&&E.removeListener("error",T),A([].slice.call(arguments))}w(E,m,R,{once:!0}),m!=="error"&&h(E,T,{once:!0})})}function h(E,m,A){typeof E.on=="function"&&w(E,"error",m,A)}function w(E,m,A,I){if(typeof E.on=="function")I.once?E.once(m,A):E.on(m,A);else if(typeof E.addEventListener=="function")E.addEventListener(m,function T(R){I.once&&E.removeEventListener(m,T),A(R)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E)}return zt}var zt,Kn,Ct,ws,_s,Ss,Es,As,Is,xt=Ve(()=>{le(),ce(),ue(),zt={},Kn=!1,Ct=Ka(),Ct.once,Ct.once=function(y,c){return new Promise((l,a)=>{function u(...t){r!==void 0&&y.removeListener("error",r),l(t)}let r;c!=="error"&&(r=t=>{y.removeListener(name,u),a(t)},y.once("error",r)),y.once(c,u)})},Ct.on=function(y,c){let l=[],a=[],u=null,r=!1,t={async next(){let i=l.shift();if(i)return createIterResult(i,!1);if(u){let o=Promise.reject(u);return u=null,o}return r?createIterResult(void 0,!0):new Promise((o,f)=>a.push({resolve:o,reject:f}))},async return(){y.removeListener(c,n),y.removeListener("error",e),r=!0;for(let i of a)i.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(i){u=i,y.removeListener(c,n),y.removeListener("error",e)},[Symbol.asyncIterator](){return this}};return y.on(c,n),y.on("error",e),t;function n(...i){let o=a.shift();o?o.resolve(createIterResult(i,!1)):l.push(i)}function e(i){r=!0;let o=a.shift();o?o.reject(i):u=i,t.return()}},{EventEmitter:ws,defaultMaxListeners:_s,init:Ss,listenerCount:Es,on:As,once:Is}=Ct}),ze=pe((y,c)=>{"use strict";le(),ce(),ue();var l=(Ue(),Re(Be)),{format:a,inspect:u}=vs(),{codes:{ERR_INVALID_ARG_TYPE:r}}=$e(),{kResistStopPropagation:t,AggregateError:n,SymbolDispose:e}=je(),i=globalThis.AbortSignal||Gt().AbortSignal,o=globalThis.AbortController||Gt().AbortController,f=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||l.Blob,b=typeof d<"u"?function(g){return g instanceof d}:function(g){return!1},v=(g,_)=>{if(g!==void 0&&(g===null||typeof g!="object"||!("aborted"in g)))throw new r(_,"AbortSignal",g)},p=(g,_)=>{if(typeof g!="function")throw new r(_,"Function",g)};c.exports={AggregateError:n,kEmptyObject:Object.freeze({}),once(g){let _=!1;return function(...h){_||(_=!0,g.apply(this,h))}},createDeferredPromise:function(){let g,_;return{promise:new Promise((h,w)=>{g=h,_=w}),resolve:g,reject:_}},promisify(g){return new Promise((_,h)=>{g((w,...E)=>w?h(w):_(...E))})},debuglog(){return function(){}},format:a,inspect:u,types:{isAsyncFunction(g){return g instanceof f},isArrayBufferView(g){return ArrayBuffer.isView(g)}},isBlob:b,deprecate(g,_){return g},addAbortListener:(xt(),Re(mt)).addAbortListener||function(g,_){if(g===void 0)throw new r("signal","AbortSignal",g);v(g,"signal"),p(_,"listener");let h;return g.aborted?queueMicrotask(()=>_()):(g.addEventListener("abort",_,{__proto__:null,once:!0,[t]:!0}),h=()=>{g.removeEventListener("abort",_)}),{__proto__:null,[e](){var w;(w=h)===null||w===void 0||w()}}},AbortSignalAny:i.any||function(g){if(g.length===1)return g[0];let _=new o,h=()=>_.abort();return g.forEach(w=>{v(w,"signals"),w.addEventListener("abort",h,{once:!0})}),_.signal.addEventListener("abort",()=>{g.forEach(w=>w.removeEventListener("abort",h))},{once:!0}),_.signal}},c.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Qt=pe((y,c)=>{"use strict";le(),ce(),ue();var{ArrayIsArray:l,ArrayPrototypeIncludes:a,ArrayPrototypeJoin:u,ArrayPrototypeMap:r,NumberIsInteger:t,NumberIsNaN:n,NumberMAX_SAFE_INTEGER:e,NumberMIN_SAFE_INTEGER:i,NumberParseInt:o,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:d,String:b,StringPrototypeToUpperCase:v,StringPrototypeTrim:p}=je(),{hideStackFrames:g,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:h,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:E,ERR_UNKNOWN_SIGNAL:m}}=$e(),{normalizeEncoding:A}=ze(),{isAsyncFunction:I,isArrayBufferView:T}=ze().types,R={};function C(q){return q===(q|0)}function U(q){return q===q>>>0}var O=/^[0-7]+$/,L="must be a 32-bit unsigned integer or an octal string";function $(q,de,Se){if(typeof q>"u"&&(q=Se),typeof q=="string"){if(d(O,q)===null)throw new w(de,q,L);q=o(q,8)}return X(q,de),q}var B=g((q,de,Se=i,ge=e)=>{if(typeof q!="number")throw new h(de,"number",q);if(!t(q))throw new E(de,"an integer",q);if(q<Se||q>ge)throw new E(de,`>= ${Se} && <= ${ge}`,q)}),oe=g((q,de,Se=-2147483648,ge=2147483647)=>{if(typeof q!="number")throw new h(de,"number",q);if(!t(q))throw new E(de,"an integer",q);if(q<Se||q>ge)throw new E(de,`>= ${Se} && <= ${ge}`,q)}),X=g((q,de,Se=!1)=>{if(typeof q!="number")throw new h(de,"number",q);if(!t(q))throw new E(de,"an integer",q);let ge=Se?1:0,Ae=4294967295;if(q<ge||q>Ae)throw new E(de,`>= ${ge} && <= ${Ae}`,q)});function z(q,de){if(typeof q!="string")throw new h(de,"string",q)}function ne(q,de,Se=void 0,ge){if(typeof q!="number")throw new h(de,"number",q);if(Se!=null&&q<Se||ge!=null&&q>ge||(Se!=null||ge!=null)&&n(q))throw new E(de,`${Se!=null?`>= ${Se}`:""}${Se!=null&&ge!=null?" && ":""}${ge!=null?`<= ${ge}`:""}`,q)}var D=g((q,de,Se)=>{if(!a(Se,q)){let ge="must be one of: "+u(r(Se,Ae=>typeof Ae=="string"?`'${Ae}'`:b(Ae)),", ");throw new w(de,q,ge)}});function Z(q,de){if(typeof q!="boolean")throw new h(de,"boolean",q)}function P(q,de,Se){return q==null||!f(q,de)?Se:q[de]}var Y=g((q,de,Se=null)=>{let ge=P(Se,"allowArray",!1),Ae=P(Se,"allowFunction",!1);if(!P(Se,"nullable",!1)&&q===null||!ge&&l(q)||typeof q!="object"&&(!Ae||typeof q!="function"))throw new h(de,"Object",q)}),be=g((q,de)=>{if(q!=null&&typeof q!="object"&&typeof q!="function")throw new h(de,"a dictionary",q)}),te=g((q,de,Se=0)=>{if(!l(q))throw new h(de,"Array",q);if(q.length<Se){let ge=`must be longer than ${Se}`;throw new w(de,q,ge)}});function we(q,de){te(q,de);for(let Se=0;Se<q.length;Se++)z(q[Se],`${de}[${Se}]`)}function K(q,de){te(q,de);for(let Se=0;Se<q.length;Se++)Z(q[Se],`${de}[${Se}]`)}function N(q,de){te(q,de);for(let Se=0;Se<q.length;Se++){let ge=q[Se],Ae=`${de}[${Se}]`;if(ge==null)throw new h(Ae,"AbortSignal",ge);ye(ge,Ae)}}function ie(q,de="signal"){if(z(q,de),R[q]===void 0)throw R[v(q)]!==void 0?new m(q+" (signals must use all capital letters)"):new m(q)}var H=g((q,de="buffer")=>{if(!T(q))throw new h(de,["Buffer","TypedArray","DataView"],q)});function V(q,de){let Se=A(de),ge=q.length;if(Se==="hex"&&ge%2!==0)throw new w("encoding",de,`is invalid for data of length ${ge}`)}function Q(q,de="Port",Se=!0){if(typeof q!="number"&&typeof q!="string"||typeof q=="string"&&p(q).length===0||+q!==+q>>>0||q>65535||q===0&&!Se)throw new _(de,q,Se);return q|0}var ye=g((q,de)=>{if(q!==void 0&&(q===null||typeof q!="object"||!("aborted"in q)))throw new h(de,"AbortSignal",q)}),se=g((q,de)=>{if(typeof q!="function")throw new h(de,"Function",q)}),M=g((q,de)=>{if(typeof q!="function"||I(q))throw new h(de,"Function",q)}),F=g((q,de)=>{if(q!==void 0)throw new h(de,"undefined",q)});function ee(q,de,Se){if(!a(Se,q))throw new h(de,`('${u(Se,"|")}')`,q)}var he=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function fe(q,de){if(typeof q>"u"||!d(he,q))throw new w(de,q,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function me(q){if(typeof q=="string")return fe(q,"hints"),q;if(l(q)){let de=q.length,Se="";if(de===0)return Se;for(let ge=0;ge<de;ge++){let Ae=q[ge];fe(Ae,"hints"),Se+=Ae,ge!==de-1&&(Se+=", ")}return Se}throw new w("hints",q,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}c.exports={isInt32:C,isUint32:U,parseFileMode:$,validateArray:te,validateStringArray:we,validateBooleanArray:K,validateAbortSignalArray:N,validateBoolean:Z,validateBuffer:H,validateDictionary:be,validateEncoding:V,validateFunction:se,validateInt32:oe,validateInteger:B,validateNumber:ne,validateObject:Y,validateOneOf:D,validatePlainFunction:M,validatePort:Q,validateSignalName:ie,validateString:z,validateUint32:X,validateUndefined:F,validateUnion:ee,validateAbortSignal:ye,validateLinkHeaderValue:me}}),Tt=pe((y,c)=>{le(),ce(),ue();var l=c.exports={},a,u;function r(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?a=setTimeout:a=r}catch{a=r}try{typeof clearTimeout=="function"?u=clearTimeout:u=t}catch{u=t}})();function n(_){if(a===setTimeout)return setTimeout(_,0);if((a===r||!a)&&setTimeout)return a=setTimeout,setTimeout(_,0);try{return a(_,0)}catch{try{return a.call(null,_,0)}catch{return a.call(this,_,0)}}}function e(_){if(u===clearTimeout)return clearTimeout(_);if((u===t||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(_);try{return u(_)}catch{try{return u.call(null,_)}catch{return u.call(this,_)}}}var i=[],o=!1,f,d=-1;function b(){!o||!f||(o=!1,f.length?i=f.concat(i):d=-1,i.length&&v())}function v(){if(!o){var _=n(b);o=!0;for(var h=i.length;h;){for(f=i,i=[];++d<h;)f&&f[d].run();d=-1,h=i.length}f=null,o=!1,e(_)}}l.nextTick=function(_){var h=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)h[w-1]=arguments[w];i.push(new p(_,h)),i.length===1&&!o&&n(v)};function p(_,h){this.fun=_,this.array=h}p.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={};function g(){}l.on=g,l.addListener=g,l.once=g,l.off=g,l.removeListener=g,l.removeAllListeners=g,l.emit=g,l.prependListener=g,l.prependOnceListener=g,l.listeners=function(_){return[]},l.binding=function(_){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(_){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}}),ct=pe((y,c)=>{"use strict";le(),ce(),ue();var{SymbolAsyncIterator:l,SymbolIterator:a,SymbolFor:u}=je(),r=u("nodejs.stream.destroyed"),t=u("nodejs.stream.errored"),n=u("nodejs.stream.readable"),e=u("nodejs.stream.writable"),i=u("nodejs.stream.disturbed"),o=u("nodejs.webstream.isClosedPromise"),f=u("nodejs.webstream.controllerErrorFunction");function d(P,Y=!1){var be;return!!(P&&typeof P.pipe=="function"&&typeof P.on=="function"&&(!Y||typeof P.pause=="function"&&typeof P.resume=="function")&&(!P._writableState||((be=P._readableState)===null||be===void 0?void 0:be.readable)!==!1)&&(!P._writableState||P._readableState))}function b(P){var Y;return!!(P&&typeof P.write=="function"&&typeof P.on=="function"&&(!P._readableState||((Y=P._writableState)===null||Y===void 0?void 0:Y.writable)!==!1))}function v(P){return!!(P&&typeof P.pipe=="function"&&P._readableState&&typeof P.on=="function"&&typeof P.write=="function")}function p(P){return P&&(P._readableState||P._writableState||typeof P.write=="function"&&typeof P.on=="function"||typeof P.pipe=="function"&&typeof P.on=="function")}function g(P){return!!(P&&!p(P)&&typeof P.pipeThrough=="function"&&typeof P.getReader=="function"&&typeof P.cancel=="function")}function _(P){return!!(P&&!p(P)&&typeof P.getWriter=="function"&&typeof P.abort=="function")}function h(P){return!!(P&&!p(P)&&typeof P.readable=="object"&&typeof P.writable=="object")}function w(P){return g(P)||_(P)||h(P)}function E(P,Y){return P==null?!1:Y===!0?typeof P[l]=="function":Y===!1?typeof P[a]=="function":typeof P[l]=="function"||typeof P[a]=="function"}function m(P){if(!p(P))return null;let Y=P._writableState,be=P._readableState,te=Y||be;return!!(P.destroyed||P[r]||te!=null&&te.destroyed)}function A(P){if(!b(P))return null;if(P.writableEnded===!0)return!0;let Y=P._writableState;return Y!=null&&Y.errored?!1:typeof Y?.ended!="boolean"?null:Y.ended}function I(P,Y){if(!b(P))return null;if(P.writableFinished===!0)return!0;let be=P._writableState;return be!=null&&be.errored?!1:typeof be?.finished!="boolean"?null:!!(be.finished||Y===!1&&be.ended===!0&&be.length===0)}function T(P){if(!d(P))return null;if(P.readableEnded===!0)return!0;let Y=P._readableState;return!Y||Y.errored?!1:typeof Y?.ended!="boolean"?null:Y.ended}function R(P,Y){if(!d(P))return null;let be=P._readableState;return be!=null&&be.errored?!1:typeof be?.endEmitted!="boolean"?null:!!(be.endEmitted||Y===!1&&be.ended===!0&&be.length===0)}function C(P){return P&&P[n]!=null?P[n]:typeof P?.readable!="boolean"?null:m(P)?!1:d(P)&&P.readable&&!R(P)}function U(P){return P&&P[e]!=null?P[e]:typeof P?.writable!="boolean"?null:m(P)?!1:b(P)&&P.writable&&!A(P)}function O(P,Y){return p(P)?m(P)?!0:!(Y?.readable!==!1&&C(P)||Y?.writable!==!1&&U(P)):null}function L(P){var Y,be;return p(P)?P.writableErrored?P.writableErrored:(Y=(be=P._writableState)===null||be===void 0?void 0:be.errored)!==null&&Y!==void 0?Y:null:null}function $(P){var Y,be;return p(P)?P.readableErrored?P.readableErrored:(Y=(be=P._readableState)===null||be===void 0?void 0:be.errored)!==null&&Y!==void 0?Y:null:null}function B(P){if(!p(P))return null;if(typeof P.closed=="boolean")return P.closed;let Y=P._writableState,be=P._readableState;return typeof Y?.closed=="boolean"||typeof be?.closed=="boolean"?Y?.closed||be?.closed:typeof P._closed=="boolean"&&oe(P)?P._closed:null}function oe(P){return typeof P._closed=="boolean"&&typeof P._defaultKeepAlive=="boolean"&&typeof P._removedConnection=="boolean"&&typeof P._removedContLen=="boolean"}function X(P){return typeof P._sent100=="boolean"&&oe(P)}function z(P){var Y;return typeof P._consuming=="boolean"&&typeof P._dumped=="boolean"&&((Y=P.req)===null||Y===void 0?void 0:Y.upgradeOrConnect)===void 0}function ne(P){if(!p(P))return null;let Y=P._writableState,be=P._readableState,te=Y||be;return!te&&X(P)||!!(te&&te.autoDestroy&&te.emitClose&&te.closed===!1)}function D(P){var Y;return!!(P&&((Y=P[i])!==null&&Y!==void 0?Y:P.readableDidRead||P.readableAborted))}function Z(P){var Y,be,te,we,K,N,ie,H,V,Q;return!!(P&&((Y=(be=(te=(we=(K=(N=P[t])!==null&&N!==void 0?N:P.readableErrored)!==null&&K!==void 0?K:P.writableErrored)!==null&&we!==void 0?we:(ie=P._readableState)===null||ie===void 0?void 0:ie.errorEmitted)!==null&&te!==void 0?te:(H=P._writableState)===null||H===void 0?void 0:H.errorEmitted)!==null&&be!==void 0?be:(V=P._readableState)===null||V===void 0?void 0:V.errored)!==null&&Y!==void 0?Y:!((Q=P._writableState)===null||Q===void 0)&&Q.errored))}c.exports={isDestroyed:m,kIsDestroyed:r,isDisturbed:D,kIsDisturbed:i,isErrored:Z,kIsErrored:t,isReadable:C,kIsReadable:n,kIsClosedPromise:o,kControllerErrorFunction:f,kIsWritable:e,isClosed:B,isDuplexNodeStream:v,isFinished:O,isIterable:E,isReadableNodeStream:d,isReadableStream:g,isReadableEnded:T,isReadableFinished:R,isReadableErrored:$,isNodeStream:p,isWebStream:w,isWritable:U,isWritableNodeStream:b,isWritableStream:_,isWritableEnded:A,isWritableFinished:I,isWritableErrored:L,isServerRequest:z,isServerResponse:X,willEmitClose:ne,isTransformStream:h}}),vt=pe((y,c)=>{"use strict";le(),ce(),ue();var l=Tt(),{AbortError:a,codes:u}=$e(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:t}=u,{kEmptyObject:n,once:e}=ze(),{validateAbortSignal:i,validateFunction:o,validateObject:f,validateBoolean:d}=Qt(),{Promise:b,PromisePrototypeThen:v,SymbolDispose:p}=je(),{isClosed:g,isReadable:_,isReadableNodeStream:h,isReadableStream:w,isReadableFinished:E,isReadableErrored:m,isWritable:A,isWritableNodeStream:I,isWritableStream:T,isWritableFinished:R,isWritableErrored:C,isNodeStream:U,willEmitClose:O,kIsClosedPromise:L}=ct(),$;function B(D){return D.setHeader&&typeof D.abort=="function"}var oe=()=>{};function X(D,Z,P){var Y,be;if(arguments.length===2?(P=Z,Z=n):Z==null?Z=n:f(Z,"options"),o(P,"callback"),i(Z.signal,"options.signal"),P=e(P),w(D)||T(D))return z(D,Z,P);if(!U(D))throw new r("stream",["ReadableStream","WritableStream","Stream"],D);let te=(Y=Z.readable)!==null&&Y!==void 0?Y:h(D),we=(be=Z.writable)!==null&&be!==void 0?be:I(D),K=D._writableState,N=D._readableState,ie=()=>{D.writable||Q()},H=O(D)&&h(D)===te&&I(D)===we,V=R(D,!1),Q=()=>{V=!0,D.destroyed&&(H=!1),!(H&&(!D.readable||te))&&(!te||ye)&&P.call(D)},ye=E(D,!1),se=()=>{ye=!0,D.destroyed&&(H=!1),!(H&&(!D.writable||we))&&(!we||V)&&P.call(D)},M=q=>{P.call(D,q)},F=g(D),ee=()=>{F=!0;let q=C(D)||m(D);if(q&&typeof q!="boolean")return P.call(D,q);if(te&&!ye&&h(D,!0)&&!E(D,!1))return P.call(D,new t);if(we&&!V&&!R(D,!1))return P.call(D,new t);P.call(D)},he=()=>{F=!0;let q=C(D)||m(D);if(q&&typeof q!="boolean")return P.call(D,q);P.call(D)},fe=()=>{D.req.on("finish",Q)};B(D)?(D.on("complete",Q),H||D.on("abort",ee),D.req?fe():D.on("request",fe)):we&&!K&&(D.on("end",ie),D.on("close",ie)),!H&&typeof D.aborted=="boolean"&&D.on("aborted",ee),D.on("end",se),D.on("finish",Q),Z.error!==!1&&D.on("error",M),D.on("close",ee),F?l.nextTick(ee):K!=null&&K.errorEmitted||N!=null&&N.errorEmitted?H||l.nextTick(he):(!te&&(!H||_(D))&&(V||A(D)===!1)||!we&&(!H||A(D))&&(ye||_(D)===!1)||N&&D.req&&D.aborted)&&l.nextTick(he);let me=()=>{P=oe,D.removeListener("aborted",ee),D.removeListener("complete",Q),D.removeListener("abort",ee),D.removeListener("request",fe),D.req&&D.req.removeListener("finish",Q),D.removeListener("end",ie),D.removeListener("close",ie),D.removeListener("finish",Q),D.removeListener("end",se),D.removeListener("error",M),D.removeListener("close",ee)};if(Z.signal&&!F){let q=()=>{let de=P;me(),de.call(D,new a(void 0,{cause:Z.signal.reason}))};if(Z.signal.aborted)l.nextTick(q);else{$=$||ze().addAbortListener;let de=$(Z.signal,q),Se=P;P=e((...ge)=>{de[p](),Se.apply(D,ge)})}}return me}function z(D,Z,P){let Y=!1,be=oe;if(Z.signal)if(be=()=>{Y=!0,P.call(D,new a(void 0,{cause:Z.signal.reason}))},Z.signal.aborted)l.nextTick(be);else{$=$||ze().addAbortListener;let we=$(Z.signal,be),K=P;P=e((...N)=>{we[p](),K.apply(D,N)})}let te=(...we)=>{Y||l.nextTick(()=>P.apply(D,we))};return v(D[L].promise,te,te),oe}function ne(D,Z){var P;let Y=!1;return Z===null&&(Z=n),(P=Z)!==null&&P!==void 0&&P.cleanup&&(d(Z.cleanup,"cleanup"),Y=Z.cleanup),new b((be,te)=>{let we=X(D,Z,K=>{Y&&we(),K?te(K):be()})})}c.exports=X,c.exports.finished=ne}),Nt=pe((y,c)=>{"use strict";le(),ce(),ue();var l=Tt(),{aggregateTwoErrors:a,codes:{ERR_MULTIPLE_CALLBACK:u},AbortError:r}=$e(),{Symbol:t}=je(),{kIsDestroyed:n,isDestroyed:e,isFinished:i,isServerRequest:o}=ct(),f=t("kDestroy"),d=t("kConstruct");function b(O,L,$){O&&(O.stack,L&&!L.errored&&(L.errored=O),$&&!$.errored&&($.errored=O))}function v(O,L){let $=this._readableState,B=this._writableState,oe=B||$;return B!=null&&B.destroyed||$!=null&&$.destroyed?(typeof L=="function"&&L(),this):(b(O,B,$),B&&(B.destroyed=!0),$&&($.destroyed=!0),oe.constructed?p(this,O,L):this.once(f,function(X){p(this,a(X,O),L)}),this)}function p(O,L,$){let B=!1;function oe(X){if(B)return;B=!0;let z=O._readableState,ne=O._writableState;b(X,ne,z),ne&&(ne.closed=!0),z&&(z.closed=!0),typeof $=="function"&&$(X),X?l.nextTick(g,O,X):l.nextTick(_,O)}try{O._destroy(L||null,oe)}catch(X){oe(X)}}function g(O,L){h(O,L),_(O)}function _(O){let L=O._readableState,$=O._writableState;$&&($.closeEmitted=!0),L&&(L.closeEmitted=!0),($!=null&&$.emitClose||L!=null&&L.emitClose)&&O.emit("close")}function h(O,L){let $=O._readableState,B=O._writableState;B!=null&&B.errorEmitted||$!=null&&$.errorEmitted||(B&&(B.errorEmitted=!0),$&&($.errorEmitted=!0),O.emit("error",L))}function w(){let O=this._readableState,L=this._writableState;O&&(O.constructed=!0,O.closed=!1,O.closeEmitted=!1,O.destroyed=!1,O.errored=null,O.errorEmitted=!1,O.reading=!1,O.ended=O.readable===!1,O.endEmitted=O.readable===!1),L&&(L.constructed=!0,L.destroyed=!1,L.closed=!1,L.closeEmitted=!1,L.errored=null,L.errorEmitted=!1,L.finalCalled=!1,L.prefinished=!1,L.ended=L.writable===!1,L.ending=L.writable===!1,L.finished=L.writable===!1)}function E(O,L,$){let B=O._readableState,oe=O._writableState;if(oe!=null&&oe.destroyed||B!=null&&B.destroyed)return this;B!=null&&B.autoDestroy||oe!=null&&oe.autoDestroy?O.destroy(L):L&&(L.stack,oe&&!oe.errored&&(oe.errored=L),B&&!B.errored&&(B.errored=L),$?l.nextTick(h,O,L):h(O,L))}function m(O,L){if(typeof O._construct!="function")return;let $=O._readableState,B=O._writableState;$&&($.constructed=!1),B&&(B.constructed=!1),O.once(d,L),!(O.listenerCount(d)>1)&&l.nextTick(A,O)}function A(O){let L=!1;function $(B){if(L){E(O,B??new u);return}L=!0;let oe=O._readableState,X=O._writableState,z=X||oe;oe&&(oe.constructed=!0),X&&(X.constructed=!0),z.destroyed?O.emit(f,B):B?E(O,B,!0):l.nextTick(I,O)}try{O._construct(B=>{l.nextTick($,B)})}catch(B){l.nextTick($,B)}}function I(O){O.emit(d)}function T(O){return O?.setHeader&&typeof O.abort=="function"}function R(O){O.emit("close")}function C(O,L){O.emit("error",L),l.nextTick(R,O)}function U(O,L){!O||e(O)||(!L&&!i(O)&&(L=new r),o(O)?(O.socket=null,O.destroy(L)):T(O)?O.abort():T(O.req)?O.req.abort():typeof O.destroy=="function"?O.destroy(L):typeof O.close=="function"?O.close():L?l.nextTick(C,O,L):l.nextTick(R,O),O.destroyed||(O[n]=!0))}c.exports={construct:m,destroyer:U,destroy:v,undestroy:w,errorOrDestroy:E}}),Di=pe((y,c)=>{"use strict";le(),ce(),ue();var{ArrayIsArray:l,ObjectSetPrototypeOf:a}=je(),{EventEmitter:u}=(xt(),Re(mt));function r(n){u.call(this,n)}a(r.prototype,u.prototype),a(r,u),r.prototype.pipe=function(n,e){let i=this;function o(_){n.writable&&n.write(_)===!1&&i.pause&&i.pause()}i.on("data",o);function f(){i.readable&&i.resume&&i.resume()}n.on("drain",f),!n._isStdio&&(!e||e.end!==!1)&&(i.on("end",b),i.on("close",v));let d=!1;function b(){d||(d=!0,n.end())}function v(){d||(d=!0,typeof n.destroy=="function"&&n.destroy())}function p(_){g(),u.listenerCount(this,"error")===0&&this.emit("error",_)}t(i,"error",p),t(n,"error",p);function g(){i.removeListener("data",o),n.removeListener("drain",f),i.removeListener("end",b),i.removeListener("close",v),i.removeListener("error",p),n.removeListener("error",p),i.removeListener("end",g),i.removeListener("close",g),n.removeListener("close",g)}return i.on("end",g),i.on("close",g),n.on("close",g),n.emit("pipe",i),n};function t(n,e,i){if(typeof n.prependListener=="function")return n.prependListener(e,i);!n._events||!n._events[e]?n.on(e,i):l(n._events[e])?n._events[e].unshift(i):n._events[e]=[i,n._events[e]]}c.exports={Stream:r,prependListener:t}}),Or=pe((y,c)=>{"use strict";le(),ce(),ue();var{SymbolDispose:l}=je(),{AbortError:a,codes:u}=$e(),{isNodeStream:r,isWebStream:t,kControllerErrorFunction:n}=ct(),e=vt(),{ERR_INVALID_ARG_TYPE:i}=u,o,f=(d,b)=>{if(typeof d!="object"||!("aborted"in d))throw new i(b,"AbortSignal",d)};c.exports.addAbortSignal=function(d,b){if(f(d,"signal"),!r(b)&&!t(b))throw new i("stream",["ReadableStream","WritableStream","Stream"],b);return c.exports.addAbortSignalNoValidate(d,b)},c.exports.addAbortSignalNoValidate=function(d,b){if(typeof d!="object"||!("aborted"in d))return b;let v=r(b)?()=>{b.destroy(new a(void 0,{cause:d.reason}))}:()=>{b[n](new a(void 0,{cause:d.reason}))};if(d.aborted)v();else{o=o||ze().addAbortListener;let p=o(d,v);e(b,p[l])}return b}}),Ha=pe((y,c)=>{"use strict";le(),ce(),ue();var{StringPrototypeSlice:l,SymbolIterator:a,TypedArrayPrototypeSet:u,Uint8Array:r}=je(),{Buffer:t}=(Ue(),Re(Be)),{inspect:n}=ze();c.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let i={data:e,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}unshift(e){let i={data:e,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let i=this.head,o=""+i.data;for(;(i=i.next)!==null;)o+=e+i.data;return o}concat(e){if(this.length===0)return t.alloc(0);let i=t.allocUnsafe(e>>>0),o=this.head,f=0;for(;o;)u(i,o.data,f),f+=o.data.length,o=o.next;return i}consume(e,i){let o=this.head.data;if(e<o.length){let f=o.slice(0,e);return this.head.data=o.slice(e),f}return e===o.length?this.shift():i?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[a](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let i="",o=this.head,f=0;do{let d=o.data;if(e>d.length)i+=d,e-=d.length;else{e===d.length?(i+=d,++f,o.next?this.head=o.next:this.head=this.tail=null):(i+=l(d,0,e),this.head=o,o.data=l(d,e));break}++f}while((o=o.next)!==null);return this.length-=f,i}_getBuffer(e){let i=t.allocUnsafe(e),o=e,f=this.head,d=0;do{let b=f.data;if(e>b.length)u(i,b,o-e),e-=b.length;else{e===b.length?(u(i,b,o-e),++d,f.next?this.head=f.next:this.head=this.tail=null):(u(i,new r(b.buffer,b.byteOffset,e),o-e),this.head=f,f.data=b.slice(e));break}++d}while((f=f.next)!==null);return this.length-=d,i}[Symbol.for("nodejs.util.inspect.custom")](e,i){return n(this,Ge(Pe({},i),{depth:0,customInspect:!1}))}}}),kr=pe((y,c)=>{"use strict";le(),ce(),ue();var{MathFloor:l,NumberIsInteger:a}=je(),{validateInteger:u}=Qt(),{ERR_INVALID_ARG_VALUE:r}=$e().codes,t=16*1024,n=16;function e(d,b,v){return d.highWaterMark!=null?d.highWaterMark:b?d[v]:null}function i(d){return d?n:t}function o(d,b){u(b,"value",0),d?n=b:t=b}function f(d,b,v,p){let g=e(b,p,v);if(g!=null){if(!a(g)||g<0){let _=p?`options.${v}`:"options.highWaterMark";throw new r(_,g)}return l(g)}return i(d.objectMode)}c.exports={getHighWaterMark:f,getDefaultHighWaterMark:i,setDefaultHighWaterMark:o}}),Ga=pe((y,c)=>{le(),ce(),ue();var l=(Ue(),Re(Be)),a=l.Buffer;function u(t,n){for(var e in t)n[e]=t[e]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?c.exports=l:(u(l,y),y.Buffer=r);function r(t,n,e){return a(t,n,e)}r.prototype=Object.create(a.prototype),u(a,r),r.from=function(t,n,e){if(typeof t=="number")throw new TypeError("Argument must not be a number");return a(t,n,e)},r.alloc=function(t,n,e){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=a(t);return n!==void 0?typeof e=="string"?i.fill(n,e):i.fill(n):i.fill(0),i},r.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return a(t)},r.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return l.SlowBuffer(t)}}),Qa=pe(y=>{"use strict";le(),ce(),ue();var c=Ga().Buffer,l=c.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(h){if(!h)return"utf8";for(var w;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(w)return;h=(""+h).toLowerCase(),w=!0}}function u(h){var w=a(h);if(typeof w!="string"&&(c.isEncoding===l||!l(h)))throw new Error("Unknown encoding: "+h);return w||h}y.StringDecoder=r;function r(h){this.encoding=u(h);var w;switch(this.encoding){case"utf16le":this.text=d,this.end=b,w=4;break;case"utf8":this.fillLast=i,w=4;break;case"base64":this.text=v,this.end=p,w=3;break;default:this.write=g,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=c.allocUnsafe(w)}r.prototype.write=function(h){if(h.length===0)return"";var w,E;if(this.lastNeed){if(w=this.fillLast(h),w===void 0)return"";E=this.lastNeed,this.lastNeed=0}else E=0;return E<h.length?w?w+this.text(h,E):this.text(h,E):w||""},r.prototype.end=f,r.prototype.text=o,r.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function t(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function n(h,w,E){var m=w.length-1;if(m<E)return 0;var A=t(w[m]);return A>=0?(A>0&&(h.lastNeed=A-1),A):--m<E||A===-2?0:(A=t(w[m]),A>=0?(A>0&&(h.lastNeed=A-2),A):--m<E||A===-2?0:(A=t(w[m]),A>=0?(A>0&&(A===2?A=0:h.lastNeed=A-3),A):0))}function e(h,w,E){if((w[0]&192)!==128)return h.lastNeed=0,"\uFFFD";if(h.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return h.lastNeed=1,"\uFFFD";if(h.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return h.lastNeed=2,"\uFFFD"}}function i(h){var w=this.lastTotal-this.lastNeed,E=e(this,h,w);if(E!==void 0)return E;if(this.lastNeed<=h.length)return h.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,w,0,h.length),this.lastNeed-=h.length}function o(h,w){var E=n(this,h,w);if(!this.lastNeed)return h.toString("utf8",w);this.lastTotal=E;var m=h.length-(E-this.lastNeed);return h.copy(this.lastChar,0,m),h.toString("utf8",w,m)}function f(h){var w=h&&h.length?this.write(h):"";return this.lastNeed?w+"\uFFFD":w}function d(h,w){if((h.length-w)%2===0){var E=h.toString("utf16le",w);if(E){var m=E.charCodeAt(E.length-1);if(m>=55296&&m<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],E.slice(0,-1)}return E}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",w,h.length-1)}function b(h){var w=h&&h.length?this.write(h):"";if(this.lastNeed){var E=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,E)}return w}function v(h,w){var E=(h.length-w)%3;return E===0?h.toString("base64",w):(this.lastNeed=3-E,this.lastTotal=3,E===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",w,h.length-E))}function p(h){var w=h&&h.length?this.write(h):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function g(h){return h.toString(this.encoding)}function _(h){return h&&h.length?this.write(h):""}}),xs=pe((y,c)=>{"use strict";le(),ce(),ue();var l=Tt(),{PromisePrototypeThen:a,SymbolAsyncIterator:u,SymbolIterator:r}=je(),{Buffer:t}=(Ue(),Re(Be)),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_NULL_VALUES:e}=$e().codes;function i(o,f,d){let b;if(typeof f=="string"||f instanceof t)return new o(Ge(Pe({objectMode:!0},d),{read(){this.push(f),this.push(null)}}));let v;if(f&&f[u])v=!0,b=f[u]();else if(f&&f[r])v=!1,b=f[r]();else throw new n("iterable",["Iterable"],f);let p=new o(Pe({objectMode:!0,highWaterMark:1},d)),g=!1;p._read=function(){g||(g=!0,h())},p._destroy=function(w,E){a(_(w),()=>l.nextTick(E,w),m=>l.nextTick(E,m||w))};async function _(w){let E=w!=null,m=typeof b.throw=="function";if(E&&m){let{value:A,done:I}=await b.throw(w);if(await A,I)return}if(typeof b.return=="function"){let{value:A}=await b.return();await A}}async function h(){for(;;){try{let{value:w,done:E}=v?await b.next():b.next();if(E)p.push(null);else{let m=w&&typeof w.then=="function"?await w:w;if(m===null)throw g=!1,new e;if(p.push(m))continue;g=!1}}catch(w){p.destroy(w)}break}}return p}c.exports=i}),Pr=pe((y,c)=>{"use strict";le(),ce(),ue();var l=Tt(),{ArrayPrototypeIndexOf:a,NumberIsInteger:u,NumberIsNaN:r,NumberParseInt:t,ObjectDefineProperties:n,ObjectKeys:e,ObjectSetPrototypeOf:i,Promise:o,SafeSet:f,SymbolAsyncDispose:d,SymbolAsyncIterator:b,Symbol:v}=je();c.exports=ge,ge.ReadableState=Se;var{EventEmitter:p}=(xt(),Re(mt)),{Stream:g,prependListener:_}=Di(),{Buffer:h}=(Ue(),Re(Be)),{addAbortSignal:w}=Or(),E=vt(),m=ze().debuglog("stream",k=>{m=k}),A=Ha(),I=Nt(),{getHighWaterMark:T,getDefaultHighWaterMark:R}=kr(),{aggregateTwoErrors:C,codes:{ERR_INVALID_ARG_TYPE:U,ERR_METHOD_NOT_IMPLEMENTED:O,ERR_OUT_OF_RANGE:L,ERR_STREAM_PUSH_AFTER_EOF:$,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:B},AbortError:oe}=$e(),{validateObject:X}=Qt(),z=v("kPaused"),{StringDecoder:ne}=Qa(),D=xs();i(ge.prototype,g.prototype),i(ge,g);var Z=()=>{},{errorOrDestroy:P}=I,Y=1,be=2,te=4,we=8,K=16,N=32,ie=64,H=128,V=256,Q=512,ye=1024,se=2048,M=4096,F=8192,ee=16384,he=32768,fe=65536,me=1<<17,q=1<<18;function de(k){return{enumerable:!1,get(){return(this.state&k)!==0},set(j){j?this.state|=k:this.state&=~k}}}n(Se.prototype,{objectMode:de(Y),ended:de(be),endEmitted:de(te),reading:de(we),constructed:de(K),sync:de(N),needReadable:de(ie),emittedReadable:de(H),readableListening:de(V),resumeScheduled:de(Q),errorEmitted:de(ye),emitClose:de(se),autoDestroy:de(M),destroyed:de(F),closed:de(ee),closeEmitted:de(he),multiAwaitDrain:de(fe),readingMore:de(me),dataEmitted:de(q)});function Se(k,j,_e){typeof _e!="boolean"&&(_e=j instanceof lt()),this.state=se|M|K|N,k&&k.objectMode&&(this.state|=Y),_e&&k&&k.readableObjectMode&&(this.state|=Y),this.highWaterMark=k?T(this,k,"readableHighWaterMark",_e):R(!1),this.buffer=new A,this.length=0,this.pipes=[],this.flowing=null,this[z]=null,k&&k.emitClose===!1&&(this.state&=~se),k&&k.autoDestroy===!1&&(this.state&=~M),this.errored=null,this.defaultEncoding=k&&k.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,k&&k.encoding&&(this.decoder=new ne(k.encoding),this.encoding=k.encoding)}function ge(k){if(!(this instanceof ge))return new ge(k);let j=this instanceof lt();this._readableState=new Se(k,this,j),k&&(typeof k.read=="function"&&(this._read=k.read),typeof k.destroy=="function"&&(this._destroy=k.destroy),typeof k.construct=="function"&&(this._construct=k.construct),k.signal&&!j&&w(k.signal,this)),g.call(this,k),I.construct(this,()=>{this._readableState.needReadable&&G(this,this._readableState)})}ge.prototype.destroy=I.destroy,ge.prototype._undestroy=I.undestroy,ge.prototype._destroy=function(k,j){j(k)},ge.prototype[p.captureRejectionSymbol]=function(k){this.destroy(k)},ge.prototype[d]=function(){let k;return this.destroyed||(k=this.readableEnded?null:new oe,this.destroy(k)),new o((j,_e)=>E(this,Ee=>Ee&&Ee!==k?_e(Ee):j(null)))},ge.prototype.push=function(k,j){return Ae(this,k,j,!1)},ge.prototype.unshift=function(k,j){return Ae(this,k,j,!0)};function Ae(k,j,_e,Ee){m("readableAddChunk",j);let Ie=k._readableState,Ne;if((Ie.state&Y)===0&&(typeof j=="string"?(_e=_e||Ie.defaultEncoding,Ie.encoding!==_e&&(Ee&&Ie.encoding?j=h.from(j,_e).toString(Ie.encoding):(j=h.from(j,_e),_e=""))):j instanceof h?_e="":g._isUint8Array(j)?(j=g._uint8ArrayToBuffer(j),_e=""):j!=null&&(Ne=new U("chunk",["string","Buffer","Uint8Array"],j))),Ne)P(k,Ne);else if(j===null)Ie.state&=~we,J(k,Ie);else if((Ie.state&Y)!==0||j&&j.length>0)if(Ee)if((Ie.state&te)!==0)P(k,new B);else{if(Ie.destroyed||Ie.errored)return!1;s(k,Ie,j,!0)}else if(Ie.ended)P(k,new $);else{if(Ie.destroyed||Ie.errored)return!1;Ie.state&=~we,Ie.decoder&&!_e?(j=Ie.decoder.write(j),Ie.objectMode||j.length!==0?s(k,Ie,j,!1):G(k,Ie)):s(k,Ie,j,!1)}else Ee||(Ie.state&=~we,G(k,Ie));return!Ie.ended&&(Ie.length<Ie.highWaterMark||Ie.length===0)}function s(k,j,_e,Ee){j.flowing&&j.length===0&&!j.sync&&k.listenerCount("data")>0?((j.state&fe)!==0?j.awaitDrainWriters.clear():j.awaitDrainWriters=null,j.dataEmitted=!0,k.emit("data",_e)):(j.length+=j.objectMode?1:_e.length,Ee?j.buffer.unshift(_e):j.buffer.push(_e),(j.state&ie)!==0&&ae(k)),G(k,j)}ge.prototype.isPaused=function(){let k=this._readableState;return k[z]===!0||k.flowing===!1},ge.prototype.setEncoding=function(k){let j=new ne(k);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;let _e=this._readableState.buffer,Ee="";for(let Ie of _e)Ee+=j.write(Ie);return _e.clear(),Ee!==""&&_e.push(Ee),this._readableState.length=Ee.length,this};var S=1073741824;function x(k){if(k>S)throw new L("size","<= 1GiB",k);return k--,k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,k|=k>>>16,k++,k}function W(k,j){return k<=0||j.length===0&&j.ended?0:(j.state&Y)!==0?1:r(k)?j.flowing&&j.length?j.buffer.first().length:j.length:k<=j.length?k:j.ended?j.length:0}ge.prototype.read=function(k){m("read",k),k===void 0?k=NaN:u(k)||(k=t(k,10));let j=this._readableState,_e=k;if(k>j.highWaterMark&&(j.highWaterMark=x(k)),k!==0&&(j.state&=~H),k===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return m("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?Xe(this):ae(this),null;if(k=W(k,j),k===0&&j.ended)return j.length===0&&Xe(this),null;let Ee=(j.state&ie)!==0;if(m("need readable",Ee),(j.length===0||j.length-k<j.highWaterMark)&&(Ee=!0,m("length less than watermark",Ee)),j.ended||j.reading||j.destroyed||j.errored||!j.constructed)Ee=!1,m("reading, ended or constructing",Ee);else if(Ee){m("do read"),j.state|=we|N,j.length===0&&(j.state|=ie);try{this._read(j.highWaterMark)}catch(Ne){P(this,Ne)}j.state&=~N,j.reading||(k=W(_e,j))}let Ie;return k>0?Ie=kt(k,j):Ie=null,Ie===null?(j.needReadable=j.length<=j.highWaterMark,k=0):(j.length-=k,j.multiAwaitDrain?j.awaitDrainWriters.clear():j.awaitDrainWriters=null),j.length===0&&(j.ended||(j.needReadable=!0),_e!==k&&j.ended&&Xe(this)),Ie!==null&&!j.errorEmitted&&!j.closeEmitted&&(j.dataEmitted=!0,this.emit("data",Ie)),Ie};function J(k,j){if(m("onEofChunk"),!j.ended){if(j.decoder){let _e=j.decoder.end();_e&&_e.length&&(j.buffer.push(_e),j.length+=j.objectMode?1:_e.length)}j.ended=!0,j.sync?ae(k):(j.needReadable=!1,j.emittedReadable=!0,ve(k))}}function ae(k){let j=k._readableState;m("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(m("emitReadable",j.flowing),j.emittedReadable=!0,l.nextTick(ve,k))}function ve(k){let j=k._readableState;m("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&!j.errored&&(j.length||j.ended)&&(k.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,Ye(k)}function G(k,j){!j.readingMore&&j.constructed&&(j.readingMore=!0,l.nextTick(re,k,j))}function re(k,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){let _e=j.length;if(m("maybeReadMore read 0"),k.read(0),_e===j.length)break}j.readingMore=!1}ge.prototype._read=function(k){throw new O("_read()")},ge.prototype.pipe=function(k,j){let _e=this,Ee=this._readableState;Ee.pipes.length===1&&(Ee.multiAwaitDrain||(Ee.multiAwaitDrain=!0,Ee.awaitDrainWriters=new f(Ee.awaitDrainWriters?[Ee.awaitDrainWriters]:[]))),Ee.pipes.push(k),m("pipe count=%d opts=%j",Ee.pipes.length,j);let Ie=(!j||j.end!==!1)&&k!==l.stdout&&k!==l.stderr?qe:_t;Ee.endEmitted?l.nextTick(Ie):_e.once("end",Ie),k.on("unpipe",Ne);function Ne(et,nt){m("onunpipe"),et===_e&&nt&&nt.hasUnpiped===!1&&(nt.hasUnpiped=!0,Ft())}function qe(){m("onend"),k.end()}let He,Dt=!1;function Ft(){m("cleanup"),k.removeListener("close",Ze),k.removeListener("finish",pt),He&&k.removeListener("drain",He),k.removeListener("error",wt),k.removeListener("unpipe",Ne),_e.removeListener("end",qe),_e.removeListener("end",_t),_e.removeListener("data",Xt),Dt=!0,He&&Ee.awaitDrainWriters&&(!k._writableState||k._writableState.needDrain)&&He()}function Wt(){Dt||(Ee.pipes.length===1&&Ee.pipes[0]===k?(m("false write response, pause",0),Ee.awaitDrainWriters=k,Ee.multiAwaitDrain=!1):Ee.pipes.length>1&&Ee.pipes.includes(k)&&(m("false write response, pause",Ee.awaitDrainWriters.size),Ee.awaitDrainWriters.add(k)),_e.pause()),He||(He=xe(_e,k),k.on("drain",He))}_e.on("data",Xt);function Xt(et){m("ondata");let nt=k.write(et);m("dest.write",nt),nt===!1&&Wt()}function wt(et){if(m("onerror",et),_t(),k.removeListener("error",wt),k.listenerCount("error")===0){let nt=k._writableState||k._readableState;nt&&!nt.errorEmitted?P(k,et):k.emit("error",et)}}_(k,"error",wt);function Ze(){k.removeListener("finish",pt),_t()}k.once("close",Ze);function pt(){m("onfinish"),k.removeListener("close",Ze),_t()}k.once("finish",pt);function _t(){m("unpipe"),_e.unpipe(k)}return k.emit("pipe",_e),k.writableNeedDrain===!0?Wt():Ee.flowing||(m("pipe resume"),_e.resume()),k};function xe(k,j){return function(){let _e=k._readableState;_e.awaitDrainWriters===j?(m("pipeOnDrain",1),_e.awaitDrainWriters=null):_e.multiAwaitDrain&&(m("pipeOnDrain",_e.awaitDrainWriters.size),_e.awaitDrainWriters.delete(j)),(!_e.awaitDrainWriters||_e.awaitDrainWriters.size===0)&&k.listenerCount("data")&&k.resume()}}ge.prototype.unpipe=function(k){let j=this._readableState,_e={hasUnpiped:!1};if(j.pipes.length===0)return this;if(!k){let Ie=j.pipes;j.pipes=[],this.pause();for(let Ne=0;Ne<Ie.length;Ne++)Ie[Ne].emit("unpipe",this,{hasUnpiped:!1});return this}let Ee=a(j.pipes,k);return Ee===-1?this:(j.pipes.splice(Ee,1),j.pipes.length===0&&this.pause(),k.emit("unpipe",this,_e),this)},ge.prototype.on=function(k,j){let _e=g.prototype.on.call(this,k,j),Ee=this._readableState;return k==="data"?(Ee.readableListening=this.listenerCount("readable")>0,Ee.flowing!==!1&&this.resume()):k==="readable"&&!Ee.endEmitted&&!Ee.readableListening&&(Ee.readableListening=Ee.needReadable=!0,Ee.flowing=!1,Ee.emittedReadable=!1,m("on readable",Ee.length,Ee.reading),Ee.length?ae(this):Ee.reading||l.nextTick(Oe,this)),_e},ge.prototype.addListener=ge.prototype.on,ge.prototype.removeListener=function(k,j){let _e=g.prototype.removeListener.call(this,k,j);return k==="readable"&&l.nextTick(Te,this),_e},ge.prototype.off=ge.prototype.removeListener,ge.prototype.removeAllListeners=function(k){let j=g.prototype.removeAllListeners.apply(this,arguments);return(k==="readable"||k===void 0)&&l.nextTick(Te,this),j};function Te(k){let j=k._readableState;j.readableListening=k.listenerCount("readable")>0,j.resumeScheduled&&j[z]===!1?j.flowing=!0:k.listenerCount("data")>0?k.resume():j.readableListening||(j.flowing=null)}function Oe(k){m("readable nexttick read 0"),k.read(0)}ge.prototype.resume=function(){let k=this._readableState;return k.flowing||(m("resume"),k.flowing=!k.readableListening,ke(this,k)),k[z]=!1,this};function ke(k,j){j.resumeScheduled||(j.resumeScheduled=!0,l.nextTick(Qe,k,j))}function Qe(k,j){m("resume",j.reading),j.reading||k.read(0),j.resumeScheduled=!1,k.emit("resume"),Ye(k),j.flowing&&!j.reading&&k.read(0)}ge.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[z]=!0,this};function Ye(k){let j=k._readableState;for(m("flow",j.flowing);j.flowing&&k.read()!==null;);}ge.prototype.wrap=function(k){let j=!1;k.on("data",Ee=>{!this.push(Ee)&&k.pause&&(j=!0,k.pause())}),k.on("end",()=>{this.push(null)}),k.on("error",Ee=>{P(this,Ee)}),k.on("close",()=>{this.destroy()}),k.on("destroy",()=>{this.destroy()}),this._read=()=>{j&&k.resume&&(j=!1,k.resume())};let _e=e(k);for(let Ee=1;Ee<_e.length;Ee++){let Ie=_e[Ee];this[Ie]===void 0&&typeof k[Ie]=="function"&&(this[Ie]=k[Ie].bind(k))}return this},ge.prototype[b]=function(){return Le(this)},ge.prototype.iterator=function(k){return k!==void 0&&X(k,"options"),Le(this,k)};function Le(k,j){typeof k.read!="function"&&(k=ge.wrap(k,{objectMode:!0}));let _e=Je(k,j);return _e.stream=k,_e}async function*Je(k,j){let _e=Z;function Ee(qe){this===k?(_e(),_e=Z):_e=qe}k.on("readable",Ee);let Ie,Ne=E(k,{writable:!1},qe=>{Ie=qe?C(Ie,qe):null,_e(),_e=Z});try{for(;;){let qe=k.destroyed?null:k.read();if(qe!==null)yield qe;else{if(Ie)throw Ie;if(Ie===null)return;await new o(Ee)}}}catch(qe){throw Ie=C(Ie,qe),Ie}finally{(Ie||j?.destroyOnReturn!==!1)&&(Ie===void 0||k._readableState.autoDestroy)?I.destroyer(k,null):(k.off("readable",Ee),Ne())}}n(ge.prototype,{readable:{__proto__:null,get(){let k=this._readableState;return!!k&&k.readable!==!1&&!k.destroyed&&!k.errorEmitted&&!k.endEmitted},set(k){this._readableState&&(this._readableState.readable=!!k)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(k){this._readableState&&(this._readableState.flowing=k)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(k){this._readableState&&(this._readableState.destroyed=k)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),n(Se.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[z]!==!1},set(k){this[z]=!!k}}}),ge._fromList=kt;function kt(k,j){if(j.length===0)return null;let _e;return j.objectMode?_e=j.buffer.shift():!k||k>=j.length?(j.decoder?_e=j.buffer.join(""):j.buffer.length===1?_e=j.buffer.first():_e=j.buffer.concat(j.length),j.buffer.clear()):_e=j.buffer.consume(k,j.decoder),_e}function Xe(k){let j=k._readableState;m("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,l.nextTick(Ke,j,k))}function Ke(k,j){if(m("endReadableNT",k.endEmitted,k.length),!k.errored&&!k.closeEmitted&&!k.endEmitted&&k.length===0){if(k.endEmitted=!0,j.emit("end"),j.writable&&j.allowHalfOpen===!1)l.nextTick(Jt,j);else if(k.autoDestroy){let _e=j._writableState;(!_e||_e.autoDestroy&&(_e.finished||_e.writable===!1))&&j.destroy()}}}function Jt(k){k.writable&&!k.writableEnded&&!k.destroyed&&k.end()}ge.from=function(k,j){return D(ge,k,j)};var Pt;function Lt(){return Pt===void 0&&(Pt={}),Pt}ge.fromWeb=function(k,j){return Lt().newStreamReadableFromReadableStream(k,j)},ge.toWeb=function(k,j){return Lt().newReadableStreamFromStreamReadable(k,j)},ge.wrap=function(k,j){var _e,Ee;return new ge(Ge(Pe({objectMode:(_e=(Ee=k.readableObjectMode)!==null&&Ee!==void 0?Ee:k.objectMode)!==null&&_e!==void 0?_e:!0},j),{destroy(Ie,Ne){I.destroyer(k,Ie),Ne(Ie)}})).wrap(k)}}),Fi=pe((y,c)=>{"use strict";le(),ce(),ue();var l=Tt(),{ArrayPrototypeSlice:a,Error:u,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:t,ObjectDefineProperties:n,ObjectSetPrototypeOf:e,StringPrototypeToLowerCase:i,Symbol:o,SymbolHasInstance:f}=je();c.exports=X,X.WritableState=B;var{EventEmitter:d}=(xt(),Re(mt)),b=Di().Stream,{Buffer:v}=(Ue(),Re(Be)),p=Nt(),{addAbortSignal:g}=Or(),{getHighWaterMark:_,getDefaultHighWaterMark:h}=kr(),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_MULTIPLE_CALLBACK:m,ERR_STREAM_CANNOT_PIPE:A,ERR_STREAM_DESTROYED:I,ERR_STREAM_ALREADY_FINISHED:T,ERR_STREAM_NULL_VALUES:R,ERR_STREAM_WRITE_AFTER_END:C,ERR_UNKNOWN_ENCODING:U}=$e().codes,{errorOrDestroy:O}=p;e(X.prototype,b.prototype),e(X,b);function L(){}var $=o("kOnFinished");function B(M,F,ee){typeof ee!="boolean"&&(ee=F instanceof lt()),this.objectMode=!!(M&&M.objectMode),ee&&(this.objectMode=this.objectMode||!!(M&&M.writableObjectMode)),this.highWaterMark=M?_(this,M,"writableHighWaterMark",ee):h(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let he=!!(M&&M.decodeStrings===!1);this.decodeStrings=!he,this.defaultEncoding=M&&M.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=P.bind(void 0,F),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,oe(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!M||M.emitClose!==!1,this.autoDestroy=!M||M.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[$]=[]}function oe(M){M.buffered=[],M.bufferedIndex=0,M.allBuffers=!0,M.allNoop=!0}B.prototype.getBuffer=function(){return a(this.buffered,this.bufferedIndex)},t(B.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function X(M){let F=this instanceof lt();if(!F&&!r(X,this))return new X(M);this._writableState=new B(M,this,F),M&&(typeof M.write=="function"&&(this._write=M.write),typeof M.writev=="function"&&(this._writev=M.writev),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.final=="function"&&(this._final=M.final),typeof M.construct=="function"&&(this._construct=M.construct),M.signal&&g(M.signal,this)),b.call(this,M),p.construct(this,()=>{let ee=this._writableState;ee.writing||we(this,ee),H(this,ee)})}t(X,f,{__proto__:null,value:function(M){return r(this,M)?!0:this!==X?!1:M&&M._writableState instanceof B}}),X.prototype.pipe=function(){O(this,new A)};function z(M,F,ee,he){let fe=M._writableState;if(typeof ee=="function")he=ee,ee=fe.defaultEncoding;else{if(!ee)ee=fe.defaultEncoding;else if(ee!=="buffer"&&!v.isEncoding(ee))throw new U(ee);typeof he!="function"&&(he=L)}if(F===null)throw new R;if(!fe.objectMode)if(typeof F=="string")fe.decodeStrings!==!1&&(F=v.from(F,ee),ee="buffer");else if(F instanceof v)ee="buffer";else if(b._isUint8Array(F))F=b._uint8ArrayToBuffer(F),ee="buffer";else throw new w("chunk",["string","Buffer","Uint8Array"],F);let me;return fe.ending?me=new C:fe.destroyed&&(me=new I("write")),me?(l.nextTick(he,me),O(M,me,!0),me):(fe.pendingcb++,ne(M,fe,F,ee,he))}X.prototype.write=function(M,F,ee){return z(this,M,F,ee)===!0},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){let M=this._writableState;M.corked&&(M.corked--,M.writing||we(this,M))},X.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=i(M)),!v.isEncoding(M))throw new U(M);return this._writableState.defaultEncoding=M,this};function ne(M,F,ee,he,fe){let me=F.objectMode?1:ee.length;F.length+=me;let q=F.length<F.highWaterMark;return q||(F.needDrain=!0),F.writing||F.corked||F.errored||!F.constructed?(F.buffered.push({chunk:ee,encoding:he,callback:fe}),F.allBuffers&&he!=="buffer"&&(F.allBuffers=!1),F.allNoop&&fe!==L&&(F.allNoop=!1)):(F.writelen=me,F.writecb=fe,F.writing=!0,F.sync=!0,M._write(ee,he,F.onwrite),F.sync=!1),q&&!F.errored&&!F.destroyed}function D(M,F,ee,he,fe,me,q){F.writelen=he,F.writecb=q,F.writing=!0,F.sync=!0,F.destroyed?F.onwrite(new I("write")):ee?M._writev(fe,F.onwrite):M._write(fe,me,F.onwrite),F.sync=!1}function Z(M,F,ee,he){--F.pendingcb,he(ee),te(F),O(M,ee)}function P(M,F){let ee=M._writableState,he=ee.sync,fe=ee.writecb;if(typeof fe!="function"){O(M,new m);return}ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0,F?(F.stack,ee.errored||(ee.errored=F),M._readableState&&!M._readableState.errored&&(M._readableState.errored=F),he?l.nextTick(Z,M,ee,F,fe):Z(M,ee,F,fe)):(ee.buffered.length>ee.bufferedIndex&&we(M,ee),he?ee.afterWriteTickInfo!==null&&ee.afterWriteTickInfo.cb===fe?ee.afterWriteTickInfo.count++:(ee.afterWriteTickInfo={count:1,cb:fe,stream:M,state:ee},l.nextTick(Y,ee.afterWriteTickInfo)):be(M,ee,1,fe))}function Y({stream:M,state:F,count:ee,cb:he}){return F.afterWriteTickInfo=null,be(M,F,ee,he)}function be(M,F,ee,he){for(!F.ending&&!M.destroyed&&F.length===0&&F.needDrain&&(F.needDrain=!1,M.emit("drain"));ee-- >0;)F.pendingcb--,he();F.destroyed&&te(F),H(M,F)}function te(M){if(M.writing)return;for(let fe=M.bufferedIndex;fe<M.buffered.length;++fe){var F;let{chunk:me,callback:q}=M.buffered[fe],de=M.objectMode?1:me.length;M.length-=de,q((F=M.errored)!==null&&F!==void 0?F:new I("write"))}let ee=M[$].splice(0);for(let fe=0;fe<ee.length;fe++){var he;ee[fe]((he=M.errored)!==null&&he!==void 0?he:new I("end"))}oe(M)}function we(M,F){if(F.corked||F.bufferProcessing||F.destroyed||!F.constructed)return;let{buffered:ee,bufferedIndex:he,objectMode:fe}=F,me=ee.length-he;if(!me)return;let q=he;if(F.bufferProcessing=!0,me>1&&M._writev){F.pendingcb-=me-1;let de=F.allNoop?L:ge=>{for(let Ae=q;Ae<ee.length;++Ae)ee[Ae].callback(ge)},Se=F.allNoop&&q===0?ee:a(ee,q);Se.allBuffers=F.allBuffers,D(M,F,!0,F.length,Se,"",de),oe(F)}else{do{let{chunk:de,encoding:Se,callback:ge}=ee[q];ee[q++]=null;let Ae=fe?1:de.length;D(M,F,!1,Ae,de,Se,ge)}while(q<ee.length&&!F.writing);q===ee.length?oe(F):q>256?(ee.splice(0,q),F.bufferedIndex=0):F.bufferedIndex=q}F.bufferProcessing=!1}X.prototype._write=function(M,F,ee){if(this._writev)this._writev([{chunk:M,encoding:F}],ee);else throw new E("_write()")},X.prototype._writev=null,X.prototype.end=function(M,F,ee){let he=this._writableState;typeof M=="function"?(ee=M,M=null,F=null):typeof F=="function"&&(ee=F,F=null);let fe;if(M!=null){let me=z(this,M,F);me instanceof u&&(fe=me)}return he.corked&&(he.corked=1,this.uncork()),fe||(!he.errored&&!he.ending?(he.ending=!0,H(this,he,!0),he.ended=!0):he.finished?fe=new T("end"):he.destroyed&&(fe=new I("end"))),typeof ee=="function"&&(fe||he.finished?l.nextTick(ee,fe):he[$].push(ee)),this};function K(M){return M.ending&&!M.destroyed&&M.constructed&&M.length===0&&!M.errored&&M.buffered.length===0&&!M.finished&&!M.writing&&!M.errorEmitted&&!M.closeEmitted}function N(M,F){let ee=!1;function he(fe){if(ee){O(M,fe??m());return}if(ee=!0,F.pendingcb--,fe){let me=F[$].splice(0);for(let q=0;q<me.length;q++)me[q](fe);O(M,fe,F.sync)}else K(F)&&(F.prefinished=!0,M.emit("prefinish"),F.pendingcb++,l.nextTick(V,M,F))}F.sync=!0,F.pendingcb++;try{M._final(he)}catch(fe){he(fe)}F.sync=!1}function ie(M,F){!F.prefinished&&!F.finalCalled&&(typeof M._final=="function"&&!F.destroyed?(F.finalCalled=!0,N(M,F)):(F.prefinished=!0,M.emit("prefinish")))}function H(M,F,ee){K(F)&&(ie(M,F),F.pendingcb===0&&(ee?(F.pendingcb++,l.nextTick((he,fe)=>{K(fe)?V(he,fe):fe.pendingcb--},M,F)):K(F)&&(F.pendingcb++,V(M,F))))}function V(M,F){F.pendingcb--,F.finished=!0;let ee=F[$].splice(0);for(let he=0;he<ee.length;he++)ee[he]();if(M.emit("finish"),F.autoDestroy){let he=M._readableState;(!he||he.autoDestroy&&(he.endEmitted||he.readable===!1))&&M.destroy()}}n(X.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(M){this._writableState&&(this._writableState.destroyed=M)}},writable:{__proto__:null,get(){let M=this._writableState;return!!M&&M.writable!==!1&&!M.destroyed&&!M.errored&&!M.ending&&!M.ended},set(M){this._writableState&&(this._writableState.writable=!!M)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let M=this._writableState;return M?!M.destroyed&&!M.ending&&M.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Q=p.destroy;X.prototype.destroy=function(M,F){let ee=this._writableState;return!ee.destroyed&&(ee.bufferedIndex<ee.buffered.length||ee[$].length)&&l.nextTick(te,ee),Q.call(this,M,F),this},X.prototype._undestroy=p.undestroy,X.prototype._destroy=function(M,F){F(M)},X.prototype[d.captureRejectionSymbol]=function(M){this.destroy(M)};var ye;function se(){return ye===void 0&&(ye={}),ye}X.fromWeb=function(M,F){return se().newStreamWritableFromWritableStream(M,F)},X.toWeb=function(M){return se().newWritableStreamFromStreamWritable(M)}}),Ya=pe((y,c)=>{le(),ce(),ue();var l=Tt(),a=(Ue(),Re(Be)),{isReadable:u,isWritable:r,isIterable:t,isNodeStream:n,isReadableNodeStream:e,isWritableNodeStream:i,isDuplexNodeStream:o,isReadableStream:f,isWritableStream:d}=ct(),b=vt(),{AbortError:v,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:g}}=$e(),{destroyer:_}=Nt(),h=lt(),w=Pr(),E=Fi(),{createDeferredPromise:m}=ze(),A=xs(),I=globalThis.Blob||a.Blob,T=typeof I<"u"?function($){return $ instanceof I}:function($){return!1},R=globalThis.AbortController||Gt().AbortController,{FunctionPrototypeCall:C}=je(),U=class extends h{constructor($){super($),$?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),$?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};c.exports=function $(B,oe){if(o(B))return B;if(e(B))return L({readable:B});if(i(B))return L({writable:B});if(n(B))return L({writable:!1,readable:!1});if(f(B))return L({readable:w.fromWeb(B)});if(d(B))return L({writable:E.fromWeb(B)});if(typeof B=="function"){let{value:z,write:ne,final:D,destroy:Z}=O(B);if(t(z))return A(U,z,{objectMode:!0,write:ne,final:D,destroy:Z});let P=z?.then;if(typeof P=="function"){let Y,be=C(P,z,te=>{if(te!=null)throw new g("nully","body",te)},te=>{_(Y,te)});return Y=new U({objectMode:!0,readable:!1,write:ne,final(te){D(async()=>{try{await be,l.nextTick(te,null)}catch(we){l.nextTick(te,we)}})},destroy:Z})}throw new g("Iterable, AsyncIterable or AsyncFunction",oe,z)}if(T(B))return $(B.arrayBuffer());if(t(B))return A(U,B,{objectMode:!0,writable:!1});if(f(B?.readable)&&d(B?.writable))return U.fromWeb(B);if(typeof B?.writable=="object"||typeof B?.readable=="object"){let z=B!=null&&B.readable?e(B?.readable)?B?.readable:$(B.readable):void 0,ne=B!=null&&B.writable?i(B?.writable)?B?.writable:$(B.writable):void 0;return L({readable:z,writable:ne})}let X=B?.then;if(typeof X=="function"){let z;return C(X,B,ne=>{ne!=null&&z.push(ne),z.push(null)},ne=>{_(z,ne)}),z=new U({objectMode:!0,writable:!1,read(){}})}throw new p(oe,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],B)};function O($){let{promise:B,resolve:oe}=m(),X=new R,z=X.signal;return{value:$((async function*(){for(;;){let ne=B;B=null;let{chunk:D,done:Z,cb:P}=await ne;if(l.nextTick(P),Z)return;if(z.aborted)throw new v(void 0,{cause:z.reason});({promise:B,resolve:oe}=m()),yield D}})(),{signal:z}),write(ne,D,Z){let P=oe;oe=null,P({chunk:ne,done:!1,cb:Z})},final(ne){let D=oe;oe=null,D({done:!0,cb:ne})},destroy(ne,D){X.abort(),D(ne)}}}function L($){let B=$.readable&&typeof $.readable.read!="function"?w.wrap($.readable):$.readable,oe=$.writable,X=!!u(B),z=!!r(oe),ne,D,Z,P,Y;function be(te){let we=P;P=null,we?we(te):te&&Y.destroy(te)}return Y=new U({readableObjectMode:!!(B!=null&&B.readableObjectMode),writableObjectMode:!!(oe!=null&&oe.writableObjectMode),readable:X,writable:z}),z&&(b(oe,te=>{z=!1,te&&_(B,te),be(te)}),Y._write=function(te,we,K){oe.write(te,we)?K():ne=K},Y._final=function(te){oe.end(),D=te},oe.on("drain",function(){if(ne){let te=ne;ne=null,te()}}),oe.on("finish",function(){if(D){let te=D;D=null,te()}})),X&&(b(B,te=>{X=!1,te&&_(B,te),be(te)}),B.on("readable",function(){if(Z){let te=Z;Z=null,te()}}),B.on("end",function(){Y.push(null)}),Y._read=function(){for(;;){let te=B.read();if(te===null){Z=Y._read;return}if(!Y.push(te))return}}),Y._destroy=function(te,we){!te&&P!==null&&(te=new v),Z=null,ne=null,D=null,P===null?we(te):(P=we,_(oe,te),_(B,te))},Y}}),lt=pe((y,c)=>{"use strict";le(),ce(),ue();var{ObjectDefineProperties:l,ObjectGetOwnPropertyDescriptor:a,ObjectKeys:u,ObjectSetPrototypeOf:r}=je();c.exports=e;var t=Pr(),n=Fi();r(e.prototype,t.prototype),r(e,t);{let d=u(n.prototype);for(let b=0;b<d.length;b++){let v=d[b];e.prototype[v]||(e.prototype[v]=n.prototype[v])}}function e(d){if(!(this instanceof e))return new e(d);t.call(this,d),n.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}l(e.prototype,{writable:Pe({__proto__:null},a(n.prototype,"writable")),writableHighWaterMark:Pe({__proto__:null},a(n.prototype,"writableHighWaterMark")),writableObjectMode:Pe({__proto__:null},a(n.prototype,"writableObjectMode")),writableBuffer:Pe({__proto__:null},a(n.prototype,"writableBuffer")),writableLength:Pe({__proto__:null},a(n.prototype,"writableLength")),writableFinished:Pe({__proto__:null},a(n.prototype,"writableFinished")),writableCorked:Pe({__proto__:null},a(n.prototype,"writableCorked")),writableEnded:Pe({__proto__:null},a(n.prototype,"writableEnded")),writableNeedDrain:Pe({__proto__:null},a(n.prototype,"writableNeedDrain")),destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});var i;function o(){return i===void 0&&(i={}),i}e.fromWeb=function(d,b){return o().newStreamDuplexFromReadableWritablePair(d,b)},e.toWeb=function(d){return o().newReadableWritablePairFromDuplex(d)};var f;e.from=function(d){return f||(f=Ya()),f(d,"body")}}),Ts=pe((y,c)=>{"use strict";le(),ce(),ue();var{ObjectSetPrototypeOf:l,Symbol:a}=je();c.exports=e;var{ERR_METHOD_NOT_IMPLEMENTED:u}=$e().codes,r=lt(),{getHighWaterMark:t}=kr();l(e.prototype,r.prototype),l(e,r);var n=a("kCallback");function e(f){if(!(this instanceof e))return new e(f);let d=f?t(this,f,"readableHighWaterMark",!0):null;d===0&&(f=Ge(Pe({},f),{highWaterMark:null,readableHighWaterMark:d,writableHighWaterMark:f.writableHighWaterMark||0})),r.call(this,f),this._readableState.sync=!1,this[n]=null,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",o)}function i(f){typeof this._flush=="function"&&!this.destroyed?this._flush((d,b)=>{if(d){f?f(d):this.destroy(d);return}b!=null&&this.push(b),this.push(null),f&&f()}):(this.push(null),f&&f())}function o(){this._final!==i&&i.call(this)}e.prototype._final=i,e.prototype._transform=function(f,d,b){throw new u("_transform()")},e.prototype._write=function(f,d,b){let v=this._readableState,p=this._writableState,g=v.length;this._transform(f,d,(_,h)=>{if(_){b(_);return}h!=null&&this.push(h),p.ended||g===v.length||v.length<v.highWaterMark?b():this[n]=b})},e.prototype._read=function(){if(this[n]){let f=this[n];this[n]=null,f()}}}),Os=pe((y,c)=>{"use strict";le(),ce(),ue();var{ObjectSetPrototypeOf:l}=je();c.exports=u;var a=Ts();l(u.prototype,a.prototype),l(u,a);function u(r){if(!(this instanceof u))return new u(r);a.call(this,r)}u.prototype._transform=function(r,t,n){n(null,r)}}),Wi=pe((y,c)=>{le(),ce(),ue();var l=Tt(),{ArrayIsArray:a,Promise:u,SymbolAsyncIterator:r,SymbolDispose:t}=je(),n=vt(),{once:e}=ze(),i=Nt(),o=lt(),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:b,ERR_MISSING_ARGS:v,ERR_STREAM_DESTROYED:p,ERR_STREAM_PREMATURE_CLOSE:g},AbortError:_}=$e(),{validateFunction:h,validateAbortSignal:w}=Qt(),{isIterable:E,isReadable:m,isReadableNodeStream:A,isNodeStream:I,isTransformStream:T,isWebStream:R,isReadableStream:C,isReadableFinished:U}=ct(),O=globalThis.AbortController||Gt().AbortController,L,$,B;function oe(te,we,K){let N=!1;te.on("close",()=>{N=!0});let ie=n(te,{readable:we,writable:K},H=>{N=!H});return{destroy:H=>{N||(N=!0,i.destroyer(te,H||new p("pipe")))},cleanup:ie}}function X(te){return h(te[te.length-1],"streams[stream.length - 1]"),te.pop()}function z(te){if(E(te))return te;if(A(te))return ne(te);throw new d("val",["Readable","Iterable","AsyncIterable"],te)}async function*ne(te){$||($=Pr()),yield*$.prototype[r].call(te)}async function D(te,we,K,{end:N}){let ie,H=null,V=se=>{if(se&&(ie=se),H){let M=H;H=null,M()}},Q=()=>new u((se,M)=>{ie?M(ie):H=()=>{ie?M(ie):se()}});we.on("drain",V);let ye=n(we,{readable:!1},V);try{we.writableNeedDrain&&await Q();for await(let se of te)we.write(se)||await Q();N&&(we.end(),await Q()),K()}catch(se){K(ie!==se?f(ie,se):se)}finally{ye(),we.off("drain",V)}}async function Z(te,we,K,{end:N}){T(we)&&(we=we.writable);let ie=we.getWriter();try{for await(let H of te)await ie.ready,ie.write(H).catch(()=>{});await ie.ready,N&&await ie.close(),K()}catch(H){try{await ie.abort(H),K(H)}catch(V){K(V)}}}function P(...te){return Y(te,e(X(te)))}function Y(te,we,K){if(te.length===1&&a(te[0])&&(te=te[0]),te.length<2)throw new v("streams");let N=new O,ie=N.signal,H=K?.signal,V=[];w(H,"options.signal");function Q(){fe(new _)}B=B||ze().addAbortListener;let ye;H&&(ye=B(H,Q));let se,M,F=[],ee=0;function he(ge){fe(ge,--ee===0)}function fe(ge,Ae){var s;if(ge&&(!se||se.code==="ERR_STREAM_PREMATURE_CLOSE")&&(se=ge),!(!se&&!Ae)){for(;F.length;)F.shift()(se);(s=ye)===null||s===void 0||s[t](),N.abort(),Ae&&(se||V.forEach(S=>S()),l.nextTick(we,se,M))}}let me;for(let ge=0;ge<te.length;ge++){let Ae=te[ge],s=ge<te.length-1,S=ge>0,x=s||K?.end!==!1,W=ge===te.length-1;if(I(Ae)){let J=function(ae){ae&&ae.name!=="AbortError"&&ae.code!=="ERR_STREAM_PREMATURE_CLOSE"&&he(ae)};var q=J;if(x){let{destroy:ae,cleanup:ve}=oe(Ae,s,S);F.push(ae),m(Ae)&&W&&V.push(ve)}Ae.on("error",J),m(Ae)&&W&&V.push(()=>{Ae.removeListener("error",J)})}if(ge===0)if(typeof Ae=="function"){if(me=Ae({signal:ie}),!E(me))throw new b("Iterable, AsyncIterable or Stream","source",me)}else E(Ae)||A(Ae)||T(Ae)?me=Ae:me=o.from(Ae);else if(typeof Ae=="function"){if(T(me)){var de;me=z((de=me)===null||de===void 0?void 0:de.readable)}else me=z(me);if(me=Ae(me,{signal:ie}),s){if(!E(me,!0))throw new b("AsyncIterable",`transform[${ge-1}]`,me)}else{var Se;L||(L=Os());let J=new L({objectMode:!0}),ae=(Se=me)===null||Se===void 0?void 0:Se.then;if(typeof ae=="function")ee++,ae.call(me,re=>{M=re,re!=null&&J.write(re),x&&J.end(),l.nextTick(he)},re=>{J.destroy(re),l.nextTick(he,re)});else if(E(me,!0))ee++,D(me,J,he,{end:x});else if(C(me)||T(me)){let re=me.readable||me;ee++,D(re,J,he,{end:x})}else throw new b("AsyncIterable or Promise","destination",me);me=J;let{destroy:ve,cleanup:G}=oe(me,!1,!0);F.push(ve),W&&V.push(G)}}else if(I(Ae)){if(A(me)){ee+=2;let J=be(me,Ae,he,{end:x});m(Ae)&&W&&V.push(J)}else if(T(me)||C(me)){let J=me.readable||me;ee++,D(J,Ae,he,{end:x})}else if(E(me))ee++,D(me,Ae,he,{end:x});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],me);me=Ae}else if(R(Ae)){if(A(me))ee++,Z(z(me),Ae,he,{end:x});else if(C(me)||E(me))ee++,Z(me,Ae,he,{end:x});else if(T(me))ee++,Z(me.readable,Ae,he,{end:x});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],me);me=Ae}else me=o.from(Ae)}return(ie!=null&&ie.aborted||H!=null&&H.aborted)&&l.nextTick(Q),me}function be(te,we,K,{end:N}){let ie=!1;if(we.on("close",()=>{ie||K(new g)}),te.pipe(we,{end:!1}),N){let V=function(){ie=!0,we.end()};var H=V;U(te)?l.nextTick(V):te.once("end",V)}else K();return n(te,{readable:!0,writable:!1},V=>{let Q=te._readableState;V&&V.code==="ERR_STREAM_PREMATURE_CLOSE"&&Q&&Q.ended&&!Q.errored&&!Q.errorEmitted?te.once("end",K).once("error",K):K(V)}),n(we,{readable:!1,writable:!0},K)}c.exports={pipelineImpl:Y,pipeline:P}}),ks=pe((y,c)=>{"use strict";le(),ce(),ue();var{pipeline:l}=Wi(),a=lt(),{destroyer:u}=Nt(),{isNodeStream:r,isReadable:t,isWritable:n,isWebStream:e,isTransformStream:i,isWritableStream:o,isReadableStream:f}=ct(),{AbortError:d,codes:{ERR_INVALID_ARG_VALUE:b,ERR_MISSING_ARGS:v}}=$e(),p=vt();c.exports=function(...g){if(g.length===0)throw new v("streams");if(g.length===1)return a.from(g[0]);let _=[...g];if(typeof g[0]=="function"&&(g[0]=a.from(g[0])),typeof g[g.length-1]=="function"){let O=g.length-1;g[O]=a.from(g[O])}for(let O=0;O<g.length;++O)if(!(!r(g[O])&&!e(g[O]))){if(O<g.length-1&&!(t(g[O])||f(g[O])||i(g[O])))throw new b(`streams[${O}]`,_[O],"must be readable");if(O>0&&!(n(g[O])||o(g[O])||i(g[O])))throw new b(`streams[${O}]`,_[O],"must be writable")}let h,w,E,m,A;function I(O){let L=m;m=null,L?L(O):O?A.destroy(O):!U&&!C&&A.destroy()}let T=g[0],R=l(g,I),C=!!(n(T)||o(T)||i(T)),U=!!(t(R)||f(R)||i(R));if(A=new a({writableObjectMode:!!(T!=null&&T.writableObjectMode),readableObjectMode:!!(R!=null&&R.readableObjectMode),writable:C,readable:U}),C){if(r(T))A._write=function(L,$,B){T.write(L,$)?B():h=B},A._final=function(L){T.end(),w=L},T.on("drain",function(){if(h){let L=h;h=null,L()}});else if(e(T)){let L=(i(T)?T.writable:T).getWriter();A._write=async function($,B,oe){try{await L.ready,L.write($).catch(()=>{}),oe()}catch(X){oe(X)}},A._final=async function($){try{await L.ready,L.close().catch(()=>{}),w=$}catch(B){$(B)}}}let O=i(R)?R.readable:R;p(O,()=>{if(w){let L=w;w=null,L()}})}if(U){if(r(R))R.on("readable",function(){if(E){let O=E;E=null,O()}}),R.on("end",function(){A.push(null)}),A._read=function(){for(;;){let O=R.read();if(O===null){E=A._read;return}if(!A.push(O))return}};else if(e(R)){let O=(i(R)?R.readable:R).getReader();A._read=async function(){for(;;)try{let{value:L,done:$}=await O.read();if(!A.push(L))return;if($){A.push(null);return}}catch{return}}}}return A._destroy=function(O,L){!O&&m!==null&&(O=new d),E=null,h=null,w=null,m===null?L(O):(m=L,r(R)&&u(R,O))},A}}),Ja=pe((y,c)=>{"use strict";le(),ce(),ue();var l=globalThis.AbortController||Gt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:a,ERR_INVALID_ARG_TYPE:u,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:t},AbortError:n}=$e(),{validateAbortSignal:e,validateInteger:i,validateObject:o}=Qt(),f=je().Symbol("kWeak"),d=je().Symbol("kResistStopPropagation"),{finished:b}=vt(),v=ks(),{addAbortSignalNoValidate:p}=Or(),{isWritable:g,isNodeStream:_}=ct(),{deprecate:h}=ze(),{ArrayPrototypePush:w,Boolean:E,MathFloor:m,Number:A,NumberIsNaN:I,Promise:T,PromiseReject:R,PromiseResolve:C,PromisePrototypeThen:U,Symbol:O}=je(),L=O("kEmpty"),$=O("kEof");function B(H,V){if(V!=null&&o(V,"options"),V?.signal!=null&&e(V.signal,"options.signal"),_(H)&&!g(H))throw new a("stream",H,"must be writable");let Q=v(this,H);return V!=null&&V.signal&&p(V.signal,Q),Q}function oe(H,V){if(typeof H!="function")throw new u("fn",["Function","AsyncFunction"],H);V!=null&&o(V,"options"),V?.signal!=null&&e(V.signal,"options.signal");let Q=1;V?.concurrency!=null&&(Q=m(V.concurrency));let ye=Q-1;return V?.highWaterMark!=null&&(ye=m(V.highWaterMark)),i(Q,"options.concurrency",1),i(ye,"options.highWaterMark",0),ye+=Q,async function*(){let se=ze().AbortSignalAny([V?.signal].filter(E)),M=this,F=[],ee={signal:se},he,fe,me=!1,q=0;function de(){me=!0,Se()}function Se(){q-=1,ge()}function ge(){fe&&!me&&q<Q&&F.length<ye&&(fe(),fe=null)}async function Ae(){try{for await(let s of M){if(me)return;if(se.aborted)throw new n;try{if(s=H(s,ee),s===L)continue;s=C(s)}catch(S){s=R(S)}q+=1,U(s,Se,de),F.push(s),he&&(he(),he=null),!me&&(F.length>=ye||q>=Q)&&await new T(S=>{fe=S})}F.push($)}catch(s){let S=R(s);U(S,Se,de),F.push(S)}finally{me=!0,he&&(he(),he=null)}}Ae();try{for(;;){for(;F.length>0;){let s=await F[0];if(s===$)return;if(se.aborted)throw new n;s!==L&&(yield s),F.shift(),ge()}await new T(s=>{he=s})}}finally{me=!0,fe&&(fe(),fe=null)}}.call(this)}function X(H=void 0){return H!=null&&o(H,"options"),H?.signal!=null&&e(H.signal,"options.signal"),async function*(){let V=0;for await(let ye of this){var Q;if(H!=null&&(Q=H.signal)!==null&&Q!==void 0&&Q.aborted)throw new n({cause:H.signal.reason});yield[V++,ye]}}.call(this)}async function z(H,V=void 0){for await(let Q of P.call(this,H,V))return!0;return!1}async function ne(H,V=void 0){if(typeof H!="function")throw new u("fn",["Function","AsyncFunction"],H);return!await z.call(this,async(...Q)=>!await H(...Q),V)}async function D(H,V){for await(let Q of P.call(this,H,V))return Q}async function Z(H,V){if(typeof H!="function")throw new u("fn",["Function","AsyncFunction"],H);async function Q(ye,se){return await H(ye,se),L}for await(let ye of oe.call(this,Q,V));}function P(H,V){if(typeof H!="function")throw new u("fn",["Function","AsyncFunction"],H);async function Q(ye,se){return await H(ye,se)?ye:L}return oe.call(this,Q,V)}var Y=class extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function be(H,V,Q){var ye;if(typeof H!="function")throw new u("reducer",["Function","AsyncFunction"],H);Q!=null&&o(Q,"options"),Q?.signal!=null&&e(Q.signal,"options.signal");let se=arguments.length>1;if(Q!=null&&(ye=Q.signal)!==null&&ye!==void 0&&ye.aborted){let fe=new n(void 0,{cause:Q.signal.reason});throw this.once("error",()=>{}),await b(this.destroy(fe)),fe}let M=new l,F=M.signal;if(Q!=null&&Q.signal){let fe={once:!0,[f]:this,[d]:!0};Q.signal.addEventListener("abort",()=>M.abort(),fe)}let ee=!1;try{for await(let fe of this){var he;if(ee=!0,Q!=null&&(he=Q.signal)!==null&&he!==void 0&&he.aborted)throw new n;se?V=await H(V,fe,{signal:F}):(V=fe,se=!0)}if(!ee&&!se)throw new Y}finally{M.abort()}return V}async function te(H){H!=null&&o(H,"options"),H?.signal!=null&&e(H.signal,"options.signal");let V=[];for await(let ye of this){var Q;if(H!=null&&(Q=H.signal)!==null&&Q!==void 0&&Q.aborted)throw new n(void 0,{cause:H.signal.reason});w(V,ye)}return V}function we(H,V){let Q=oe.call(this,H,V);return async function*(){for await(let ye of Q)yield*ye}.call(this)}function K(H){if(H=A(H),I(H))return 0;if(H<0)throw new t("number",">= 0",H);return H}function N(H,V=void 0){return V!=null&&o(V,"options"),V?.signal!=null&&e(V.signal,"options.signal"),H=K(H),async function*(){var Q;if(V!=null&&(Q=V.signal)!==null&&Q!==void 0&&Q.aborted)throw new n;for await(let se of this){var ye;if(V!=null&&(ye=V.signal)!==null&&ye!==void 0&&ye.aborted)throw new n;H--<=0&&(yield se)}}.call(this)}function ie(H,V=void 0){return V!=null&&o(V,"options"),V?.signal!=null&&e(V.signal,"options.signal"),H=K(H),async function*(){var Q;if(V!=null&&(Q=V.signal)!==null&&Q!==void 0&&Q.aborted)throw new n;for await(let se of this){var ye;if(V!=null&&(ye=V.signal)!==null&&ye!==void 0&&ye.aborted)throw new n;if(H-- >0&&(yield se),H<=0)return}}.call(this)}c.exports.streamReturningOperators={asIndexedPairs:h(X,"readable.asIndexedPairs will be removed in a future version."),drop:N,filter:P,flatMap:we,map:oe,take:ie,compose:B},c.exports.promiseReturningOperators={every:ne,forEach:Z,reduce:be,toArray:te,some:z,find:D}}),Ps=pe((y,c)=>{"use strict";le(),ce(),ue();var{ArrayPrototypePop:l,Promise:a}=je(),{isIterable:u,isNodeStream:r,isWebStream:t}=ct(),{pipelineImpl:n}=Wi(),{finished:e}=vt();Rs();function i(...o){return new a((f,d)=>{let b,v,p=o[o.length-1];if(p&&typeof p=="object"&&!r(p)&&!u(p)&&!t(p)){let g=l(o);b=g.signal,v=g.end}n(o,(g,_)=>{g?d(g):f(_)},{signal:b,end:v})})}c.exports={finished:e,pipeline:i}}),Rs=pe((y,c)=>{"use strict";le(),ce(),ue();var{Buffer:l}=(Ue(),Re(Be)),{ObjectDefineProperty:a,ObjectKeys:u,ReflectApply:r}=je(),{promisify:{custom:t}}=ze(),{streamReturningOperators:n,promiseReturningOperators:e}=Ja(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:i}}=$e(),o=ks(),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:d}=kr(),{pipeline:b}=Wi(),{destroyer:v}=Nt(),p=vt(),g=Ps(),_=ct(),h=c.exports=Di().Stream;h.isDestroyed=_.isDestroyed,h.isDisturbed=_.isDisturbed,h.isErrored=_.isErrored,h.isReadable=_.isReadable,h.isWritable=_.isWritable,h.Readable=Pr();for(let E of u(n)){let m=function(...I){if(new.target)throw i();return h.Readable.from(r(A,this,I))},A=n[E];a(m,"name",{__proto__:null,value:A.name}),a(m,"length",{__proto__:null,value:A.length}),a(h.Readable.prototype,E,{__proto__:null,value:m,enumerable:!1,configurable:!0,writable:!0})}for(let E of u(e)){let m=function(...I){if(new.target)throw i();return r(A,this,I)},A=e[E];a(m,"name",{__proto__:null,value:A.name}),a(m,"length",{__proto__:null,value:A.length}),a(h.Readable.prototype,E,{__proto__:null,value:m,enumerable:!1,configurable:!0,writable:!0})}h.Writable=Fi(),h.Duplex=lt(),h.Transform=Ts(),h.PassThrough=Os(),h.pipeline=b;var{addAbortSignal:w}=Or();h.addAbortSignal=w,h.finished=p,h.destroy=v,h.compose=o,h.setDefaultHighWaterMark=f,h.getDefaultHighWaterMark=d,a(h,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return g}}),a(b,t,{__proto__:null,enumerable:!0,get(){return g.pipeline}}),a(p,t,{__proto__:null,enumerable:!0,get(){return g.finished}}),h.Stream=h,h._isUint8Array=function(E){return E instanceof Uint8Array},h._uint8ArrayToBuffer=function(E){return l.from(E.buffer,E.byteOffset,E.byteLength)}}),Ot=pe((y,c)=>{"use strict";le(),ce(),ue();var l=Rs(),a=Ps(),u=l.Readable.destroy;c.exports=l.Readable,c.exports._uint8ArrayToBuffer=l._uint8ArrayToBuffer,c.exports._isUint8Array=l._isUint8Array,c.exports.isDisturbed=l.isDisturbed,c.exports.isErrored=l.isErrored,c.exports.isReadable=l.isReadable,c.exports.Readable=l.Readable,c.exports.Writable=l.Writable,c.exports.Duplex=l.Duplex,c.exports.Transform=l.Transform,c.exports.PassThrough=l.PassThrough,c.exports.addAbortSignal=l.addAbortSignal,c.exports.finished=l.finished,c.exports.destroy=l.destroy,c.exports.destroy=u,c.exports.pipeline=l.pipeline,c.exports.compose=l.compose,Object.defineProperty(l,"promises",{configurable:!0,enumerable:!0,get(){return a}}),c.exports.Stream=l.Stream,c.exports.default=c.exports}),Xa=pe((y,c)=>{le(),ce(),ue(),typeof Object.create=="function"?c.exports=function(l,a){a&&(l.super_=a,l.prototype=Object.create(a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}))}:c.exports=function(l,a){if(a){l.super_=a;var u=function(){};u.prototype=a.prototype,l.prototype=new u,l.prototype.constructor=l}}}),Za=pe((y,c)=>{"use strict";le(),ce(),ue();var{Buffer:l}=(Ue(),Re(Be)),a=Symbol.for("BufferList");function u(r){if(!(this instanceof u))return new u(r);u._init.call(this,r)}u._init=function(r){Object.defineProperty(this,a,{value:!0}),this._bufs=[],this.length=0,r&&this.append(r)},u.prototype._new=function(r){return new u(r)},u.prototype._offset=function(r){if(r===0)return[0,0];let t=0;for(let n=0;n<this._bufs.length;n++){let e=t+this._bufs[n].length;if(r<e||n===this._bufs.length-1)return[n,r-t];t=e}},u.prototype._reverseOffset=function(r){let t=r[0],n=r[1];for(let e=0;e<t;e++)n+=this._bufs[e].length;return n},u.prototype.getBuffers=function(){return this._bufs},u.prototype.get=function(r){if(r>this.length||r<0)return;let t=this._offset(r);return this._bufs[t[0]][t[1]]},u.prototype.slice=function(r,t){return typeof r=="number"&&r<0&&(r+=this.length),typeof t=="number"&&t<0&&(t+=this.length),this.copy(null,0,r,t)},u.prototype.copy=function(r,t,n,e){if((typeof n!="number"||n<0)&&(n=0),(typeof e!="number"||e>this.length)&&(e=this.length),n>=this.length||e<=0)return r||l.alloc(0);let i=!!r,o=this._offset(n),f=e-n,d=f,b=i&&t||0,v=o[1];if(n===0&&e===this.length){if(!i)return this._bufs.length===1?this._bufs[0]:l.concat(this._bufs,this.length);for(let p=0;p<this._bufs.length;p++)this._bufs[p].copy(r,b),b+=this._bufs[p].length;return r}if(d<=this._bufs[o[0]].length-v)return i?this._bufs[o[0]].copy(r,t,v,v+d):this._bufs[o[0]].slice(v,v+d);i||(r=l.allocUnsafe(f));for(let p=o[0];p<this._bufs.length;p++){let g=this._bufs[p].length-v;if(d>g)this._bufs[p].copy(r,b,v),b+=g;else{this._bufs[p].copy(r,b,v,v+d),b+=g;break}d-=g,v&&(v=0)}return r.length>b?r.slice(0,b):r},u.prototype.shallowSlice=function(r,t){if(r=r||0,t=typeof t!="number"?this.length:t,r<0&&(r+=this.length),t<0&&(t+=this.length),r===t)return this._new();let n=this._offset(r),e=this._offset(t),i=this._bufs.slice(n[0],e[0]+1);return e[1]===0?i.pop():i[i.length-1]=i[i.length-1].slice(0,e[1]),n[1]!==0&&(i[0]=i[0].slice(n[1])),this._new(i)},u.prototype.toString=function(r,t,n){return this.slice(t,n).toString(r)},u.prototype.consume=function(r){if(r=Math.trunc(r),Number.isNaN(r)||r<=0)return this;for(;this._bufs.length;)if(r>=this._bufs[0].length)r-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(r),this.length-=r;break}return this},u.prototype.duplicate=function(){let r=this._new();for(let t=0;t<this._bufs.length;t++)r.append(this._bufs[t]);return r},u.prototype.append=function(r){return this._attach(r,u.prototype._appendBuffer)},u.prototype.prepend=function(r){return this._attach(r,u.prototype._prependBuffer,!0)},u.prototype._attach=function(r,t,n){if(r==null)return this;if(r.buffer)t.call(this,l.from(r.buffer,r.byteOffset,r.byteLength));else if(Array.isArray(r)){let[e,i]=n?[r.length-1,-1]:[0,1];for(let o=e;o>=0&&o<r.length;o+=i)this._attach(r[o],t,n)}else if(this._isBufferList(r)){let[e,i]=n?[r._bufs.length-1,-1]:[0,1];for(let o=e;o>=0&&o<r._bufs.length;o+=i)this._attach(r._bufs[o],t,n)}else typeof r=="number"&&(r=r.toString()),t.call(this,l.from(r));return this},u.prototype._appendBuffer=function(r){this._bufs.push(r),this.length+=r.length},u.prototype._prependBuffer=function(r){this._bufs.unshift(r),this.length+=r.length},u.prototype.indexOf=function(r,t,n){if(n===void 0&&typeof t=="string"&&(n=t,t=void 0),typeof r=="function"||Array.isArray(r))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof r=="number"?r=l.from([r]):typeof r=="string"?r=l.from(r,n):this._isBufferList(r)?r=r.slice():Array.isArray(r.buffer)?r=l.from(r.buffer,r.byteOffset,r.byteLength):l.isBuffer(r)||(r=l.from(r)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),r.length===0)return t>this.length?this.length:t;let e=this._offset(t),i=e[0],o=e[1];for(;i<this._bufs.length;i++){let f=this._bufs[i];for(;o<f.length;)if(f.length-o>=r.length){let d=f.indexOf(r,o);if(d!==-1)return this._reverseOffset([i,d]);o=f.length-r.length+1}else{let d=this._reverseOffset([i,o]);if(this._match(d,r))return d;o++}o=0}return-1},u.prototype._match=function(r,t){if(this.length-r<t.length)return!1;for(let n=0;n<t.length;n++)if(this.get(r+n)!==t[n])return!1;return!0},(function(){let r={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let t in r)(function(n){r[n]===null?u.prototype[n]=function(e,i){return this.slice(e,e+i)[n](0,i)}:u.prototype[n]=function(e=0){return this.slice(e,e+r[n])[n](0)}})(t)})(),u.prototype._isBufferList=function(r){return r instanceof u||u.isBufferList(r)},u.isBufferList=function(r){return r!=null&&r[a]},c.exports=u}),el=pe((y,c)=>{"use strict";le(),ce(),ue();var l=Ot().Duplex,a=Xa(),u=Za();function r(t){if(!(this instanceof r))return new r(t);if(typeof t=="function"){this._callback=t;let n=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",function(e){e.on("error",n)}),this.on("unpipe",function(e){e.removeListener("error",n)}),t=null}u._init.call(this,t),l.call(this)}a(r,l),Object.assign(r.prototype,u.prototype),r.prototype._new=function(t){return new r(t)},r.prototype._write=function(t,n,e){this._appendBuffer(t),typeof e=="function"&&e()},r.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},r.prototype.end=function(t){l.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},r.prototype._destroy=function(t,n){this._bufs.length=0,this.length=0,n(t)},r.prototype._isBufferList=function(t){return t instanceof r||t instanceof u||r.isBufferList(t)},r.isBufferList=u.isBufferList,c.exports=r,c.exports.BufferListStream=r,c.exports.BufferList=u}),tl=pe((y,c)=>{le(),ce(),ue();var l=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};c.exports=l}),Cs=pe((y,c)=>{le(),ce(),ue();var l=c.exports,{Buffer:a}=(Ue(),Re(Be));l.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},l.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},l.requiredHeaderFlagsErrors={};for(let r in l.requiredHeaderFlags){let t=l.requiredHeaderFlags[r];l.requiredHeaderFlagsErrors[r]="Invalid header flag bits, must be 0x"+t.toString(16)+" for "+l.types[r]+" packet"}l.codes={};for(let r in l.types){let t=l.types[r];l.codes[t]=r}l.CMD_SHIFT=4,l.CMD_MASK=240,l.DUP_MASK=8,l.QOS_MASK=3,l.QOS_SHIFT=1,l.RETAIN_MASK=1,l.VARBYTEINT_MASK=127,l.VARBYTEINT_FIN_MASK=128,l.VARBYTEINT_MAX=268435455,l.SESSIONPRESENT_MASK=1,l.SESSIONPRESENT_HEADER=a.from([l.SESSIONPRESENT_MASK]),l.CONNACK_HEADER=a.from([l.codes.connack<<l.CMD_SHIFT]),l.USERNAME_MASK=128,l.PASSWORD_MASK=64,l.WILL_RETAIN_MASK=32,l.WILL_QOS_MASK=24,l.WILL_QOS_SHIFT=3,l.WILL_FLAG_MASK=4,l.CLEAN_SESSION_MASK=2,l.CONNECT_HEADER=a.from([l.codes.connect<<l.CMD_SHIFT]),l.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},l.propertiesCodes={};for(let r in l.properties){let t=l.properties[r];l.propertiesCodes[t]=r}l.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function u(r){return[0,1,2].map(t=>[0,1].map(n=>[0,1].map(e=>{let i=a.alloc(1);return i.writeUInt8(l.codes[r]<<l.CMD_SHIFT|(n?l.DUP_MASK:0)|t<<l.QOS_SHIFT|e,0,!0),i})))}l.PUBLISH_HEADER=u("publish"),l.SUBSCRIBE_HEADER=u("subscribe"),l.SUBSCRIBE_OPTIONS_QOS_MASK=3,l.SUBSCRIBE_OPTIONS_NL_MASK=1,l.SUBSCRIBE_OPTIONS_NL_SHIFT=2,l.SUBSCRIBE_OPTIONS_RAP_MASK=1,l.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,l.SUBSCRIBE_OPTIONS_RH_MASK=3,l.SUBSCRIBE_OPTIONS_RH_SHIFT=4,l.SUBSCRIBE_OPTIONS_RH=[0,16,32],l.SUBSCRIBE_OPTIONS_NL=4,l.SUBSCRIBE_OPTIONS_RAP=8,l.SUBSCRIBE_OPTIONS_QOS=[0,1,2],l.UNSUBSCRIBE_HEADER=u("unsubscribe"),l.ACKS={unsuback:u("unsuback"),puback:u("puback"),pubcomp:u("pubcomp"),pubrel:u("pubrel"),pubrec:u("pubrec")},l.SUBACK_HEADER=a.from([l.codes.suback<<l.CMD_SHIFT]),l.VERSION3=a.from([3]),l.VERSION4=a.from([4]),l.VERSION5=a.from([5]),l.VERSION131=a.from([131]),l.VERSION132=a.from([132]),l.QOS=[0,1,2].map(r=>a.from([r])),l.EMPTY={pingreq:a.from([l.codes.pingreq<<4,0]),pingresp:a.from([l.codes.pingresp<<4,0]),disconnect:a.from([l.codes.disconnect<<4,0])},l.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},l.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},l.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},l.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},l.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},l.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),rl=pe((y,c)=>{le(),ce(),ue();var l=1e3,a=l*60,u=a*60,r=u*24,t=r*7,n=r*365.25;c.exports=function(d,b){b=b||{};var v=typeof d;if(v==="string"&&d.length>0)return e(d);if(v==="number"&&isFinite(d))return b.long?o(d):i(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function e(d){if(d=String(d),!(d.length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(b){var v=parseFloat(b[1]),p=(b[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return v*n;case"weeks":case"week":case"w":return v*t;case"days":case"day":case"d":return v*r;case"hours":case"hour":case"hrs":case"hr":case"h":return v*u;case"minutes":case"minute":case"mins":case"min":case"m":return v*a;case"seconds":case"second":case"secs":case"sec":case"s":return v*l;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}}function i(d){var b=Math.abs(d);return b>=r?Math.round(d/r)+"d":b>=u?Math.round(d/u)+"h":b>=a?Math.round(d/a)+"m":b>=l?Math.round(d/l)+"s":d+"ms"}function o(d){var b=Math.abs(d);return b>=r?f(d,b,r,"day"):b>=u?f(d,b,u,"hour"):b>=a?f(d,b,a,"minute"):b>=l?f(d,b,l,"second"):d+" ms"}function f(d,b,v,p){var g=b>=v*1.5;return Math.round(d/v)+" "+p+(g?"s":"")}}),nl=pe((y,c)=>{le(),ce(),ue();function l(a){r.debug=r,r.default=r,r.coerce=f,r.disable=i,r.enable=n,r.enabled=o,r.humanize=rl(),r.destroy=d,Object.keys(a).forEach(b=>{r[b]=a[b]}),r.names=[],r.skips=[],r.formatters={};function u(b){let v=0;for(let p=0;p<b.length;p++)v=(v<<5)-v+b.charCodeAt(p),v|=0;return r.colors[Math.abs(v)%r.colors.length]}r.selectColor=u;function r(b){let v,p=null,g,_;function h(...w){if(!h.enabled)return;let E=h,m=Number(new Date),A=m-(v||m);E.diff=A,E.prev=v,E.curr=m,v=m,w[0]=r.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let I=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(T,R)=>{if(T==="%%")return"%";I++;let C=r.formatters[R];if(typeof C=="function"){let U=w[I];T=C.call(E,U),w.splice(I,1),I--}return T}),r.formatArgs.call(E,w),(E.log||r.log).apply(E,w)}return h.namespace=b,h.useColors=r.useColors(),h.color=r.selectColor(b),h.extend=t,h.destroy=r.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(g!==r.namespaces&&(g=r.namespaces,_=r.enabled(b)),_),set:w=>{p=w}}),typeof r.init=="function"&&r.init(h),h}function t(b,v){let p=r(this.namespace+(typeof v>"u"?":":v)+b);return p.log=this.log,p}function n(b){r.save(b),r.namespaces=b,r.names=[],r.skips=[];let v=(typeof b=="string"?b:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let p of v)p[0]==="-"?r.skips.push(p.slice(1)):r.names.push(p)}function e(b,v){let p=0,g=0,_=-1,h=0;for(;p<b.length;)if(g<v.length&&(v[g]===b[p]||v[g]==="*"))v[g]==="*"?(_=g,h=p,g++):(p++,g++);else if(_!==-1)g=_+1,h++,p=h;else return!1;for(;g<v.length&&v[g]==="*";)g++;return g===v.length}function i(){let b=[...r.names,...r.skips.map(v=>"-"+v)].join(",");return r.enable(""),b}function o(b){for(let v of r.skips)if(e(b,v))return!1;for(let v of r.names)if(e(b,v))return!0;return!1}function f(b){return b instanceof Error?b.stack||b.message:b}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}c.exports=l}),ut=pe((y,c)=>{le(),ce(),ue(),y.formatArgs=a,y.save=u,y.load=r,y.useColors=l,y.storage=t(),y.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),y.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function l(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+c.exports.humanize(this.diff),!this.useColors)return;let i="color: "+this.color;e.splice(1,0,i,"color: inherit");let o=0,f=0;e[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(o++,d==="%c"&&(f=o))}),e.splice(f,0,i)}y.log=console.debug||console.log||(()=>{});function u(e){try{e?y.storage.setItem("debug",e):y.storage.removeItem("debug")}catch{}}function r(){let e;try{e=y.storage.getItem("debug")||y.storage.getItem("DEBUG")}catch{}return!e&&typeof Ce<"u"&&"env"in Ce&&(e=Ce.env.DEBUG),e}function t(){try{return localStorage}catch{}}c.exports=nl()(y);var{formatters:n}=c.exports;n.j=function(e){try{return JSON.stringify(e)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}),il=pe((y,c)=>{le(),ce(),ue();var l=el(),{EventEmitter:a}=(xt(),Re(mt)),u=tl(),r=Cs(),t=ut()("mqtt-packet:parser"),n=class Hn extends a{constructor(){super(),this.parser=this.constructor.parser}static parser(i){return this instanceof Hn?(this.settings=i||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new Hn().parser(i)}_resetState(){t("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new u,this.error=null,this._list=l(),this._stateCounter=0}parse(i){for(this.error&&this._resetState(),this._list.append(i),t("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,t("parse: state complete. _stateCounter is now: %d",this._stateCounter),t("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return t("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let i=this._list.readUInt8(0),o=i>>r.CMD_SHIFT;this.packet.cmd=r.types[o];let f=i&15,d=r.requiredHeaderFlags[o];return d!=null&&f!==d?this._emitError(new Error(r.requiredHeaderFlagsErrors[o])):(this.packet.retain=(i&r.RETAIN_MASK)!==0,this.packet.qos=i>>r.QOS_SHIFT&r.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(i&r.DUP_MASK)!==0,t("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let i=this._parseVarByteNum(!0);return i&&(this.packet.length=i.value,this._list.consume(i.bytes)),t("_parseLength %d",i.value),!!i}_parsePayload(){t("_parsePayload: payload %O",this._list);let i=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}i=!0}return t("_parsePayload complete result: %s",i),i}_parseConnect(){t("_parseConnect");let i,o,f,d,b={},v=this.packet,p=this._parseString();if(p===null)return this._emitError(new Error("Cannot parse protocolId"));if(p!=="MQTT"&&p!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(v.protocolId=p,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(v.protocolVersion=this._list.readUInt8(this._pos),v.protocolVersion>=128&&(v.bridgeMode=!0,v.protocolVersion=v.protocolVersion-128),v.protocolVersion!==3&&v.protocolVersion!==4&&v.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));b.username=this._list.readUInt8(this._pos)&r.USERNAME_MASK,b.password=this._list.readUInt8(this._pos)&r.PASSWORD_MASK,b.will=this._list.readUInt8(this._pos)&r.WILL_FLAG_MASK;let g=!!(this._list.readUInt8(this._pos)&r.WILL_RETAIN_MASK),_=(this._list.readUInt8(this._pos)&r.WILL_QOS_MASK)>>r.WILL_QOS_SHIFT;if(b.will)v.will={},v.will.retain=g,v.will.qos=_;else{if(g)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(_)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(v.clean=(this._list.readUInt8(this._pos)&r.CLEAN_SESSION_MASK)!==0,this._pos++,v.keepalive=this._parseNum(),v.keepalive===-1)return this._emitError(new Error("Packet too short"));if(v.protocolVersion===5){let w=this._parseProperties();Object.getOwnPropertyNames(w).length&&(v.properties=w)}let h=this._parseString();if(h===null)return this._emitError(new Error("Packet too short"));if(v.clientId=h,t("_parseConnect: packet.clientId: %s",v.clientId),b.will){if(v.protocolVersion===5){let w=this._parseProperties();Object.getOwnPropertyNames(w).length&&(v.will.properties=w)}if(i=this._parseString(),i===null)return this._emitError(new Error("Cannot parse will topic"));if(v.will.topic=i,t("_parseConnect: packet.will.topic: %s",v.will.topic),o=this._parseBuffer(),o===null)return this._emitError(new Error("Cannot parse will payload"));v.will.payload=o,t("_parseConnect: packet.will.paylaod: %s",v.will.payload)}if(b.username){if(d=this._parseString(),d===null)return this._emitError(new Error("Cannot parse username"));v.username=d,t("_parseConnect: packet.username: %s",v.username)}if(b.password){if(f=this._parseBuffer(),f===null)return this._emitError(new Error("Cannot parse password"));v.password=f}return this.settings=v,t("_parseConnect: complete"),v}_parseConnack(){t("_parseConnack");let i=this.packet;if(this._list.length<1)return null;let o=this._list.readUInt8(this._pos++);if(o>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(i.sessionPresent=!!(o&r.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?i.reasonCode=this._list.readUInt8(this._pos++):i.reasonCode=0;else{if(this._list.length<2)return null;i.returnCode=this._list.readUInt8(this._pos++)}if(i.returnCode===-1||i.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(i.properties=f)}t("_parseConnack: complete")}_parsePublish(){t("_parsePublish");let i=this.packet;if(i.topic=this._parseString(),i.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(i.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let o=this._parseProperties();Object.getOwnPropertyNames(o).length&&(i.properties=o)}i.payload=this._list.slice(this._pos,i.length),t("_parsePublish: payload from buffer list: %o",i.payload)}}_parseSubscribe(){t("_parseSubscribe");let i=this.packet,o,f,d,b,v,p,g;if(i.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let _=this._parseProperties();Object.getOwnPropertyNames(_).length&&(i.properties=_)}if(i.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<i.length;){if(o=this._parseString(),o===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=i.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(f=this._parseByte(),this.settings.protocolVersion===5){if(f&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(f&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(d=f&r.SUBSCRIBE_OPTIONS_QOS_MASK,d>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(p=(f>>r.SUBSCRIBE_OPTIONS_NL_SHIFT&r.SUBSCRIBE_OPTIONS_NL_MASK)!==0,v=(f>>r.SUBSCRIBE_OPTIONS_RAP_SHIFT&r.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,b=f>>r.SUBSCRIBE_OPTIONS_RH_SHIFT&r.SUBSCRIBE_OPTIONS_RH_MASK,b>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));g={topic:o,qos:d},this.settings.protocolVersion===5?(g.nl=p,g.rap=v,g.rh=b):this.settings.bridgeMode&&(g.rh=0,g.rap=!0,g.nl=!0),t("_parseSubscribe: push subscription `%s` to subscription",g),i.subscriptions.push(g)}}}_parseSuback(){t("_parseSuback");let i=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let o=this._parseProperties();Object.getOwnPropertyNames(o).length&&(i.properties=o)}if(i.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let o=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!r.MQTT5_SUBACK_CODES[o])return this._emitError(new Error("Invalid suback code"))}else if(o>2&&o!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(o)}}}_parseUnsubscribe(){t("_parseUnsubscribe");let i=this.packet;if(i.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let o=this._parseProperties();Object.getOwnPropertyNames(o).length&&(i.properties=o)}if(i.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<i.length;){let o=this._parseString();if(o===null)return this._emitError(new Error("Cannot parse topic"));t("_parseUnsubscribe: push topic `%s` to unsubscriptions",o),i.unsubscriptions.push(o)}}}_parseUnsuback(){t("_parseUnsuback");let i=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&i.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(i.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let o=this._parseProperties();for(Object.getOwnPropertyNames(o).length&&(i.properties=o),i.granted=[];this._pos<this.packet.length;){let f=this._list.readUInt8(this._pos++);if(!r.MQTT5_UNSUBACK_CODES[f])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(f)}}}_parseConfirmation(){t("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let i=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(i.length>2){switch(i.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!r.MQTT5_PUBACK_PUBREC_CODES[i.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!r.MQTT5_PUBREL_PUBCOMP_CODES[i.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}t("_parseConfirmation: packet.reasonCode `%d`",i.reasonCode)}else i.reasonCode=0;if(i.length>3){let o=this._parseProperties();Object.getOwnPropertyNames(o).length&&(i.properties=o)}}return!0}_parseDisconnect(){let i=this.packet;if(t("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(i.reasonCode=this._parseByte(),r.MQTT5_DISCONNECT_CODES[i.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):i.reasonCode=0;let o=this._parseProperties();Object.getOwnPropertyNames(o).length&&(i.properties=o)}return t("_parseDisconnect result: true"),!0}_parseAuth(){t("_parseAuth");let i=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(i.reasonCode=this._parseByte(),!r.MQTT5_AUTH_CODES[i.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let o=this._parseProperties();return Object.getOwnPropertyNames(o).length&&(i.properties=o),t("_parseAuth: result: true"),!0}_parseMessageId(){let i=this.packet;return i.messageId=this._parseNum(),i.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(t("_parseMessageId: packet.messageId %d",i.messageId),!0)}_parseString(i){let o=this._parseNum(),f=o+this._pos;if(o===-1||f>this._list.length||f>this.packet.length)return null;let d=this._list.toString("utf8",this._pos,f);return this._pos+=o,t("_parseString: result: %s",d),d}_parseStringPair(){return t("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let i=this._parseNum(),o=i+this._pos;if(i===-1||o>this._list.length||o>this.packet.length)return null;let f=this._list.slice(this._pos,o);return this._pos+=i,t("_parseBuffer: result: %o",f),f}_parseNum(){if(this._list.length-this._pos<2)return-1;let i=this._list.readUInt16BE(this._pos);return this._pos+=2,t("_parseNum: result: %s",i),i}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let i=this._list.readUInt32BE(this._pos);return this._pos+=4,t("_parse4ByteNum: result: %s",i),i}_parseVarByteNum(i){t("_parseVarByteNum");let o=4,f=0,d=1,b=0,v=!1,p,g=this._pos?this._pos:0;for(;f<o&&g+f<this._list.length;){if(p=this._list.readUInt8(g+f++),b+=d*(p&r.VARBYTEINT_MASK),d*=128,(p&r.VARBYTEINT_FIN_MASK)===0){v=!0;break}if(this._list.length<=f)break}return!v&&f===o&&this._list.length>=f&&this._emitError(new Error("Invalid variable byte integer")),g&&(this._pos+=f),v?i?v={bytes:f,value:b}:v=b:v=!1,t("_parseVarByteNum: result: %o",v),v}_parseByte(){let i;return this._pos<this._list.length&&(i=this._list.readUInt8(this._pos),this._pos++),t("_parseByte: result: %o",i),i}_parseByType(i){switch(t("_parseByType: type: %s",i),i){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){t("_parseProperties");let i=this._parseVarByteNum(),o=this._pos+i,f={};for(;this._pos<o;){let d=this._parseByte();if(!d)return this._emitError(new Error("Cannot parse property code type")),!1;let b=r.propertiesCodes[d];if(!b)return this._emitError(new Error("Unknown property")),!1;if(b==="userProperties"){f[b]||(f[b]=Object.create(null));let v=this._parseByType(r.propertiesTypes[b]);if(f[b][v.name])if(Array.isArray(f[b][v.name]))f[b][v.name].push(v.value);else{let p=f[b][v.name];f[b][v.name]=[p],f[b][v.name].push(v.value)}else f[b][v.name]=v.value;continue}f[b]?Array.isArray(f[b])?f[b].push(this._parseByType(r.propertiesTypes[b])):(f[b]=[f[b]],f[b].push(this._parseByType(r.propertiesTypes[b]))):f[b]=this._parseByType(r.propertiesTypes[b])}return f}_newPacket(){return t("_newPacket"),this.packet&&(this._list.consume(this.packet.length),t("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),t("_newPacket: new packet"),this.packet=new u,this._pos=0,!0}_emitError(i){t("_emitError",i),this.error=i,this.emit("error",i)}};c.exports=n}),ol=pe((y,c)=>{le(),ce(),ue();var{Buffer:l}=(Ue(),Re(Be)),a=65536,u={},r=l.isBuffer(l.from([1,2]).subarray(0,1));function t(o){let f=l.allocUnsafe(2);return f.writeUInt8(o>>8,0),f.writeUInt8(o&255,1),f}function n(){for(let o=0;o<a;o++)u[o]=t(o)}function e(o){let f=0,d=0,b=l.allocUnsafe(4);do f=o%128|0,o=o/128|0,o>0&&(f=f|128),b.writeUInt8(f,d++);while(o>0&&d<4);return o>0&&(d=0),r?b.subarray(0,d):b.slice(0,d)}function i(o){let f=l.allocUnsafe(4);return f.writeUInt32BE(o,0),f}c.exports={cache:u,generateCache:n,generateNumber:t,genBufVariableByteInt:e,generate4ByteBuffer:i}}),sl=pe((y,c)=>{"use strict";le(),ce(),ue(),typeof Ce>"u"||!Ce.version||Ce.version.indexOf("v0.")===0||Ce.version.indexOf("v1.")===0&&Ce.version.indexOf("v1.8.")!==0?c.exports={nextTick:l}:c.exports=Ce;function l(a,u,r,t){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,e,i;switch(n){case 0:case 1:return Ce.nextTick(a);case 2:return Ce.nextTick(function(){a.call(null,u)});case 3:return Ce.nextTick(function(){a.call(null,u,r)});case 4:return Ce.nextTick(function(){a.call(null,u,r,t)});default:for(e=new Array(n-1),i=0;i<e.length;)e[i++]=arguments[i];return Ce.nextTick(function(){a.apply(null,e)})}}}),Ms=pe((y,c)=>{le(),ce(),ue();var l=Cs(),{Buffer:a}=(Ue(),Re(Be)),u=a.allocUnsafe(0),r=a.from([0]),t=ol(),n=sl().nextTick,e=ut()("mqtt-packet:writeToStream"),i=t.cache,o=t.generateNumber,f=t.generateCache,d=t.genBufVariableByteInt,b=t.generate4ByteBuffer,v=X,p=!0;function g(K,N,ie){switch(e("generate called"),N.cork&&(N.cork(),n(_,N)),p&&(p=!1,f()),e("generate: packet.cmd: %s",K.cmd),K.cmd){case"connect":return h(K,N,ie);case"connack":return w(K,N,ie);case"publish":return E(K,N,ie);case"puback":case"pubrec":case"pubrel":case"pubcomp":return m(K,N,ie);case"subscribe":return A(K,N,ie);case"suback":return I(K,N,ie);case"unsubscribe":return T(K,N,ie);case"unsuback":return R(K,N,ie);case"pingreq":case"pingresp":return C(K,N,ie);case"disconnect":return U(K,N,ie);case"auth":return O(K,N,ie);default:return N.destroy(new Error("Unknown command")),!1}}Object.defineProperty(g,"cacheNumbers",{get(){return v===X},set(K){K?((!i||Object.keys(i).length===0)&&(p=!0),v=X):(p=!1,v=z)}});function _(K){K.uncork()}function h(K,N,ie){let H=K||{},V=H.protocolId||"MQTT",Q=H.protocolVersion||4,ye=H.will,se=H.clean,M=H.keepalive||0,F=H.clientId||"",ee=H.username,he=H.password,fe=H.properties;se===void 0&&(se=!0);let me=0;if(!V||typeof V!="string"&&!a.isBuffer(V))return N.destroy(new Error("Invalid protocolId")),!1;if(me+=V.length+2,Q!==3&&Q!==4&&Q!==5)return N.destroy(new Error("Invalid protocol version")),!1;if(me+=1,(typeof F=="string"||a.isBuffer(F))&&(F||Q>=4)&&(F||se))me+=a.byteLength(F)+2;else{if(Q<4)return N.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(se*1===0)return N.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof M!="number"||M<0||M>65535||M%1!==0)return N.destroy(new Error("Invalid keepalive")),!1;me+=2,me+=1;let q,de;if(Q===5){if(q=Z(N,fe),!q)return!1;me+=q.length}if(ye){if(typeof ye!="object")return N.destroy(new Error("Invalid will")),!1;if(!ye.topic||typeof ye.topic!="string")return N.destroy(new Error("Invalid will topic")),!1;if(me+=a.byteLength(ye.topic)+2,me+=2,ye.payload)if(ye.payload.length>=0)typeof ye.payload=="string"?me+=a.byteLength(ye.payload):me+=ye.payload.length;else return N.destroy(new Error("Invalid will payload")),!1;if(de={},Q===5){if(de=Z(N,ye.properties),!de)return!1;me+=de.length}}let Se=!1;if(ee!=null)if(we(ee))Se=!0,me+=a.byteLength(ee)+2;else return N.destroy(new Error("Invalid username")),!1;if(he!=null){if(!Se)return N.destroy(new Error("Username is required to use password")),!1;if(we(he))me+=te(he)+2;else return N.destroy(new Error("Invalid password")),!1}N.write(l.CONNECT_HEADER),$(N,me),D(N,V),H.bridgeMode&&(Q+=128),N.write(Q===131?l.VERSION131:Q===132?l.VERSION132:Q===4?l.VERSION4:Q===5?l.VERSION5:l.VERSION3);let ge=0;return ge|=ee!=null?l.USERNAME_MASK:0,ge|=he!=null?l.PASSWORD_MASK:0,ge|=ye&&ye.retain?l.WILL_RETAIN_MASK:0,ge|=ye&&ye.qos?ye.qos<<l.WILL_QOS_SHIFT:0,ge|=ye?l.WILL_FLAG_MASK:0,ge|=se?l.CLEAN_SESSION_MASK:0,N.write(a.from([ge])),v(N,M),Q===5&&q.write(),D(N,F),ye&&(Q===5&&de.write(),B(N,ye.topic),D(N,ye.payload)),ee!=null&&D(N,ee),he!=null&&D(N,he),!0}function w(K,N,ie){let H=ie?ie.protocolVersion:4,V=K||{},Q=H===5?V.reasonCode:V.returnCode,ye=V.properties,se=2;if(typeof Q!="number")return N.destroy(new Error("Invalid return code")),!1;let M=null;if(H===5){if(M=Z(N,ye),!M)return!1;se+=M.length}return N.write(l.CONNACK_HEADER),$(N,se),N.write(V.sessionPresent?l.SESSIONPRESENT_HEADER:r),N.write(a.from([Q])),M?.write(),!0}function E(K,N,ie){e("publish: packet: %o",K);let H=ie?ie.protocolVersion:4,V=K||{},Q=V.qos||0,ye=V.retain?l.RETAIN_MASK:0,se=V.topic,M=V.payload||u,F=V.messageId,ee=V.properties,he=0;if(typeof se=="string")he+=a.byteLength(se)+2;else if(a.isBuffer(se))he+=se.length+2;else return N.destroy(new Error("Invalid topic")),!1;if(a.isBuffer(M)?he+=M.length:he+=a.byteLength(M),Q&&typeof F!="number")return N.destroy(new Error("Invalid messageId")),!1;Q&&(he+=2);let fe=null;if(H===5){if(fe=Z(N,ee),!fe)return!1;he+=fe.length}return N.write(l.PUBLISH_HEADER[Q][V.dup?1:0][ye?1:0]),$(N,he),v(N,te(se)),N.write(se),Q>0&&v(N,F),fe?.write(),e("publish: payload: %o",M),N.write(M)}function m(K,N,ie){let H=ie?ie.protocolVersion:4,V=K||{},Q=V.cmd||"puback",ye=V.messageId,se=V.dup&&Q==="pubrel"?l.DUP_MASK:0,M=0,F=V.reasonCode,ee=V.properties,he=H===5?3:2;if(Q==="pubrel"&&(M=1),typeof ye!="number")return N.destroy(new Error("Invalid messageId")),!1;let fe=null;if(H===5&&typeof ee=="object"){if(fe=P(N,ee,ie,he),!fe)return!1;he+=fe.length}return N.write(l.ACKS[Q][M][se][0]),he===3&&(he+=F!==0?1:-1),$(N,he),v(N,ye),H===5&&he!==2&&N.write(a.from([F])),fe!==null?fe.write():he===4&&N.write(a.from([0])),!0}function A(K,N,ie){e("subscribe: packet: ");let H=ie?ie.protocolVersion:4,V=K||{},Q=V.dup?l.DUP_MASK:0,ye=V.messageId,se=V.subscriptions,M=V.properties,F=0;if(typeof ye!="number")return N.destroy(new Error("Invalid messageId")),!1;F+=2;let ee=null;if(H===5){if(ee=Z(N,M),!ee)return!1;F+=ee.length}if(typeof se=="object"&&se.length)for(let fe=0;fe<se.length;fe+=1){let me=se[fe].topic,q=se[fe].qos;if(typeof me!="string")return N.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof q!="number")return N.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(H===5){if(typeof(se[fe].nl||!1)!="boolean")return N.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(se[fe].rap||!1)!="boolean")return N.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let de=se[fe].rh||0;if(typeof de!="number"||de>2)return N.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}F+=a.byteLength(me)+2+1}else return N.destroy(new Error("Invalid subscriptions")),!1;e("subscribe: writing to stream: %o",l.SUBSCRIBE_HEADER),N.write(l.SUBSCRIBE_HEADER[1][Q?1:0][0]),$(N,F),v(N,ye),ee!==null&&ee.write();let he=!0;for(let fe of se){let me=fe.topic,q=fe.qos,de=+fe.nl,Se=+fe.rap,ge=fe.rh,Ae;B(N,me),Ae=l.SUBSCRIBE_OPTIONS_QOS[q],H===5&&(Ae|=de?l.SUBSCRIBE_OPTIONS_NL:0,Ae|=Se?l.SUBSCRIBE_OPTIONS_RAP:0,Ae|=ge?l.SUBSCRIBE_OPTIONS_RH[ge]:0),he=N.write(a.from([Ae]))}return he}function I(K,N,ie){let H=ie?ie.protocolVersion:4,V=K||{},Q=V.messageId,ye=V.granted,se=V.properties,M=0;if(typeof Q!="number")return N.destroy(new Error("Invalid messageId")),!1;if(M+=2,typeof ye=="object"&&ye.length)for(let ee=0;ee<ye.length;ee+=1){if(typeof ye[ee]!="number")return N.destroy(new Error("Invalid qos vector")),!1;M+=1}else return N.destroy(new Error("Invalid qos vector")),!1;let F=null;if(H===5){if(F=P(N,se,ie,M),!F)return!1;M+=F.length}return N.write(l.SUBACK_HEADER),$(N,M),v(N,Q),F!==null&&F.write(),N.write(a.from(ye))}function T(K,N,ie){let H=ie?ie.protocolVersion:4,V=K||{},Q=V.messageId,ye=V.dup?l.DUP_MASK:0,se=V.unsubscriptions,M=V.properties,F=0;if(typeof Q!="number")return N.destroy(new Error("Invalid messageId")),!1;if(F+=2,typeof se=="object"&&se.length)for(let fe=0;fe<se.length;fe+=1){if(typeof se[fe]!="string")return N.destroy(new Error("Invalid unsubscriptions")),!1;F+=a.byteLength(se[fe])+2}else return N.destroy(new Error("Invalid unsubscriptions")),!1;let ee=null;if(H===5){if(ee=Z(N,M),!ee)return!1;F+=ee.length}N.write(l.UNSUBSCRIBE_HEADER[1][ye?1:0][0]),$(N,F),v(N,Q),ee!==null&&ee.write();let he=!0;for(let fe=0;fe<se.length;fe++)he=B(N,se[fe]);return he}function R(K,N,ie){let H=ie?ie.protocolVersion:4,V=K||{},Q=V.messageId,ye=V.dup?l.DUP_MASK:0,se=V.granted,M=V.properties,F=V.cmd,ee=0,he=2;if(typeof Q!="number")return N.destroy(new Error("Invalid messageId")),!1;if(H===5)if(typeof se=="object"&&se.length)for(let me=0;me<se.length;me+=1){if(typeof se[me]!="number")return N.destroy(new Error("Invalid qos vector")),!1;he+=1}else return N.destroy(new Error("Invalid qos vector")),!1;let fe=null;if(H===5){if(fe=P(N,M,ie,he),!fe)return!1;he+=fe.length}return N.write(l.ACKS[F][ee][ye][0]),$(N,he),v(N,Q),fe!==null&&fe.write(),H===5&&N.write(a.from(se)),!0}function C(K,N,ie){return N.write(l.EMPTY[K.cmd])}function U(K,N,ie){let H=ie?ie.protocolVersion:4,V=K||{},Q=V.reasonCode,ye=V.properties,se=H===5?1:0,M=null;if(H===5){if(M=P(N,ye,ie,se),!M)return!1;se+=M.length}return N.write(a.from([l.codes.disconnect<<4])),$(N,se),H===5&&N.write(a.from([Q])),M!==null&&M.write(),!0}function O(K,N,ie){let H=ie?ie.protocolVersion:4,V=K||{},Q=V.reasonCode,ye=V.properties,se=H===5?1:0;H!==5&&N.destroy(new Error("Invalid mqtt version for auth packet"));let M=P(N,ye,ie,se);return M?(se+=M.length,N.write(a.from([l.codes.auth<<4])),$(N,se),N.write(a.from([Q])),M!==null&&M.write(),!0):!1}var L={};function $(K,N){if(N>l.VARBYTEINT_MAX)return K.destroy(new Error(`Invalid variable byte integer: ${N}`)),!1;let ie=L[N];return ie||(ie=d(N),N<16384&&(L[N]=ie)),e("writeVarByteInt: writing to stream: %o",ie),K.write(ie)}function B(K,N){let ie=a.byteLength(N);return v(K,ie),e("writeString: %s",N),K.write(N,"utf8")}function oe(K,N,ie){B(K,N),B(K,ie)}function X(K,N){return e("writeNumberCached: number: %d",N),e("writeNumberCached: %o",i[N]),K.write(i[N])}function z(K,N){let ie=o(N);return e("writeNumberGenerated: %o",ie),K.write(ie)}function ne(K,N){let ie=b(N);return e("write4ByteNumber: %o",ie),K.write(ie)}function D(K,N){typeof N=="string"?B(K,N):N?(v(K,N.length),K.write(N)):v(K,0)}function Z(K,N){if(typeof N!="object"||N.length!=null)return{length:1,write(){be(K,{},0)}};let ie=0;function H(V,Q){let ye=l.propertiesTypes[V],se=0;switch(ye){case"byte":{if(typeof Q!="boolean")return K.destroy(new Error(`Invalid ${V}: ${Q}`)),!1;se+=2;break}case"int8":{if(typeof Q!="number"||Q<0||Q>255)return K.destroy(new Error(`Invalid ${V}: ${Q}`)),!1;se+=2;break}case"binary":{if(Q&&Q===null)return K.destroy(new Error(`Invalid ${V}: ${Q}`)),!1;se+=1+a.byteLength(Q)+2;break}case"int16":{if(typeof Q!="number"||Q<0||Q>65535)return K.destroy(new Error(`Invalid ${V}: ${Q}`)),!1;se+=3;break}case"int32":{if(typeof Q!="number"||Q<0||Q>4294967295)return K.destroy(new Error(`Invalid ${V}: ${Q}`)),!1;se+=5;break}case"var":{if(typeof Q!="number"||Q<0||Q>268435455)return K.destroy(new Error(`Invalid ${V}: ${Q}`)),!1;se+=1+a.byteLength(d(Q));break}case"string":{if(typeof Q!="string")return K.destroy(new Error(`Invalid ${V}: ${Q}`)),!1;se+=3+a.byteLength(Q.toString());break}case"pair":{if(typeof Q!="object")return K.destroy(new Error(`Invalid ${V}: ${Q}`)),!1;se+=Object.getOwnPropertyNames(Q).reduce((M,F)=>{let ee=Q[F];return Array.isArray(ee)?M+=ee.reduce((he,fe)=>(he+=3+a.byteLength(F.toString())+2+a.byteLength(fe.toString()),he),0):M+=3+a.byteLength(F.toString())+2+a.byteLength(Q[F].toString()),M},0);break}default:return K.destroy(new Error(`Invalid property ${V}: ${Q}`)),!1}return se}if(N)for(let V in N){let Q=0,ye=0,se=N[V];if(se!==void 0){if(Array.isArray(se))for(let M=0;M<se.length;M++){if(ye=H(V,se[M]),!ye)return!1;Q+=ye}else{if(ye=H(V,se),!ye)return!1;Q=ye}if(!Q)return!1;ie+=Q}}return{length:a.byteLength(d(ie))+ie,write(){be(K,N,ie)}}}function P(K,N,ie,H){let V=["reasonString","userProperties"],Q=ie&&ie.properties&&ie.properties.maximumPacketSize?ie.properties.maximumPacketSize:0,ye=Z(K,N);if(Q)for(;H+ye.length>Q;){let se=V.shift();if(se&&N[se])delete N[se],ye=Z(K,N);else return!1}return ye}function Y(K,N,ie){switch(l.propertiesTypes[N]){case"byte":{K.write(a.from([l.properties[N]])),K.write(a.from([+ie]));break}case"int8":{K.write(a.from([l.properties[N]])),K.write(a.from([ie]));break}case"binary":{K.write(a.from([l.properties[N]])),D(K,ie);break}case"int16":{K.write(a.from([l.properties[N]])),v(K,ie);break}case"int32":{K.write(a.from([l.properties[N]])),ne(K,ie);break}case"var":{K.write(a.from([l.properties[N]])),$(K,ie);break}case"string":{K.write(a.from([l.properties[N]])),B(K,ie);break}case"pair":{Object.getOwnPropertyNames(ie).forEach(H=>{let V=ie[H];Array.isArray(V)?V.forEach(Q=>{K.write(a.from([l.properties[N]])),oe(K,H.toString(),Q.toString())}):(K.write(a.from([l.properties[N]])),oe(K,H.toString(),V.toString()))});break}default:return K.destroy(new Error(`Invalid property ${N} value: ${ie}`)),!1}}function be(K,N,ie){$(K,ie);for(let H in N)if(Object.prototype.hasOwnProperty.call(N,H)&&N[H]!=null){let V=N[H];if(Array.isArray(V))for(let Q=0;Q<V.length;Q++)Y(K,H,V[Q]);else Y(K,H,V)}}function te(K){return K?K instanceof a?K.length:a.byteLength(K):0}function we(K){return typeof K=="string"||K instanceof a}c.exports=g}),al=pe((y,c)=>{le(),ce(),ue();var l=Ms(),{EventEmitter:a}=(xt(),Re(mt)),{Buffer:u}=(Ue(),Re(Be));function r(n,e){let i=new t;return l(n,i,e),i.concat()}var t=class extends a{constructor(){super(),this._array=new Array(20),this._i=0}write(n){return this._array[this._i++]=n,!0}concat(){let n=0,e=new Array(this._array.length),i=this._array,o=0,f;for(f=0;f<i.length&&i[f]!==void 0;f++)typeof i[f]!="string"?e[f]=i[f].length:e[f]=u.byteLength(i[f]),n+=e[f];let d=u.allocUnsafe(n);for(f=0;f<i.length&&i[f]!==void 0;f++)typeof i[f]!="string"?(i[f].copy(d,o),o+=e[f]):(d.write(i[f],o),o+=e[f]);return d}destroy(n){n&&this.emit("error",n)}};c.exports=r}),ll=pe(y=>{le(),ce(),ue(),y.parser=il().parser,y.generate=al(),y.writeToStream=Ms()}),ul=pe((y,c)=>{"use strict";le(),ce(),ue(),c.exports=a;function l(r){return r instanceof xr?xr.from(r):new r.constructor(r.buffer.slice(),r.byteOffset,r.length)}function a(r){if(r=r||{},r.circles)return u(r);let t=new Map;if(t.set(Date,f=>new Date(f)),t.set(Map,(f,d)=>new Map(e(Array.from(f),d))),t.set(Set,(f,d)=>new Set(e(Array.from(f),d))),r.constructorHandlers)for(let f of r.constructorHandlers)t.set(f[0],f[1]);let n=null;return r.proto?o:i;function e(f,d){let b=Object.keys(f),v=new Array(b.length);for(let p=0;p<b.length;p++){let g=b[p],_=f[g];typeof _!="object"||_===null?v[g]=_:_.constructor!==Object&&(n=t.get(_.constructor))?v[g]=n(_,d):ArrayBuffer.isView(_)?v[g]=l(_):v[g]=d(_)}return v}function i(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return e(f,i);if(f.constructor!==Object&&(n=t.get(f.constructor)))return n(f,i);let d={};for(let b in f){if(Object.hasOwnProperty.call(f,b)===!1)continue;let v=f[b];typeof v!="object"||v===null?d[b]=v:v.constructor!==Object&&(n=t.get(v.constructor))?d[b]=n(v,i):ArrayBuffer.isView(v)?d[b]=l(v):d[b]=i(v)}return d}function o(f){if(typeof f!="object"||f===null)return f;if(Array.isArray(f))return e(f,o);if(f.constructor!==Object&&(n=t.get(f.constructor)))return n(f,o);let d={};for(let b in f){let v=f[b];typeof v!="object"||v===null?d[b]=v:v.constructor!==Object&&(n=t.get(v.constructor))?d[b]=n(v,o):ArrayBuffer.isView(v)?d[b]=l(v):d[b]=o(v)}return d}}function u(r){let t=[],n=[],e=new Map;if(e.set(Date,b=>new Date(b)),e.set(Map,(b,v)=>new Map(o(Array.from(b),v))),e.set(Set,(b,v)=>new Set(o(Array.from(b),v))),r.constructorHandlers)for(let b of r.constructorHandlers)e.set(b[0],b[1]);let i=null;return r.proto?d:f;function o(b,v){let p=Object.keys(b),g=new Array(p.length);for(let _=0;_<p.length;_++){let h=p[_],w=b[h];if(typeof w!="object"||w===null)g[h]=w;else if(w.constructor!==Object&&(i=e.get(w.constructor)))g[h]=i(w,v);else if(ArrayBuffer.isView(w))g[h]=l(w);else{let E=t.indexOf(w);E!==-1?g[h]=n[E]:g[h]=v(w)}}return g}function f(b){if(typeof b!="object"||b===null)return b;if(Array.isArray(b))return o(b,f);if(b.constructor!==Object&&(i=e.get(b.constructor)))return i(b,f);let v={};t.push(b),n.push(v);for(let p in b){if(Object.hasOwnProperty.call(b,p)===!1)continue;let g=b[p];if(typeof g!="object"||g===null)v[p]=g;else if(g.constructor!==Object&&(i=e.get(g.constructor)))v[p]=i(g,f);else if(ArrayBuffer.isView(g))v[p]=l(g);else{let _=t.indexOf(g);_!==-1?v[p]=n[_]:v[p]=f(g)}}return t.pop(),n.pop(),v}function d(b){if(typeof b!="object"||b===null)return b;if(Array.isArray(b))return o(b,d);if(b.constructor!==Object&&(i=e.get(b.constructor)))return i(b,d);let v={};t.push(b),n.push(v);for(let p in b){let g=b[p];if(typeof g!="object"||g===null)v[p]=g;else if(g.constructor!==Object&&(i=e.get(g.constructor)))v[p]=i(g,d);else if(ArrayBuffer.isView(g))v[p]=l(g);else{let _=t.indexOf(g);_!==-1?v[p]=n[_]:v[p]=d(g)}}return t.pop(),n.pop(),v}}}),cl=pe((y,c)=>{"use strict";le(),ce(),ue(),c.exports=ul()()}),hl=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"__esModule",{value:!0}),y.validateTopic=c,y.validateTopics=l;function c(a){let u=a.split("/");for(let r=0;r<u.length;r++)if(u[r]!=="+"){if(u[r]==="#")return r===u.length-1;if(u[r].indexOf("+")!==-1||u[r].indexOf("#")!==-1)return!1}return!0}function l(a){if(a.length===0)return"empty_topic_list";for(let u=0;u<a.length;u++)if(!c(a[u]))return a[u];return null}}),js=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"__esModule",{value:!0});var c=Ot(),l={objectMode:!0},a={clean:!0},u=class{options;_inflights;constructor(r){this.options=r||{},this.options=Pe(Pe({},a),r),this._inflights=new Map}put(r,t){return this._inflights.set(r.messageId,r),t&&t(),this}createStream(){let r=new c.Readable(l),t=[],n=!1,e=0;return this._inflights.forEach((i,o)=>{t.push(i)}),r._read=()=>{!n&&e<t.length?r.push(t[e++]):r.push(null)},r.destroy=i=>{if(!n)return n=!0,setTimeout(()=>{r.emit("close")},0),r},r}del(r,t){let n=this._inflights.get(r.messageId);return n?(this._inflights.delete(r.messageId),t(null,n)):t&&t(new Error("missing packet")),this}get(r,t){let n=this._inflights.get(r.messageId);return n?t(null,n):t&&t(new Error("missing packet")),this}close(r){this.options.clean&&(this._inflights=null),r&&r()}};y.default=u}),fl=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"__esModule",{value:!0});var c=[0,16,128,131,135,144,145,151,153],l=(a,u,r)=>{a.log("handlePublish: packet %o",u),r=typeof r<"u"?r:a.noop;let t=u.topic.toString(),n=u.payload,{qos:e}=u,{messageId:i}=u,{options:o}=a;if(a.options.protocolVersion===5){let f;if(u.properties&&(f=u.properties.topicAlias),typeof f<"u")if(t.length===0)if(f>0&&f<=65535){let d=a.topicAliasRecv.getTopicByAlias(f);if(d)t=d,a.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",t,f);else{a.log("handlePublish :: unregistered topic alias. alias: %d",f),a.emit("error",new Error("Received unregistered Topic Alias"));return}}else{a.log("handlePublish :: topic alias out of range. alias: %d",f),a.emit("error",new Error("Received Topic Alias is out of range"));return}else if(a.topicAliasRecv.put(t,f))a.log("handlePublish :: registered topic: %s - alias: %d",t,f);else{a.log("handlePublish :: topic alias out of range. alias: %d",f),a.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(a.log("handlePublish: qos %d",e),e){case 2:{o.customHandleAcks(t,n,u,(f,d)=>{if(typeof f=="number"&&(d=f,f=null),f)return a.emit("error",f);if(c.indexOf(d)===-1)return a.emit("error",new Error("Wrong reason code for pubrec"));d?a._sendPacket({cmd:"pubrec",messageId:i,reasonCode:d},r):a.incomingStore.put(u,()=>{a._sendPacket({cmd:"pubrec",messageId:i},r)})});break}case 1:{o.customHandleAcks(t,n,u,(f,d)=>{if(typeof f=="number"&&(d=f,f=null),f)return a.emit("error",f);if(c.indexOf(d)===-1)return a.emit("error",new Error("Wrong reason code for puback"));d||a.emit("message",t,n,u),a.handleMessage(u,b=>{if(b)return r&&r(b);a._sendPacket({cmd:"puback",messageId:i,reasonCode:d},r)})});break}case 0:a.emit("message",t,n,u),a.handleMessage(u,r);break;default:a.log("handlePublish: unknown QoS. Doing nothing.");break}};y.default=l}),pl=pe((y,c)=>{c.exports={version:"5.14.1"}}),Bt=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"__esModule",{value:!0}),y.MQTTJS_VERSION=y.nextTick=y.ErrorWithSubackPacket=y.ErrorWithReasonCode=void 0,y.applyMixin=a;var c=class Ns extends Error{code;constructor(r,t){super(r),this.code=t,Object.setPrototypeOf(this,Ns.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};y.ErrorWithReasonCode=c;var l=class Bs extends Error{packet;constructor(r,t){super(r),this.packet=t,Object.setPrototypeOf(this,Bs.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};y.ErrorWithSubackPacket=l;function a(u,r,t=!1){let n=[r];for(;;){let e=n[0],i=Object.getPrototypeOf(e);if(i?.prototype)n.unshift(i);else break}for(let e of n)for(let i of Object.getOwnPropertyNames(e.prototype))(t||i!=="constructor")&&Object.defineProperty(u.prototype,i,Object.getOwnPropertyDescriptor(e.prototype,i)??Object.create(null))}y.nextTick=typeof Ce?.nextTick=="function"?Ce.nextTick:u=>{setTimeout(u,0)},y.MQTTJS_VERSION=pl().version}),Rr=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"__esModule",{value:!0}),y.ReasonCodes=void 0;var c=Bt();y.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var l=(a,u)=>{let{messageId:r}=u,t=u.cmd,n=null,e=a.outgoing[r]?a.outgoing[r].cb:null,i=null;if(!e){a.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(a.log("_handleAck :: packet type",t),t){case"pubcomp":case"puback":{let o=u.reasonCode;o&&o>0&&o!==16?(i=new c.ErrorWithReasonCode(`Publish error: ${y.ReasonCodes[o]}`,o),a._removeOutgoingAndStoreMessage(r,()=>{e(i,u)})):a._removeOutgoingAndStoreMessage(r,e);break}case"pubrec":{n={cmd:"pubrel",qos:2,messageId:r};let o=u.reasonCode;o&&o>0&&o!==16?(i=new c.ErrorWithReasonCode(`Publish error: ${y.ReasonCodes[o]}`,o),a._removeOutgoingAndStoreMessage(r,()=>{e(i,u)})):a._sendPacket(n);break}case"suback":{delete a.outgoing[r],a.messageIdProvider.deallocate(r);let o=u.granted;for(let f=0;f<o.length;f++){let d=o[f];if((d&128)!==0){i=new Error(`Subscribe error: ${y.ReasonCodes[d]}`),i.code=d;let b=a.messageIdToTopic[r];b&&b.forEach(v=>{delete a._resubscribeTopics[v]})}}delete a.messageIdToTopic[r],a._invokeStoreProcessingQueue(),e(i,u);break}case"unsuback":{delete a.outgoing[r],a.messageIdProvider.deallocate(r),a._invokeStoreProcessingQueue(),e(null,u);break}default:a.emit("error",new Error("unrecognized packet type"))}a.disconnecting&&Object.keys(a.outgoing).length===0&&a.emit("outgoingEmpty")};y.default=l}),dl=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"__esModule",{value:!0});var c=Bt(),l=Rr(),a=(u,r)=>{let{options:t}=u,n=t.protocolVersion,e=n===5?r.reasonCode:r.returnCode;if(n!==5){let i=new c.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${n}`,e);u.emit("error",i);return}u.handleAuth(r,(i,o)=>{if(i){u.emit("error",i);return}if(e===24)u.reconnecting=!1,u._sendPacket(o);else{let f=new c.ErrorWithReasonCode(`Connection refused: ${l.ReasonCodes[e]}`,e);u.emit("error",f)}})};y.default=a}),gl=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"__esModule",{value:!0}),y.LRUCache=void 0;var c=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,l=new Set,a=typeof Ce=="object"&&Ce?Ce:{},u=(v,p,g,_)=>{typeof a.emitWarning=="function"?a.emitWarning(v,p,g,_):console.error(`[${g}] ${p}: ${v}`)},r=globalThis.AbortController,t=globalThis.AbortSignal;if(typeof r>"u"){t=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(g,_){this._onabort.push(_)}},r=class{constructor(){p()}signal=new t;abort(g){if(!this.signal.aborted){this.signal.reason=g,this.signal.aborted=!0;for(let _ of this.signal._onabort)_(g);this.signal.onabort?.(g)}}};let v=a.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",p=()=>{v&&(v=!1,u("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",p))}}var n=v=>!l.has(v),e=Symbol("type"),i=v=>v&&v===Math.floor(v)&&v>0&&isFinite(v),o=v=>i(v)?v<=Math.pow(2,8)?Uint8Array:v<=Math.pow(2,16)?Uint16Array:v<=Math.pow(2,32)?Uint32Array:v<=Number.MAX_SAFE_INTEGER?f:null:null,f=class extends Array{constructor(v){super(v),this.fill(0)}},d=class Vt{heap;length;static#l=!1;static create(p){let g=o(p);if(!g)return[];Vt.#l=!0;let _=new Vt(p,g);return Vt.#l=!1,_}constructor(p,g){if(!Vt.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new g(p),this.length=0}push(p){this.heap[this.length++]=p}pop(){return this.heap[--this.length]}},b=class Us{#l;#h;#g;#y;#P;#R;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#b;#n;#r;#e;#u;#f;#a;#o;#m;#s;#v;#w;#p;#_;#x;#c;static unsafeExposeInternals(p){return{starts:p.#w,ttls:p.#p,sizes:p.#v,keyMap:p.#n,keyList:p.#r,valList:p.#e,next:p.#u,prev:p.#f,get head(){return p.#a},get tail(){return p.#o},free:p.#m,isBackgroundFetch:g=>p.#t(g),backgroundFetch:(g,_,h,w)=>p.#j(g,_,h,w),moveToTail:g=>p.#k(g),indexes:g=>p.#S(g),rindexes:g=>p.#E(g),isStale:g=>p.#d(g)}}get max(){return this.#l}get maxSize(){return this.#h}get calculatedSize(){return this.#b}get size(){return this.#i}get fetchMethod(){return this.#P}get memoMethod(){return this.#R}get dispose(){return this.#g}get disposeAfter(){return this.#y}constructor(p){let{max:g=0,ttl:_,ttlResolution:h=1,ttlAutopurge:w,updateAgeOnGet:E,updateAgeOnHas:m,allowStale:A,dispose:I,disposeAfter:T,noDisposeOnSet:R,noUpdateTTL:C,maxSize:U=0,maxEntrySize:O=0,sizeCalculation:L,fetchMethod:$,memoMethod:B,noDeleteOnFetchRejection:oe,noDeleteOnStaleGet:X,allowStaleOnFetchRejection:z,allowStaleOnFetchAbort:ne,ignoreFetchAbort:D}=p;if(g!==0&&!i(g))throw new TypeError("max option must be a nonnegative integer");let Z=g?o(g):Array;if(!Z)throw new Error("invalid max value: "+g);if(this.#l=g,this.#h=U,this.maxEntrySize=O||this.#h,this.sizeCalculation=L,this.sizeCalculation){if(!this.#h&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(B!==void 0&&typeof B!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#R=B,$!==void 0&&typeof $!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#P=$,this.#x=!!$,this.#n=new Map,this.#r=new Array(g).fill(void 0),this.#e=new Array(g).fill(void 0),this.#u=new Z(g),this.#f=new Z(g),this.#a=0,this.#o=0,this.#m=d.create(g),this.#i=0,this.#b=0,typeof I=="function"&&(this.#g=I),typeof T=="function"?(this.#y=T,this.#s=[]):(this.#y=void 0,this.#s=void 0),this.#_=!!this.#g,this.#c=!!this.#y,this.noDisposeOnSet=!!R,this.noUpdateTTL=!!C,this.noDeleteOnFetchRejection=!!oe,this.allowStaleOnFetchRejection=!!z,this.allowStaleOnFetchAbort=!!ne,this.ignoreFetchAbort=!!D,this.maxEntrySize!==0){if(this.#h!==0&&!i(this.#h))throw new TypeError("maxSize must be a positive integer if specified");if(!i(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#W()}if(this.allowStale=!!A,this.noDeleteOnStaleGet=!!X,this.updateAgeOnGet=!!E,this.updateAgeOnHas=!!m,this.ttlResolution=i(h)||h===0?h:1,this.ttlAutopurge=!!w,this.ttl=_||0,this.ttl){if(!i(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#N()}if(this.#l===0&&this.ttl===0&&this.#h===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#h){let P="LRU_CACHE_UNBOUNDED";n(P)&&(l.add(P),u("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",P,Us))}}getRemainingTTL(p){return this.#n.has(p)?1/0:0}#N(){let p=new f(this.#l),g=new f(this.#l);this.#p=p,this.#w=g,this.#B=(w,E,m=c.now())=>{if(g[w]=E!==0?m:0,p[w]=E,E!==0&&this.ttlAutopurge){let A=setTimeout(()=>{this.#d(w)&&this.#A(this.#r[w],"expire")},E+1);A.unref&&A.unref()}},this.#T=w=>{g[w]=p[w]!==0?c.now():0},this.#I=(w,E)=>{if(p[E]){let m=p[E],A=g[E];if(!m||!A)return;w.ttl=m,w.start=A,w.now=_||h();let I=w.now-A;w.remainingTTL=m-I}};let _=0,h=()=>{let w=c.now();if(this.ttlResolution>0){_=w;let E=setTimeout(()=>_=0,this.ttlResolution);E.unref&&E.unref()}return w};this.getRemainingTTL=w=>{let E=this.#n.get(w);if(E===void 0)return 0;let m=p[E],A=g[E];if(!m||!A)return 1/0;let I=(_||h())-A;return m-I},this.#d=w=>{let E=g[w],m=p[w];return!!m&&!!E&&(_||h())-E>m}}#T=()=>{};#I=()=>{};#B=()=>{};#d=()=>!1;#W(){let p=new f(this.#l);this.#b=0,this.#v=p,this.#O=g=>{this.#b-=p[g],p[g]=0},this.#U=(g,_,h,w)=>{if(this.#t(_))return 0;if(!i(h))if(w){if(typeof w!="function")throw new TypeError("sizeCalculation must be a function");if(h=w(_,g),!i(h))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return h},this.#C=(g,_,h)=>{if(p[g]=_,this.#h){let w=this.#h-p[g];for(;this.#b>w;)this.#M(!0)}this.#b+=p[g],h&&(h.entrySize=_,h.totalCalculatedSize=this.#b)}}#O=p=>{};#C=(p,g,_)=>{};#U=(p,g,_,h)=>{if(_||h)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#S({allowStale:p=this.allowStale}={}){if(this.#i)for(let g=this.#o;!(!this.#L(g)||((p||!this.#d(g))&&(yield g),g===this.#a));)g=this.#f[g]}*#E({allowStale:p=this.allowStale}={}){if(this.#i)for(let g=this.#a;!(!this.#L(g)||((p||!this.#d(g))&&(yield g),g===this.#o));)g=this.#u[g]}#L(p){return p!==void 0&&this.#n.get(this.#r[p])===p}*entries(){for(let p of this.#S())this.#e[p]!==void 0&&this.#r[p]!==void 0&&!this.#t(this.#e[p])&&(yield[this.#r[p],this.#e[p]])}*rentries(){for(let p of this.#E())this.#e[p]!==void 0&&this.#r[p]!==void 0&&!this.#t(this.#e[p])&&(yield[this.#r[p],this.#e[p]])}*keys(){for(let p of this.#S()){let g=this.#r[p];g!==void 0&&!this.#t(this.#e[p])&&(yield g)}}*rkeys(){for(let p of this.#E()){let g=this.#r[p];g!==void 0&&!this.#t(this.#e[p])&&(yield g)}}*values(){for(let p of this.#S())this.#e[p]!==void 0&&!this.#t(this.#e[p])&&(yield this.#e[p])}*rvalues(){for(let p of this.#E())this.#e[p]!==void 0&&!this.#t(this.#e[p])&&(yield this.#e[p])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(p,g={}){for(let _ of this.#S()){let h=this.#e[_],w=this.#t(h)?h.__staleWhileFetching:h;if(w!==void 0&&p(w,this.#r[_],this))return this.get(this.#r[_],g)}}forEach(p,g=this){for(let _ of this.#S()){let h=this.#e[_],w=this.#t(h)?h.__staleWhileFetching:h;w!==void 0&&p.call(g,w,this.#r[_],this)}}rforEach(p,g=this){for(let _ of this.#E()){let h=this.#e[_],w=this.#t(h)?h.__staleWhileFetching:h;w!==void 0&&p.call(g,w,this.#r[_],this)}}purgeStale(){let p=!1;for(let g of this.#E({allowStale:!0}))this.#d(g)&&(this.#A(this.#r[g],"expire"),p=!0);return p}info(p){let g=this.#n.get(p);if(g===void 0)return;let _=this.#e[g],h=this.#t(_)?_.__staleWhileFetching:_;if(h===void 0)return;let w={value:h};if(this.#p&&this.#w){let E=this.#p[g],m=this.#w[g];if(E&&m){let A=E-(c.now()-m);w.ttl=A,w.start=Date.now()}}return this.#v&&(w.size=this.#v[g]),w}dump(){let p=[];for(let g of this.#S({allowStale:!0})){let _=this.#r[g],h=this.#e[g],w=this.#t(h)?h.__staleWhileFetching:h;if(w===void 0||_===void 0)continue;let E={value:w};if(this.#p&&this.#w){E.ttl=this.#p[g];let m=c.now()-this.#w[g];E.start=Math.floor(Date.now()-m)}this.#v&&(E.size=this.#v[g]),p.unshift([_,E])}return p}load(p){this.clear();for(let[g,_]of p){if(_.start){let h=Date.now()-_.start;_.start=c.now()-h}this.set(g,_.value,_)}}set(p,g,_={}){if(g===void 0)return this.delete(p),this;let{ttl:h=this.ttl,start:w,noDisposeOnSet:E=this.noDisposeOnSet,sizeCalculation:m=this.sizeCalculation,status:A}=_,{noUpdateTTL:I=this.noUpdateTTL}=_,T=this.#U(p,g,_.size||0,m);if(this.maxEntrySize&&T>this.maxEntrySize)return A&&(A.set="miss",A.maxEntrySizeExceeded=!0),this.#A(p,"set"),this;let R=this.#i===0?void 0:this.#n.get(p);if(R===void 0)R=this.#i===0?this.#o:this.#m.length!==0?this.#m.pop():this.#i===this.#l?this.#M(!1):this.#i,this.#r[R]=p,this.#e[R]=g,this.#n.set(p,R),this.#u[this.#o]=R,this.#f[R]=this.#o,this.#o=R,this.#i++,this.#C(R,T,A),A&&(A.set="add"),I=!1;else{this.#k(R);let C=this.#e[R];if(g!==C){if(this.#x&&this.#t(C)){C.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:U}=C;U!==void 0&&!E&&(this.#_&&this.#g?.(U,p,"set"),this.#c&&this.#s?.push([U,p,"set"]))}else E||(this.#_&&this.#g?.(C,p,"set"),this.#c&&this.#s?.push([C,p,"set"]));if(this.#O(R),this.#C(R,T,A),this.#e[R]=g,A){A.set="replace";let U=C&&this.#t(C)?C.__staleWhileFetching:C;U!==void 0&&(A.oldValue=U)}}else A&&(A.set="update")}if(h!==0&&!this.#p&&this.#N(),this.#p&&(I||this.#B(R,h,w),A&&this.#I(A,R)),!E&&this.#c&&this.#s){let C=this.#s,U;for(;U=C?.shift();)this.#y?.(...U)}return this}pop(){try{for(;this.#i;){let p=this.#e[this.#a];if(this.#M(!0),this.#t(p)){if(p.__staleWhileFetching)return p.__staleWhileFetching}else if(p!==void 0)return p}}finally{if(this.#c&&this.#s){let p=this.#s,g;for(;g=p?.shift();)this.#y?.(...g)}}}#M(p){let g=this.#a,_=this.#r[g],h=this.#e[g];return this.#x&&this.#t(h)?h.__abortController.abort(new Error("evicted")):(this.#_||this.#c)&&(this.#_&&this.#g?.(h,_,"evict"),this.#c&&this.#s?.push([h,_,"evict"])),this.#O(g),p&&(this.#r[g]=void 0,this.#e[g]=void 0,this.#m.push(g)),this.#i===1?(this.#a=this.#o=0,this.#m.length=0):this.#a=this.#u[g],this.#n.delete(_),this.#i--,g}has(p,g={}){let{updateAgeOnHas:_=this.updateAgeOnHas,status:h}=g,w=this.#n.get(p);if(w!==void 0){let E=this.#e[w];if(this.#t(E)&&E.__staleWhileFetching===void 0)return!1;if(this.#d(w))h&&(h.has="stale",this.#I(h,w));else return _&&this.#T(w),h&&(h.has="hit",this.#I(h,w)),!0}else h&&(h.has="miss");return!1}peek(p,g={}){let{allowStale:_=this.allowStale}=g,h=this.#n.get(p);if(h===void 0||!_&&this.#d(h))return;let w=this.#e[h];return this.#t(w)?w.__staleWhileFetching:w}#j(p,g,_,h){let w=g===void 0?void 0:this.#e[g];if(this.#t(w))return w;let E=new r,{signal:m}=_;m?.addEventListener("abort",()=>E.abort(m.reason),{signal:E.signal});let A={signal:E.signal,options:_,context:h},I=(L,$=!1)=>{let{aborted:B}=E.signal,oe=_.ignoreFetchAbort&&L!==void 0;if(_.status&&(B&&!$?(_.status.fetchAborted=!0,_.status.fetchError=E.signal.reason,oe&&(_.status.fetchAbortIgnored=!0)):_.status.fetchResolved=!0),B&&!oe&&!$)return R(E.signal.reason);let X=U;return this.#e[g]===U&&(L===void 0?X.__staleWhileFetching?this.#e[g]=X.__staleWhileFetching:this.#A(p,"fetch"):(_.status&&(_.status.fetchUpdated=!0),this.set(p,L,A.options))),L},T=L=>(_.status&&(_.status.fetchRejected=!0,_.status.fetchError=L),R(L)),R=L=>{let{aborted:$}=E.signal,B=$&&_.allowStaleOnFetchAbort,oe=B||_.allowStaleOnFetchRejection,X=oe||_.noDeleteOnFetchRejection,z=U;if(this.#e[g]===U&&(!X||z.__staleWhileFetching===void 0?this.#A(p,"fetch"):B||(this.#e[g]=z.__staleWhileFetching)),oe)return _.status&&z.__staleWhileFetching!==void 0&&(_.status.returnedStale=!0),z.__staleWhileFetching;if(z.__returned===z)throw L},C=(L,$)=>{let B=this.#P?.(p,w,A);B&&B instanceof Promise&&B.then(oe=>L(oe===void 0?void 0:oe),$),E.signal.addEventListener("abort",()=>{(!_.ignoreFetchAbort||_.allowStaleOnFetchAbort)&&(L(void 0),_.allowStaleOnFetchAbort&&(L=oe=>I(oe,!0)))})};_.status&&(_.status.fetchDispatched=!0);let U=new Promise(C).then(I,T),O=Object.assign(U,{__abortController:E,__staleWhileFetching:w,__returned:void 0});return g===void 0?(this.set(p,O,Ge(Pe({},A.options),{status:void 0})),g=this.#n.get(p)):this.#e[g]=O,O}#t(p){if(!this.#x)return!1;let g=p;return!!g&&g instanceof Promise&&g.hasOwnProperty("__staleWhileFetching")&&g.__abortController instanceof r}async fetch(p,g={}){let{allowStale:_=this.allowStale,updateAgeOnGet:h=this.updateAgeOnGet,noDeleteOnStaleGet:w=this.noDeleteOnStaleGet,ttl:E=this.ttl,noDisposeOnSet:m=this.noDisposeOnSet,size:A=0,sizeCalculation:I=this.sizeCalculation,noUpdateTTL:T=this.noUpdateTTL,noDeleteOnFetchRejection:R=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:C=this.allowStaleOnFetchRejection,ignoreFetchAbort:U=this.ignoreFetchAbort,allowStaleOnFetchAbort:O=this.allowStaleOnFetchAbort,context:L,forceRefresh:$=!1,status:B,signal:oe}=g;if(!this.#x)return B&&(B.fetch="get"),this.get(p,{allowStale:_,updateAgeOnGet:h,noDeleteOnStaleGet:w,status:B});let X={allowStale:_,updateAgeOnGet:h,noDeleteOnStaleGet:w,ttl:E,noDisposeOnSet:m,size:A,sizeCalculation:I,noUpdateTTL:T,noDeleteOnFetchRejection:R,allowStaleOnFetchRejection:C,allowStaleOnFetchAbort:O,ignoreFetchAbort:U,status:B,signal:oe},z=this.#n.get(p);if(z===void 0){B&&(B.fetch="miss");let ne=this.#j(p,z,X,L);return ne.__returned=ne}else{let ne=this.#e[z];if(this.#t(ne)){let Y=_&&ne.__staleWhileFetching!==void 0;return B&&(B.fetch="inflight",Y&&(B.returnedStale=!0)),Y?ne.__staleWhileFetching:ne.__returned=ne}let D=this.#d(z);if(!$&&!D)return B&&(B.fetch="hit"),this.#k(z),h&&this.#T(z),B&&this.#I(B,z),ne;let Z=this.#j(p,z,X,L),P=Z.__staleWhileFetching!==void 0&&_;return B&&(B.fetch=D?"stale":"refresh",P&&D&&(B.returnedStale=!0)),P?Z.__staleWhileFetching:Z.__returned=Z}}async forceFetch(p,g={}){let _=await this.fetch(p,g);if(_===void 0)throw new Error("fetch() returned undefined");return _}memo(p,g={}){let _=this.#R;if(!_)throw new Error("no memoMethod provided to constructor");let I=g,{context:h,forceRefresh:w}=I,E=jr(I,["context","forceRefresh"]),m=this.get(p,E);if(!w&&m!==void 0)return m;let A=_(p,m,{options:E,context:h});return this.set(p,A,E),A}get(p,g={}){let{allowStale:_=this.allowStale,updateAgeOnGet:h=this.updateAgeOnGet,noDeleteOnStaleGet:w=this.noDeleteOnStaleGet,status:E}=g,m=this.#n.get(p);if(m!==void 0){let A=this.#e[m],I=this.#t(A);return E&&this.#I(E,m),this.#d(m)?(E&&(E.get="stale"),I?(E&&_&&A.__staleWhileFetching!==void 0&&(E.returnedStale=!0),_?A.__staleWhileFetching:void 0):(w||this.#A(p,"expire"),E&&_&&(E.returnedStale=!0),_?A:void 0)):(E&&(E.get="hit"),I?A.__staleWhileFetching:(this.#k(m),h&&this.#T(m),A))}else E&&(E.get="miss")}#D(p,g){this.#f[g]=p,this.#u[p]=g}#k(p){p!==this.#o&&(p===this.#a?this.#a=this.#u[p]:this.#D(this.#f[p],this.#u[p]),this.#D(this.#o,p),this.#o=p)}delete(p){return this.#A(p,"delete")}#A(p,g){let _=!1;if(this.#i!==0){let h=this.#n.get(p);if(h!==void 0)if(_=!0,this.#i===1)this.#F(g);else{this.#O(h);let w=this.#e[h];if(this.#t(w)?w.__abortController.abort(new Error("deleted")):(this.#_||this.#c)&&(this.#_&&this.#g?.(w,p,g),this.#c&&this.#s?.push([w,p,g])),this.#n.delete(p),this.#r[h]=void 0,this.#e[h]=void 0,h===this.#o)this.#o=this.#f[h];else if(h===this.#a)this.#a=this.#u[h];else{let E=this.#f[h];this.#u[E]=this.#u[h];let m=this.#u[h];this.#f[m]=this.#f[h]}this.#i--,this.#m.push(h)}}if(this.#c&&this.#s?.length){let h=this.#s,w;for(;w=h?.shift();)this.#y?.(...w)}return _}clear(){return this.#F("delete")}#F(p){for(let g of this.#E({allowStale:!0})){let _=this.#e[g];if(this.#t(_))_.__abortController.abort(new Error("deleted"));else{let h=this.#r[g];this.#_&&this.#g?.(_,h,p),this.#c&&this.#s?.push([_,h,p])}}if(this.#n.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#p&&this.#w&&(this.#p.fill(0),this.#w.fill(0)),this.#v&&this.#v.fill(0),this.#a=0,this.#o=0,this.#m.length=0,this.#b=0,this.#i=0,this.#c&&this.#s){let g=this.#s,_;for(;_=g?.shift();)this.#y?.(..._)}}};y.LRUCache=b}),ht=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.ContainerIterator=y.Container=y.Base=void 0;var c=class{constructor(u=0){this.iteratorType=u}equals(u){return this.o===u.o}};y.ContainerIterator=c;var l=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};y.Base=l;var a=class extends l{};y.Container=a}),yl=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.default=void 0;var c=ht(),l=class extends c.Base{constructor(u=[]){super(),this.S=[];let r=this;u.forEach(function(t){r.push(t)})}clear(){this.i=0,this.S=[]}push(u){return this.S.push(u),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},a=l;y.default=a}),bl=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.default=void 0;var c=ht(),l=class extends c.Base{constructor(u=[]){super(),this.j=0,this.q=[];let r=this;u.forEach(function(t){r.push(t)})}clear(){this.q=[],this.i=this.j=0}push(u){let r=this.q.length;if(this.j/r>.5&&this.j+this.i>=r&&r>4096){let t=this.i;for(let n=0;n<t;++n)this.q[n]=this.q[this.j+n];this.j=0,this.q[this.i]=u}else this.q[this.j+this.i]=u;return++this.i}pop(){if(this.i===0)return;let u=this.q[this.j++];return this.i-=1,u}front(){if(this.i!==0)return this.q[this.j]}},a=l;y.default=a}),ml=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.default=void 0;var c=ht(),l=class extends c.Base{constructor(u=[],r=function(n,e){return n>e?-1:n<e?1:0},t=!0){if(super(),this.v=r,Array.isArray(u))this.C=t?[...u]:u;else{this.C=[];let e=this;u.forEach(function(i){e.C.push(i)})}this.i=this.C.length;let n=this.i>>1;for(let e=this.i-1>>1;e>=0;--e)this.k(e,n)}m(u){let r=this.C[u];for(;u>0;){let t=u-1>>1,n=this.C[t];if(this.v(n,r)<=0)break;this.C[u]=n,u=t}this.C[u]=r}k(u,r){let t=this.C[u];for(;u<r;){let n=u<<1|1,e=n+1,i=this.C[n];if(e<this.i&&this.v(i,this.C[e])>0&&(n=e,i=this.C[e]),this.v(i,t)>=0)break;this.C[u]=i,u=n}this.C[u]=t}clear(){this.i=0,this.C.length=0}push(u){this.C.push(u),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let u=this.C[0],r=this.C.pop();return this.i-=1,this.i&&(this.C[0]=r,this.k(0,this.i>>1)),u}top(){return this.C[0]}find(u){return this.C.indexOf(u)>=0}remove(u){let r=this.C.indexOf(u);return r<0?!1:(r===0?this.pop():r===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(r,1,this.C.pop()),this.i-=1,this.m(r),this.k(r,this.i>>1)),!0)}updateItem(u){let r=this.C.indexOf(u);return r<0?!1:(this.m(r),this.k(r,this.i>>1),!0)}toArray(){return[...this.C]}},a=l;y.default=a}),qi=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.default=void 0;var c=ht(),l=class extends c.Container{},a=l;y.default=a}),ft=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.throwIteratorAccessError=c;function c(){throw new RangeError("Iterator access denied!")}}),Ls=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.RandomIterator=void 0;var c=ht(),l=ft(),a=class extends c.ContainerIterator{constructor(u,r){super(r),this.o=u,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,l.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,l.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,l.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,l.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(u){this.container.setElementByPos(this.o,u)}};y.RandomIterator=a}),vl=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.default=void 0;var c=a(qi()),l=Ls();function a(n){return n&&n.t?n:{default:n}}var u=class Ds extends l.RandomIterator{constructor(e,i,o){super(e,o),this.container=i}copy(){return new Ds(this.o,this.container,this.iteratorType)}},r=class extends c.default{constructor(n=[],e=!0){if(super(),Array.isArray(n))this.J=e?[...n]:n,this.i=n.length;else{this.J=[];let i=this;n.forEach(function(o){i.pushBack(o)})}}clear(){this.i=0,this.J.length=0}begin(){return new u(0,this)}end(){return new u(this.i,this)}rBegin(){return new u(this.i-1,this,1)}rEnd(){return new u(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;return this.J[n]}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;return this.J.splice(n,1),this.i-=1,this.i}eraseElementByValue(n){let e=0;for(let i=0;i<this.i;++i)this.J[i]!==n&&(this.J[e++]=this.J[i]);return this.i=this.J.length=e,this.i}eraseElementByIterator(n){let e=n.o;return n=n.next(),this.eraseElementByPos(e),n}pushBack(n){return this.J.push(n),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(n,e){if(n<0||n>this.i-1)throw new RangeError;this.J[n]=e}insert(n,e,i=1){if(n<0||n>this.i)throw new RangeError;return this.J.splice(n,0,...new Array(i).fill(e)),this.i+=i,this.i}find(n){for(let e=0;e<this.i;++e)if(this.J[e]===n)return new u(e,this);return this.end()}reverse(){this.J.reverse()}unique(){let n=1;for(let e=1;e<this.i;++e)this.J[e]!==this.J[e-1]&&(this.J[n++]=this.J[e]);return this.i=this.J.length=n,this.i}sort(n){this.J.sort(n)}forEach(n){for(let e=0;e<this.i;++e)n(this.J[e],e,this)}[Symbol.iterator](){return function*(){yield*this.J}.bind(this)()}},t=r;y.default=t}),wl=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.default=void 0;var c=u(qi()),l=ht(),a=ft();function u(e){return e&&e.t?e:{default:e}}var r=class Fs extends l.ContainerIterator{constructor(i,o,f,d){super(d),this.o=i,this.h=o,this.container=f,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o.l}set pointer(i){this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o.l=i}copy(){return new Fs(this.o,this.h,this.container,this.iteratorType)}},t=class extends c.default{constructor(e=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let i=this;e.forEach(function(o){i.pushBack(o)})}V(e){let{L:i,B:o}=e;i.B=o,o.L=i,e===this.p&&(this.p=o),e===this._&&(this._=i),this.i-=1}G(e,i){let o=i.B,f={l:e,L:i,B:o};i.B=f,o.L=f,i===this.h&&(this.p=f),o===this.h&&(this._=f),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new r(this.p,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this._,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let i=this.p;for(;e--;)i=i.B;return i.l}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let i=this.p;for(;e--;)i=i.B;return this.V(i),this.i}eraseElementByValue(e){let i=this.p;for(;i!==this.h;)i.l===e&&this.V(i),i=i.B;return this.i}eraseElementByIterator(e){let i=e.o;return i===this.h&&(0,a.throwIteratorAccessError)(),e=e.next(),this.V(i),e}pushBack(e){return this.G(e,this._),this.i}popBack(){if(this.i===0)return;let e=this._.l;return this.V(this._),e}pushFront(e){return this.G(e,this.h),this.i}popFront(){if(this.i===0)return;let e=this.p.l;return this.V(this.p),e}setElementByPos(e,i){if(e<0||e>this.i-1)throw new RangeError;let o=this.p;for(;e--;)o=o.B;o.l=i}insert(e,i,o=1){if(e<0||e>this.i)throw new RangeError;if(o<=0)return this.i;if(e===0)for(;o--;)this.pushFront(i);else if(e===this.i)for(;o--;)this.pushBack(i);else{let f=this.p;for(let b=1;b<e;++b)f=f.B;let d=f.B;for(this.i+=o;o--;)f.B={l:i,L:f},f.B.L=f,f=f.B;f.B=d,d.L=f}return this.i}find(e){let i=this.p;for(;i!==this.h;){if(i.l===e)return new r(i,this.h,this);i=i.B}return this.end()}reverse(){if(this.i<=1)return;let e=this.p,i=this._,o=0;for(;o<<1<this.i;){let f=e.l;e.l=i.l,i.l=f,e=e.B,i=i.L,o+=1}}unique(){if(this.i<=1)return this.i;let e=this.p;for(;e!==this.h;){let i=e;for(;i.B!==this.h&&i.l===i.B.l;)i=i.B,this.i-=1;e.B=i.B,e.B.L=e,e=e.B}return this.i}sort(e){if(this.i<=1)return;let i=[];this.forEach(function(f){i.push(f)}),i.sort(e);let o=this.p;i.forEach(function(f){o.l=f,o=o.B})}merge(e){let i=this;if(this.i===0)e.forEach(function(o){i.pushBack(o)});else{let o=this.p;e.forEach(function(f){for(;o!==i.h&&o.l<=f;)o=o.B;i.G(f,o.L)})}return this.i}forEach(e){let i=this.p,o=0;for(;i!==this.h;)e(i.l,o++,this),i=i.B}[Symbol.iterator](){return function*(){if(this.i===0)return;let e=this.p;for(;e!==this.h;)yield e.l,e=e.B}.bind(this)()}},n=t;y.default=n}),_l=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.default=void 0;var c=a(qi()),l=Ls();function a(n){return n&&n.t?n:{default:n}}var u=class Ws extends l.RandomIterator{constructor(e,i,o){super(e,o),this.container=i}copy(){return new Ws(this.o,this.container,this.iteratorType)}},r=class extends c.default{constructor(n=[],e=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let i=(()=>{if(typeof n.length=="number")return n.length;if(typeof n.size=="number")return n.size;if(typeof n.size=="function")return n.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=e,this.P=Math.max(Math.ceil(i/this.F),1);for(let d=0;d<this.P;++d)this.A.push(new Array(this.F));let o=Math.ceil(i/this.F);this.j=this.R=(this.P>>1)-(o>>1),this.D=this.N=this.F-i%this.F>>1;let f=this;n.forEach(function(d){f.pushBack(d)})}T(){let n=[],e=Math.max(this.P>>1,1);for(let i=0;i<e;++i)n[i]=new Array(this.F);for(let i=this.j;i<this.P;++i)n[n.length]=this.A[i];for(let i=0;i<this.R;++i)n[n.length]=this.A[i];n[n.length]=[...this.A[this.R]],this.j=e,this.R=n.length-1;for(let i=0;i<e;++i)n[n.length]=new Array(this.F);this.A=n,this.P=n.length}O(n){let e=this.D+n+1,i=e%this.F,o=i-1,f=this.j+(e-i)/this.F;return i===0&&(f-=1),f%=this.P,o<0&&(o+=this.F),{curNodeBucketIndex:f,curNodePointerIndex:o}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new u(0,this)}end(){return new u(this.i,this)}rBegin(){return new u(this.i-1,this,1)}rEnd(){return new u(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(n){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=n,this.i}popBack(){if(this.i===0)return;let n=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,n}pushFront(n){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=n,this.i}popFront(){if(this.i===0)return;let n=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,n}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let{curNodeBucketIndex:e,curNodePointerIndex:i}=this.O(n);return this.A[e][i]}setElementByPos(n,e){if(n<0||n>this.i-1)throw new RangeError;let{curNodeBucketIndex:i,curNodePointerIndex:o}=this.O(n);this.A[i][o]=e}insert(n,e,i=1){if(n<0||n>this.i)throw new RangeError;if(n===0)for(;i--;)this.pushFront(e);else if(n===this.i)for(;i--;)this.pushBack(e);else{let o=[];for(let f=n;f<this.i;++f)o.push(this.getElementByPos(f));this.cut(n-1);for(let f=0;f<i;++f)this.pushBack(e);for(let f=0;f<o.length;++f)this.pushBack(o[f])}return this.i}cut(n){if(n<0)return this.clear(),0;let{curNodeBucketIndex:e,curNodePointerIndex:i}=this.O(n);return this.R=e,this.N=i,this.i=n+1,this.i}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;if(n===0)this.popFront();else if(n===this.i-1)this.popBack();else{let e=[];for(let o=n+1;o<this.i;++o)e.push(this.getElementByPos(o));this.cut(n),this.popBack();let i=this;e.forEach(function(o){i.pushBack(o)})}return this.i}eraseElementByValue(n){if(this.i===0)return 0;let e=[];for(let o=0;o<this.i;++o){let f=this.getElementByPos(o);f!==n&&e.push(f)}let i=e.length;for(let o=0;o<i;++o)this.setElementByPos(o,e[o]);return this.cut(i-1)}eraseElementByIterator(n){let e=n.o;return this.eraseElementByPos(e),n=n.next(),n}find(n){for(let e=0;e<this.i;++e)if(this.getElementByPos(e)===n)return new u(e,this);return this.end()}reverse(){let n=0,e=this.i-1;for(;n<e;){let i=this.getElementByPos(n);this.setElementByPos(n,this.getElementByPos(e)),this.setElementByPos(e,i),n+=1,e-=1}}unique(){if(this.i<=1)return this.i;let n=1,e=this.getElementByPos(0);for(let i=1;i<this.i;++i){let o=this.getElementByPos(i);o!==e&&(e=o,this.setElementByPos(n++,o))}for(;this.i>n;)this.popBack();return this.i}sort(n){let e=[];for(let i=0;i<this.i;++i)e.push(this.getElementByPos(i));e.sort(n);for(let i=0;i<this.i;++i)this.setElementByPos(i,e[i])}shrinkToFit(){if(this.i===0)return;let n=[];this.forEach(function(e){n.push(e)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let e=0;e<this.P;++e)this.A.push(new Array(this.F));for(let e=0;e<n.length;++e)this.pushBack(n[e])}forEach(n){for(let e=0;e<this.i;++e)n(this.getElementByPos(e),e,this)}[Symbol.iterator](){return function*(){for(let n=0;n<this.i;++n)yield this.getElementByPos(n)}.bind(this)()}},t=r;y.default=t}),Sl=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.TreeNodeEnableIndex=y.TreeNode=void 0;var c=class{constructor(a,u){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=a,this.l=u}L(){let a=this;if(a.ee===1&&a.tt.tt===a)a=a.W;else if(a.U)for(a=a.U;a.W;)a=a.W;else{let u=a.tt;for(;u.U===a;)a=u,u=a.tt;a=u}return a}B(){let a=this;if(a.W){for(a=a.W;a.U;)a=a.U;return a}else{let u=a.tt;for(;u.W===a;)a=u,u=a.tt;return a.W!==u?u:a}}te(){let a=this.tt,u=this.W,r=u.U;return a.tt===this?a.tt=u:a.U===this?a.U=u:a.W=u,u.tt=a,u.U=this,this.tt=u,this.W=r,r&&(r.tt=this),u}se(){let a=this.tt,u=this.U,r=u.W;return a.tt===this?a.tt=u:a.U===this?a.U=u:a.W=u,u.tt=a,u.W=this,this.tt=u,this.U=r,r&&(r.tt=this),u}};y.TreeNode=c;var l=class extends c{constructor(){super(...arguments),this.rt=1}te(){let a=super.te();return this.ie(),a.ie(),a}se(){let a=super.se();return this.ie(),a.ie(),a}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};y.TreeNodeEnableIndex=l}),qs=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.default=void 0;var c=Sl(),l=ht(),a=ft(),u=class extends l.Container{constructor(t=function(e,i){return e<i?-1:e>i?1:0},n=!1){super(),this.Y=void 0,this.v=t,n?(this.re=c.TreeNodeEnableIndex,this.M=function(e,i,o){let f=this.ne(e,i,o);if(f){let d=f.tt;for(;d!==this.h;)d.rt+=1,d=d.tt;let b=this.he(f);if(b){let{parentNode:v,grandParent:p,curNode:g}=b;v.ie(),p.ie(),g.ie()}}return this.i},this.V=function(e){let i=this.fe(e);for(;i!==this.h;)i.rt-=1,i=i.tt}):(this.re=c.TreeNode,this.M=function(e,i,o){let f=this.ne(e,i,o);return f&&this.he(f),this.i},this.V=this.fe),this.h=new this.re}X(t,n){let e=this.h;for(;t;){let i=this.v(t.u,n);if(i<0)t=t.W;else if(i>0)e=t,t=t.U;else return t}return e}Z(t,n){let e=this.h;for(;t;)this.v(t.u,n)<=0?t=t.W:(e=t,t=t.U);return e}$(t,n){let e=this.h;for(;t;){let i=this.v(t.u,n);if(i<0)e=t,t=t.W;else if(i>0)t=t.U;else return t}return e}rr(t,n){let e=this.h;for(;t;)this.v(t.u,n)<0?(e=t,t=t.W):t=t.U;return e}ue(t){for(;;){let n=t.tt;if(n===this.h)return;if(t.ee===1){t.ee=0;return}if(t===n.U){let e=n.W;if(e.ee===1)e.ee=0,n.ee=1,n===this.Y?this.Y=n.te():n.te();else if(e.W&&e.W.ee===1){e.ee=n.ee,n.ee=0,e.W.ee=0,n===this.Y?this.Y=n.te():n.te();return}else e.U&&e.U.ee===1?(e.ee=1,e.U.ee=0,e.se()):(e.ee=1,t=n)}else{let e=n.U;if(e.ee===1)e.ee=0,n.ee=1,n===this.Y?this.Y=n.se():n.se();else if(e.U&&e.U.ee===1){e.ee=n.ee,n.ee=0,e.U.ee=0,n===this.Y?this.Y=n.se():n.se();return}else e.W&&e.W.ee===1?(e.ee=1,e.W.ee=0,e.te()):(e.ee=1,t=n)}}}fe(t){if(this.i===1)return this.clear(),this.h;let n=t;for(;n.U||n.W;){if(n.W)for(n=n.W;n.U;)n=n.U;else n=n.U;[t.u,n.u]=[n.u,t.u],[t.l,n.l]=[n.l,t.l],t=n}this.h.U===n?this.h.U=n.tt:this.h.W===n&&(this.h.W=n.tt),this.ue(n);let e=n.tt;return n===e.U?e.U=void 0:e.W=void 0,this.i-=1,this.Y.ee=0,e}oe(t,n){return t===void 0?!1:this.oe(t.U,n)||n(t)?!0:this.oe(t.W,n)}he(t){for(;;){let n=t.tt;if(n.ee===0)return;let e=n.tt;if(n===e.U){let i=e.W;if(i&&i.ee===1){if(i.ee=n.ee=0,e===this.Y)return;e.ee=1,t=e;continue}else if(t===n.W){if(t.ee=0,t.U&&(t.U.tt=n),t.W&&(t.W.tt=e),n.W=t.U,e.U=t.W,t.U=n,t.W=e,e===this.Y)this.Y=t,this.h.tt=t;else{let o=e.tt;o.U===e?o.U=t:o.W=t}return t.tt=e.tt,n.tt=t,e.tt=t,e.ee=1,{parentNode:n,grandParent:e,curNode:t}}else n.ee=0,e===this.Y?this.Y=e.se():e.se(),e.ee=1}else{let i=e.U;if(i&&i.ee===1){if(i.ee=n.ee=0,e===this.Y)return;e.ee=1,t=e;continue}else if(t===n.U){if(t.ee=0,t.U&&(t.U.tt=e),t.W&&(t.W.tt=n),e.W=t.U,n.U=t.W,t.U=e,t.W=n,e===this.Y)this.Y=t,this.h.tt=t;else{let o=e.tt;o.U===e?o.U=t:o.W=t}return t.tt=e.tt,n.tt=t,e.tt=t,e.ee=1,{parentNode:n,grandParent:e,curNode:t}}else n.ee=0,e===this.Y?this.Y=e.te():e.te(),e.ee=1}return}}ne(t,n,e){if(this.Y===void 0){this.i+=1,this.Y=new this.re(t,n),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let i,o=this.h.U,f=this.v(o.u,t);if(f===0){o.l=n;return}else if(f>0)o.U=new this.re(t,n),o.U.tt=o,i=o.U,this.h.U=i;else{let d=this.h.W,b=this.v(d.u,t);if(b===0){d.l=n;return}else if(b<0)d.W=new this.re(t,n),d.W.tt=d,i=d.W,this.h.W=i;else{if(e!==void 0){let v=e.o;if(v!==this.h){let p=this.v(v.u,t);if(p===0){v.l=n;return}else if(p>0){let g=v.L(),_=this.v(g.u,t);if(_===0){g.l=n;return}else _<0&&(i=new this.re(t,n),g.W===void 0?(g.W=i,i.tt=g):(v.U=i,i.tt=v))}}}if(i===void 0)for(i=this.Y;;){let v=this.v(i.u,t);if(v>0){if(i.U===void 0){i.U=new this.re(t,n),i.U.tt=i,i=i.U;break}i=i.U}else if(v<0){if(i.W===void 0){i.W=new this.re(t,n),i.W.tt=i,i=i.W;break}i=i.W}else{i.l=n;return}}}}return this.i+=1,i}I(t,n){for(;t;){let e=this.v(t.u,n);if(e<0)t=t.W;else if(e>0)t=t.U;else return t}return t||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(t,n){let e=t.o;if(e===this.h&&(0,a.throwIteratorAccessError)(),this.i===1)return e.u=n,!0;if(e===this.h.U)return this.v(e.B().u,n)>0?(e.u=n,!0):!1;if(e===this.h.W)return this.v(e.L().u,n)<0?(e.u=n,!0):!1;let i=e.L().u;if(this.v(i,n)>=0)return!1;let o=e.B().u;return this.v(o,n)<=0?!1:(e.u=n,!0)}eraseElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let n=0,e=this;return this.oe(this.Y,function(i){return t===n?(e.V(i),!0):(n+=1,!1)}),this.i}eraseElementByKey(t){if(this.i===0)return!1;let n=this.I(this.Y,t);return n===this.h?!1:(this.V(n),!0)}eraseElementByIterator(t){let n=t.o;n===this.h&&(0,a.throwIteratorAccessError)();let e=n.W===void 0;return t.iteratorType===0?e&&t.next():(!e||n.U===void 0)&&t.next(),this.V(n),t}forEach(t){let n=0;for(let e of this)t(e,n++,this)}getElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let n,e=0;for(let i of this){if(e===t){n=i;break}e+=1}return n}getHeight(){if(this.i===0)return 0;let t=function(n){return n?Math.max(t(n.U),t(n.W))+1:0};return t(this.Y)}},r=u;y.default=r}),$s=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.default=void 0;var c=ht(),l=ft(),a=class extends c.ContainerIterator{constructor(r,t,n){super(n),this.o=r,this.h=t,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,l.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,l.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let r=this.o,t=this.h.tt;if(r===this.h)return t?t.rt-1:0;let n=0;for(r.U&&(n+=r.U.rt);r!==t;){let e=r.tt;r===e.W&&(n+=1,e.U&&(n+=e.U.rt)),r=e}return n}},u=a;y.default=u}),El=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.default=void 0;var c=u(qs()),l=u($s()),a=ft();function u(e){return e&&e.t?e:{default:e}}var r=class zs extends l.default{constructor(i,o,f,d){super(i,o,d),this.container=f}get pointer(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o.u}copy(){return new zs(this.o,this.h,this.container,this.iteratorType)}},t=class extends c.default{constructor(e=[],i,o){super(i,o);let f=this;e.forEach(function(d){f.insert(d)})}*K(e){e!==void 0&&(yield*this.K(e.U),yield e.u,yield*this.K(e.W))}begin(){return new r(this.h.U||this.h,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this.h.W||this.h,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(e,i){return this.M(e,void 0,i)}find(e){let i=this.I(this.Y,e);return new r(i,this.h,this)}lowerBound(e){let i=this.X(this.Y,e);return new r(i,this.h,this)}upperBound(e){let i=this.Z(this.Y,e);return new r(i,this.h,this)}reverseLowerBound(e){let i=this.$(this.Y,e);return new r(i,this.h,this)}reverseUpperBound(e){let i=this.rr(this.Y,e);return new r(i,this.h,this)}union(e){let i=this;return e.forEach(function(o){i.insert(o)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},n=t;y.default=n}),Al=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.default=void 0;var c=u(qs()),l=u($s()),a=ft();function u(e){return e&&e.t?e:{default:e}}var r=class Vs extends l.default{constructor(i,o,f,d){super(i,o,d),this.container=f}get pointer(){this.o===this.h&&(0,a.throwIteratorAccessError)();let i=this;return new Proxy([],{get(o,f){if(f==="0")return i.o.u;if(f==="1")return i.o.l},set(o,f,d){if(f!=="1")throw new TypeError("props must be 1");return i.o.l=d,!0}})}copy(){return new Vs(this.o,this.h,this.container,this.iteratorType)}},t=class extends c.default{constructor(e=[],i,o){super(i,o);let f=this;e.forEach(function(d){f.setElement(d[0],d[1])})}*K(e){e!==void 0&&(yield*this.K(e.U),yield[e.u,e.l],yield*this.K(e.W))}begin(){return new r(this.h.U||this.h,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this.h.W||this.h,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){if(this.i===0)return;let e=this.h.U;return[e.u,e.l]}back(){if(this.i===0)return;let e=this.h.W;return[e.u,e.l]}lowerBound(e){let i=this.X(this.Y,e);return new r(i,this.h,this)}upperBound(e){let i=this.Z(this.Y,e);return new r(i,this.h,this)}reverseLowerBound(e){let i=this.$(this.Y,e);return new r(i,this.h,this)}reverseUpperBound(e){let i=this.rr(this.Y,e);return new r(i,this.h,this)}setElement(e,i,o){return this.M(e,i,o)}find(e){let i=this.I(this.Y,e);return new r(i,this.h,this)}getElementByKey(e){return this.I(this.Y,e).l}union(e){let i=this;return e.forEach(function(o){i.setElement(o[0],o[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},n=t;y.default=n}),Ks=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.default=c;function c(l){let a=typeof l;return a==="object"&&l!==null||a==="function"}}),Hs=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.HashContainerIterator=y.HashContainer=void 0;var c=ht(),l=u(Ks()),a=ft();function u(n){return n&&n.t?n:{default:n}}var r=class extends c.ContainerIterator{constructor(n,e,i){super(i),this.o=n,this.h=e,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.L,this})}};y.HashContainerIterator=r;var t=class extends c.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(n){let{L:e,B:i}=n;e.B=i,i.L=e,n===this.p&&(this.p=i),n===this._&&(this._=e),this.i-=1}M(n,e,i){i===void 0&&(i=(0,l.default)(n));let o;if(i){let f=n[this.HASH_TAG];if(f!==void 0)return this.H[f].l=e,this.i;Object.defineProperty(n,this.HASH_TAG,{value:this.H.length,configurable:!0}),o={u:n,l:e,L:this._,B:this.h},this.H.push(o)}else{let f=this.g[n];if(f)return f.l=e,this.i;o={u:n,l:e,L:this._,B:this.h},this.g[n]=o}return this.i===0?(this.p=o,this.h.B=o):this._.B=o,this._=o,this.h.L=o,++this.i}I(n,e){if(e===void 0&&(e=(0,l.default)(n)),e){let i=n[this.HASH_TAG];return i===void 0?this.h:this.H[i]}else return this.g[n]||this.h}clear(){let n=this.HASH_TAG;this.H.forEach(function(e){delete e.u[n]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(n,e){let i;if(e===void 0&&(e=(0,l.default)(n)),e){let o=n[this.HASH_TAG];if(o===void 0)return!1;delete n[this.HASH_TAG],i=this.H[o],delete this.H[o]}else{if(i=this.g[n],i===void 0)return!1;delete this.g[n]}return this.V(i),!0}eraseElementByIterator(n){let e=n.o;return e===this.h&&(0,a.throwIteratorAccessError)(),this.V(e),n.next()}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let e=this.p;for(;n--;)e=e.B;return this.V(e),this.i}};y.HashContainer=t}),Il=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.default=void 0;var c=Hs(),l=ft(),a=class Gs extends c.HashContainerIterator{constructor(n,e,i,o){super(n,e,o),this.container=i}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.u}copy(){return new Gs(this.o,this.h,this.container,this.iteratorType)}},u=class extends c.HashContainer{constructor(t=[]){super();let n=this;t.forEach(function(e){n.insert(e)})}begin(){return new a(this.p,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this._,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(t,n){return this.M(t,void 0,n)}getElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let n=this.p;for(;t--;)n=n.B;return n.u}find(t,n){let e=this.I(t,n);return new a(e,this.h,this)}forEach(t){let n=0,e=this.p;for(;e!==this.h;)t(e.u,n++,this),e=e.B}[Symbol.iterator](){return function*(){let t=this.p;for(;t!==this.h;)yield t.u,t=t.B}.bind(this)()}},r=u;y.default=r}),xl=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),y.default=void 0;var c=Hs(),l=u(Ks()),a=ft();function u(e){return e&&e.t?e:{default:e}}var r=class Qs extends c.HashContainerIterator{constructor(i,o,f,d){super(i,o,d),this.container=f}get pointer(){this.o===this.h&&(0,a.throwIteratorAccessError)();let i=this;return new Proxy([],{get(o,f){if(f==="0")return i.o.u;if(f==="1")return i.o.l},set(o,f,d){if(f!=="1")throw new TypeError("props must be 1");return i.o.l=d,!0}})}copy(){return new Qs(this.o,this.h,this.container,this.iteratorType)}},t=class extends c.HashContainer{constructor(e=[]){super();let i=this;e.forEach(function(o){i.setElement(o[0],o[1])})}begin(){return new r(this.p,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this._,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(e,i,o){return this.M(e,i,o)}getElementByKey(e,i){if(i===void 0&&(i=(0,l.default)(e)),i){let f=e[this.HASH_TAG];return f!==void 0?this.H[f].l:void 0}let o=this.g[e];return o?o.l:void 0}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let i=this.p;for(;e--;)i=i.B;return[i.u,i.l]}find(e,i){let o=this.I(e,i);return new r(o,this.h,this)}forEach(e){let i=0,o=this.p;for(;o!==this.h;)e([o.u,o.l],i++,this),o=o.B}[Symbol.iterator](){return function*(){let e=this.p;for(;e!==this.h;)yield[e.u,e.l],e=e.B}.bind(this)()}},n=t;y.default=n}),Tl=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"t",{value:!0}),Object.defineProperty(y,"Deque",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(y,"HashMap",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(y,"HashSet",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(y,"LinkList",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(y,"OrderedMap",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(y,"OrderedSet",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(y,"PriorityQueue",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(y,"Queue",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(y,"Stack",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(y,"Vector",{enumerable:!0,get:function(){return u.default}});var c=f(yl()),l=f(bl()),a=f(ml()),u=f(vl()),r=f(wl()),t=f(_l()),n=f(El()),e=f(Al()),i=f(Il()),o=f(xl());function f(d){return d&&d.t?d:{default:d}}}),Ol=pe((y,c)=>{"use strict";le(),ce(),ue();var l=Tl().OrderedSet,a=ut()("number-allocator:trace"),u=ut()("number-allocator:error");function r(n,e){this.low=n,this.high=e}r.prototype.equals=function(n){return this.low===n.low&&this.high===n.high},r.prototype.compare=function(n){return this.low<n.low&&this.high<n.low?-1:n.low<this.low&&n.high<this.low?1:0};function t(n,e){if(!(this instanceof t))return new t(n,e);this.min=n,this.max=e,this.ss=new l([],(i,o)=>i.compare(o)),a("Create"),this.clear()}t.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},t.prototype.alloc=function(){if(this.ss.size()===0)return a("alloc():empty"),null;let n=this.ss.begin(),e=n.pointer.low,i=n.pointer.high,o=e;return o+1<=i?this.ss.updateKeyByIterator(n,new r(e+1,i)):this.ss.eraseElementByPos(0),a("alloc():"+o),o},t.prototype.use=function(n){let e=new r(n,n),i=this.ss.lowerBound(e);if(!i.equals(this.ss.end())){let o=i.pointer.low,f=i.pointer.high;return i.pointer.equals(e)?(this.ss.eraseElementByIterator(i),a("use():"+n),!0):o>n?!1:o===n?(this.ss.updateKeyByIterator(i,new r(o+1,f)),a("use():"+n),!0):f===n?(this.ss.updateKeyByIterator(i,new r(o,f-1)),a("use():"+n),!0):(this.ss.updateKeyByIterator(i,new r(n+1,f)),this.ss.insert(new r(o,n-1)),a("use():"+n),!0)}return a("use():failed"),!1},t.prototype.free=function(n){if(n<this.min||n>this.max){u("free():"+n+" is out of range");return}let e=new r(n,n),i=this.ss.upperBound(e);if(i.equals(this.ss.end())){if(i.equals(this.ss.begin())){this.ss.insert(e);return}i.pre();let o=i.pointer.high;i.pointer.high+1===n?this.ss.updateKeyByIterator(i,new r(o,n)):this.ss.insert(e)}else if(i.equals(this.ss.begin()))if(n+1===i.pointer.low){let o=i.pointer.high;this.ss.updateKeyByIterator(i,new r(n,o))}else this.ss.insert(e);else{let o=i.pointer.low,f=i.pointer.high;i.pre();let d=i.pointer.low;i.pointer.high+1===n?n+1===o?(this.ss.eraseElementByIterator(i),this.ss.updateKeyByIterator(i,new r(d,f))):this.ss.updateKeyByIterator(i,new r(d,n)):n+1===o?(this.ss.eraseElementByIterator(i.next()),this.ss.insert(new r(n,f))):this.ss.insert(e)}a("free():"+n)},t.prototype.clear=function(){a("clear()"),this.ss.clear(),this.ss.insert(new r(this.min,this.max))},t.prototype.intervalCount=function(){return this.ss.size()},t.prototype.dump=function(){console.log("length:"+this.ss.size());for(let n of this.ss)console.log(n)},c.exports=t}),Ys=pe((y,c)=>{le(),ce(),ue();var l=Ol();c.exports.NumberAllocator=l}),kl=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"__esModule",{value:!0});var c=gl(),l=Ys(),a=class{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(u){u>0&&(this.aliasToTopic=new c.LRUCache({max:u}),this.topicToAlias={},this.numberAllocator=new l.NumberAllocator(1,u),this.max=u,this.length=0)}put(u,r){if(r===0||r>this.max)return!1;let t=this.aliasToTopic.get(r);return t&&delete this.topicToAlias[t],this.aliasToTopic.set(r,u),this.topicToAlias[u]=r,this.numberAllocator.use(r),this.length=this.aliasToTopic.size,!0}getTopicByAlias(u){return this.aliasToTopic.get(u)}getAliasByTopic(u){let r=this.topicToAlias[u];return typeof r<"u"&&this.aliasToTopic.get(r),r}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};y.default=a}),Pl=pe(y=>{"use strict";le(),ce(),ue();var c=y&&y.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(y,"__esModule",{value:!0});var l=Rr(),a=c(kl()),u=Bt(),r=(t,n)=>{t.log("_handleConnack");let{options:e}=t,i=e.protocolVersion===5?n.reasonCode:n.returnCode;if(clearTimeout(t.connackTimer),delete t.topicAliasSend,n.properties){if(n.properties.topicAliasMaximum){if(n.properties.topicAliasMaximum>65535){t.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}n.properties.topicAliasMaximum>0&&(t.topicAliasSend=new a.default(n.properties.topicAliasMaximum))}n.properties.serverKeepAlive&&e.keepalive&&(e.keepalive=n.properties.serverKeepAlive),n.properties.maximumPacketSize&&(e.properties||(e.properties={}),e.properties.maximumPacketSize=n.properties.maximumPacketSize)}if(i===0)t.reconnecting=!1,t._onConnect(n);else if(i>0){let o=new u.ErrorWithReasonCode(`Connection refused: ${l.ReasonCodes[i]}`,i);t.emit("error",o),t.options.reconnectOnConnackError&&t._cleanUp(!0)}};y.default=r}),Rl=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"__esModule",{value:!0});var c=(l,a,u)=>{l.log("handling pubrel packet");let r=typeof u<"u"?u:l.noop,{messageId:t}=a,n={cmd:"pubcomp",messageId:t};l.incomingStore.get(a,(e,i)=>{e?l._sendPacket(n,r):(l.emit("message",i.topic,i.payload,i),l.handleMessage(i,o=>{if(o)return r(o);l.incomingStore.del(i,l.noop),l._sendPacket(n,r)}))})};y.default=c}),Cl=pe(y=>{"use strict";le(),ce(),ue();var c=y&&y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(y,"__esModule",{value:!0});var l=c(fl()),a=c(dl()),u=c(Pl()),r=c(Rr()),t=c(Rl()),n=(e,i,o)=>{let{options:f}=e;if(f.protocolVersion===5&&f.properties&&f.properties.maximumPacketSize&&f.properties.maximumPacketSize<i.length)return e.emit("error",new Error(`exceeding packets size ${i.cmd}`)),e.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),e;switch(e.log("_handlePacket :: emitting packetreceive"),e.emit("packetreceive",i),i.cmd){case"publish":(0,l.default)(e,i,o);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":e.reschedulePing(),(0,r.default)(e,i),o();break;case"pubrel":e.reschedulePing(),(0,t.default)(e,i,o);break;case"connack":(0,u.default)(e,i),o();break;case"auth":e.reschedulePing(),(0,a.default)(e,i),o();break;case"pingresp":e.log("_handlePacket :: received pingresp"),e.reschedulePing(!0),o();break;case"disconnect":e.emit("disconnect",i),o();break;default:e.log("_handlePacket :: unknown command"),o();break}};y.default=n}),Js=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"__esModule",{value:!0});var c=class{nextId;constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let l=this.nextId++;return this.nextId===65536&&(this.nextId=1),l}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(l){return!0}deallocate(l){}clear(){}};y.default=c}),Ml=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"__esModule",{value:!0});var c=class{aliasToTopic;max;length;constructor(l){this.aliasToTopic={},this.max=l}put(l,a){return a===0||a>this.max?!1:(this.aliasToTopic[a]=l,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(l){return this.aliasToTopic[l]}clear(){this.aliasToTopic={}}};y.default=c}),jl=pe(y=>{"use strict";le(),ce(),ue();var c=y&&y.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(y,"__esModule",{value:!0}),y.TypedEventEmitter=void 0;var l=c((xt(),Re(mt))),a=Bt(),u=class{};y.TypedEventEmitter=u,(0,a.applyMixin)(u,l.default)}),Cr=pe((y,c)=>{le(),ce(),ue();function l(a){"@babel/helpers - typeof";return c.exports=l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},c.exports.__esModule=!0,c.exports.default=c.exports,l(a)}c.exports=l,c.exports.__esModule=!0,c.exports.default=c.exports}),Nl=pe((y,c)=>{le(),ce(),ue();var l=Cr().default;function a(u,r){if(l(u)!="object"||!u)return u;var t=u[Symbol.toPrimitive];if(t!==void 0){var n=t.call(u,r||"default");if(l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(u)}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports}),Bl=pe((y,c)=>{le(),ce(),ue();var l=Cr().default,a=Nl();function u(r){var t=a(r,"string");return l(t)=="symbol"?t:t+""}c.exports=u,c.exports.__esModule=!0,c.exports.default=c.exports}),Ul=pe((y,c)=>{le(),ce(),ue();var l=Bl();function a(u,r,t){return(r=l(r))in u?Object.defineProperty(u,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):u[r]=t,u}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports}),Ll=pe((y,c)=>{le(),ce(),ue();function l(a){if(Array.isArray(a))return a}c.exports=l,c.exports.__esModule=!0,c.exports.default=c.exports}),Dl=pe((y,c)=>{le(),ce(),ue();function l(a,u){var r=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(r!=null){var t,n,e,i,o=[],f=!0,d=!1;try{if(e=(r=r.call(a)).next,u===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(t=e.call(r)).done)&&(o.push(t.value),o.length!==u);f=!0);}catch(b){d=!0,n=b}finally{try{if(!f&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw n}}return o}}c.exports=l,c.exports.__esModule=!0,c.exports.default=c.exports}),Fl=pe((y,c)=>{le(),ce(),ue();function l(a,u){(u==null||u>a.length)&&(u=a.length);for(var r=0,t=Array(u);r<u;r++)t[r]=a[r];return t}c.exports=l,c.exports.__esModule=!0,c.exports.default=c.exports}),Wl=pe((y,c)=>{le(),ce(),ue();var l=Fl();function a(u,r){if(u){if(typeof u=="string")return l(u,r);var t={}.toString.call(u).slice(8,-1);return t==="Object"&&u.constructor&&(t=u.constructor.name),t==="Map"||t==="Set"?Array.from(u):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(u,r):void 0}}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports}),ql=pe((y,c)=>{le(),ce(),ue();function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}c.exports=l,c.exports.__esModule=!0,c.exports.default=c.exports}),$l=pe((y,c)=>{le(),ce(),ue();var l=Ll(),a=Dl(),u=Wl(),r=ql();function t(n,e){return l(n)||a(n,e)||u(n,e)||r()}c.exports=t,c.exports.__esModule=!0,c.exports.default=c.exports}),Xs=pe((y,c)=>{le(),ce(),ue(),(function(l,a){typeof y=="object"&&typeof c<"u"?a(y):typeof define=="function"&&define.amd?define(["exports"],a):(l=typeof globalThis<"u"?globalThis:l||self,a(l.fastUniqueNumbers={}))})(y,function(l){"use strict";var a=function(b){return function(v){var p=b(v);return v.add(p),p}},u=function(b){return function(v,p){return b.set(v,p),p}},r=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,t=536870912,n=t*2,e=function(b,v){return function(p){var g=v.get(p),_=g===void 0?p.size:g<n?g+1:0;if(!p.has(_))return b(p,_);if(p.size<t){for(;p.has(_);)_=Math.floor(Math.random()*n);return b(p,_)}if(p.size>r)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;p.has(_);)_=Math.floor(Math.random()*r);return b(p,_)}},i=new WeakMap,o=u(i),f=e(o,i),d=a(f);l.addUniqueNumber=d,l.generateUniqueNumber=f})}),zl=pe((y,c)=>{le(),ce(),ue();function l(u,r,t,n,e,i,o){try{var f=u[i](o),d=f.value}catch(b){return void t(b)}f.done?r(d):Promise.resolve(d).then(n,e)}function a(u){return function(){var r=this,t=arguments;return new Promise(function(n,e){var i=u.apply(r,t);function o(d){l(i,n,e,o,f,"next",d)}function f(d){l(i,n,e,o,f,"throw",d)}o(void 0)})}}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports}),Zs=pe((y,c)=>{le(),ce(),ue();function l(a,u){this.v=a,this.k=u}c.exports=l,c.exports.__esModule=!0,c.exports.default=c.exports}),ea=pe((y,c)=>{le(),ce(),ue();function l(a,u,r,t){var n=Object.defineProperty;try{n({},"",{})}catch{n=0}c.exports=l=function(e,i,o,f){function d(b,v){l(e,b,function(p){return this._invoke(b,v,p)})}i?n?n(e,i,{value:o,enumerable:!f,configurable:!f,writable:!f}):e[i]=o:(d("next",0),d("throw",1),d("return",2))},c.exports.__esModule=!0,c.exports.default=c.exports,l(a,u,r,t)}c.exports=l,c.exports.__esModule=!0,c.exports.default=c.exports}),ta=pe((y,c)=>{le(),ce(),ue();var l=ea();function a(){var u,r,t=typeof Symbol=="function"?Symbol:{},n=t.iterator||"@@iterator",e=t.toStringTag||"@@toStringTag";function i(_,h,w,E){var m=h&&h.prototype instanceof f?h:f,A=Object.create(m.prototype);return l(A,"_invoke",(function(I,T,R){var C,U,O,L=0,$=R||[],B=!1,oe={p:0,n:0,v:u,a:X,f:X.bind(u,4),d:function(z,ne){return C=z,U=0,O=u,oe.n=ne,o}};function X(z,ne){for(U=z,O=ne,r=0;!B&&L&&!D&&r<$.length;r++){var D,Z=$[r],P=oe.p,Y=Z[2];z>3?(D=Y===ne)&&(O=Z[(U=Z[4])?5:(U=3,3)],Z[4]=Z[5]=u):Z[0]<=P&&((D=z<2&&P<Z[1])?(U=0,oe.v=ne,oe.n=Z[1]):P<Y&&(D=z<3||Z[0]>ne||ne>Y)&&(Z[4]=z,Z[5]=ne,oe.n=Y,U=0))}if(D||z>1)return o;throw B=!0,ne}return function(z,ne,D){if(L>1)throw TypeError("Generator is already running");for(B&&ne===1&&X(ne,D),U=ne,O=D;(r=U<2?u:O)||!B;){C||(U?U<3?(U>1&&(oe.n=-1),X(U,O)):oe.n=O:oe.v=O);try{if(L=2,C){if(U||(z="next"),r=C[z]){if(!(r=r.call(C,O)))throw TypeError("iterator result is not an object");if(!r.done)return r;O=r.value,U<2&&(U=0)}else U===1&&(r=C.return)&&r.call(C),U<2&&(O=TypeError("The iterator does not provide a '"+z+"' method"),U=1);C=u}else if((r=(B=oe.n<0)?O:I.call(T,oe))!==o)break}catch(Z){C=u,U=1,O=Z}finally{L=1}}return{value:r,done:B}}})(_,w,E),!0),A}var o={};function f(){}function d(){}function b(){}r=Object.getPrototypeOf;var v=[][n]?r(r([][n]())):(l(r={},n,function(){return this}),r),p=b.prototype=f.prototype=Object.create(v);function g(_){return Object.setPrototypeOf?Object.setPrototypeOf(_,b):(_.__proto__=b,l(_,e,"GeneratorFunction")),_.prototype=Object.create(p),_}return d.prototype=b,l(p,"constructor",b),l(b,"constructor",d),d.displayName="GeneratorFunction",l(b,e,"GeneratorFunction"),l(p),l(p,e,"Generator"),l(p,n,function(){return this}),l(p,"toString",function(){return"[object Generator]"}),(c.exports=a=function(){return{w:i,m:g}},c.exports.__esModule=!0,c.exports.default=c.exports)()}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports}),ra=pe((y,c)=>{le(),ce(),ue();var l=Zs(),a=ea();function u(r,t){function n(i,o,f,d){try{var b=r[i](o),v=b.value;return v instanceof l?t.resolve(v.v).then(function(p){n("next",p,f,d)},function(p){n("throw",p,f,d)}):t.resolve(v).then(function(p){b.value=p,f(b)},function(p){return n("throw",p,f,d)})}catch(p){d(p)}}var e;this.next||(a(u.prototype),a(u.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),a(this,"_invoke",function(i,o,f){function d(){return new t(function(b,v){n(i,f,b,v)})}return e=e?e.then(d,d):d()},!0)}c.exports=u,c.exports.__esModule=!0,c.exports.default=c.exports}),na=pe((y,c)=>{le(),ce(),ue();var l=ta(),a=ra();function u(r,t,n,e,i){return new a(l().w(r,t,n,e),i||Promise)}c.exports=u,c.exports.__esModule=!0,c.exports.default=c.exports}),Vl=pe((y,c)=>{le(),ce(),ue();var l=na();function a(u,r,t,n,e){var i=l(u,r,t,n,e);return i.next().then(function(o){return o.done?o.value:i.next()})}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports}),Kl=pe((y,c)=>{le(),ce(),ue();function l(a){var u=Object(a),r=[];for(var t in u)r.unshift(t);return function n(){for(;r.length;)if((t=r.pop())in u)return n.value=t,n.done=!1,n;return n.done=!0,n}}c.exports=l,c.exports.__esModule=!0,c.exports.default=c.exports}),Hl=pe((y,c)=>{le(),ce(),ue();var l=Cr().default;function a(u){if(u!=null){var r=u[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],t=0;if(r)return r.call(u);if(typeof u.next=="function")return u;if(!isNaN(u.length))return{next:function(){return u&&t>=u.length&&(u=void 0),{value:u&&u[t++],done:!u}}}}throw new TypeError(l(u)+" is not iterable")}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports}),Gl=pe((y,c)=>{le(),ce(),ue();var l=Zs(),a=ta(),u=Vl(),r=na(),t=ra(),n=Kl(),e=Hl();function i(){"use strict";var o=a(),f=o.m(i),d=(Object.getPrototypeOf?Object.getPrototypeOf(f):f.__proto__).constructor;function b(g){var _=typeof g=="function"&&g.constructor;return!!_&&(_===d||(_.displayName||_.name)==="GeneratorFunction")}var v={throw:1,return:2,break:3,continue:3};function p(g){var _,h;return function(w){_||(_={stop:function(){return h(w.a,2)},catch:function(){return w.v},abrupt:function(E,m){return h(w.a,v[E],m)},delegateYield:function(E,m,A){return _.resultName=m,h(w.d,e(E),A)},finish:function(E){return h(w.f,E)}},h=function(E,m,A){w.p=_.prev,w.n=_.next;try{return E(m,A)}finally{_.next=w.n}}),_.resultName&&(_[_.resultName]=w.v,_.resultName=void 0),_.sent=w.v,_.next=w.n;try{return g.call(this,_)}finally{w.p=_.prev,w.n=_.next}}}return(c.exports=i=function(){return{wrap:function(g,_,h,w){return o.w(p(g),_,h,w&&w.reverse())},isGeneratorFunction:b,mark:o.m,awrap:function(g,_){return new l(g,_)},AsyncIterator:t,async:function(g,_,h,w,E){return(b(_)?r:u)(p(g),_,h,w,E)},keys:n,values:e}},c.exports.__esModule=!0,c.exports.default=c.exports)()}c.exports=i,c.exports.__esModule=!0,c.exports.default=c.exports}),Ql=pe((y,c)=>{le(),ce(),ue();var l=Gl()();c.exports=l;try{regeneratorRuntime=l}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=l:Function("r","regeneratorRuntime = r")(l)}}),Yl=pe((y,c)=>{le(),ce(),ue(),(function(l,a){typeof y=="object"&&typeof c<"u"?a(y,Ul(),$l(),Xs(),zl(),Ql()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],a):(l=typeof globalThis<"u"?globalThis:l||self,a(l.brokerFactory={},l._defineProperty,l._slicedToArray,l.fastUniqueNumbers,l._asyncToGenerator,l._regeneratorRuntime))})(y,function(l,a,u,r,t,n){"use strict";var e=function(h){return typeof h.start=="function"},i=new WeakMap;function o(h,w){var E=Object.keys(h);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(h);w&&(m=m.filter(function(A){return Object.getOwnPropertyDescriptor(h,A).enumerable})),E.push.apply(E,m)}return E}function f(h){for(var w=1;w<arguments.length;w++){var E=arguments[w]!=null?arguments[w]:{};w%2?o(Object(E),!0).forEach(function(m){a(h,m,E[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(E)):o(Object(E)).forEach(function(m){Object.defineProperty(h,m,Object.getOwnPropertyDescriptor(E,m))})}return h}var d=function(h){return f(f({},h),{},{connect:function(w){var E=w.call;return t(n.mark(function m(){var A,I,T,R;return n.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return A=new MessageChannel,I=A.port1,T=A.port2,C.next=1,E("connect",{port:I},[I]);case 1:return R=C.sent,i.set(T,R),C.abrupt("return",T);case 2:case"end":return C.stop()}},m)}))},disconnect:function(w){var E=w.call;return(function(){var m=t(n.mark(function A(I){var T;return n.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(T=i.get(I),T!==void 0){R.next=1;break}throw new Error("The given port is not connected.");case 1:return R.next=2,E("disconnect",{portId:T});case 2:case"end":return R.stop()}},A)}));return function(A){return m.apply(this,arguments)}})()},isSupported:function(w){var E=w.call;return function(){return E("isSupported")}}})};function b(h,w){var E=Object.keys(h);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(h);w&&(m=m.filter(function(A){return Object.getOwnPropertyDescriptor(h,A).enumerable})),E.push.apply(E,m)}return E}function v(h){for(var w=1;w<arguments.length;w++){var E=arguments[w]!=null?arguments[w]:{};w%2?b(Object(E),!0).forEach(function(m){a(h,m,E[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(E)):b(Object(E)).forEach(function(m){Object.defineProperty(h,m,Object.getOwnPropertyDescriptor(E,m))})}return h}var p=new WeakMap,g=function(h){if(p.has(h))return p.get(h);var w=new Map;return p.set(h,w),w},_=function(h){var w=d(h);return function(E){var m=g(E);E.addEventListener("message",function($){var B=$.data,oe=B.id;if(oe!==null&&m.has(oe)){var X=m.get(oe),z=X.reject,ne=X.resolve;m.delete(oe),B.error===void 0?ne(B.result):z(new Error(B.error.message))}}),e(E)&&E.start();for(var A=function($){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(X,z){var ne=r.generateUniqueNumber(m);m.set(ne,{reject:z,resolve:X}),B===null?E.postMessage({id:ne,method:$},oe):E.postMessage({id:ne,method:$,params:B},oe)})},I=function($,B){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];E.postMessage({id:null,method:$,params:B},oe)},T={},R=0,C=Object.entries(w);R<C.length;R++){var U=u(C[R],2),O=U[0],L=U[1];T=v(v({},T),{},a({},O,L({call:A,notify:I})))}return v({},T)}};l.createBroker=_})}),Jl=pe((y,c)=>{le(),ce(),ue(),(function(l,a){typeof y=="object"&&typeof c<"u"?a(y,Cr(),Yl(),Xs()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],a):(l=typeof globalThis<"u"?globalThis:l||self,a(l.workerTimersBroker={},l._typeof,l.brokerFactory,l.fastUniqueNumbers))})(y,function(l,a,u,r){"use strict";var t=new Map([[0,null]]),n=new Map([[0,null]]),e=u.createBroker({clearInterval:function(o){var f=o.call;return function(d){a(t.get(d))==="symbol"&&(t.set(d,null),f("clear",{timerId:d,timerType:"interval"}).then(function(){t.delete(d)}))}},clearTimeout:function(o){var f=o.call;return function(d){a(n.get(d))==="symbol"&&(n.set(d,null),f("clear",{timerId:d,timerType:"timeout"}).then(function(){n.delete(d)}))}},setInterval:function(o){var f=o.call;return function(d){for(var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=arguments.length,p=new Array(v>2?v-2:0),g=2;g<v;g++)p[g-2]=arguments[g];var _=Symbol(),h=r.generateUniqueNumber(t);t.set(h,_);var w=function(){return f("set",{delay:b,now:performance.timeOrigin+performance.now(),timerId:h,timerType:"interval"}).then(function(){var E=t.get(h);if(E===void 0)throw new Error("The timer is in an undefined state.");E===_&&(d.apply(void 0,p),t.get(h)===_&&w())})};return w(),h}},setTimeout:function(o){var f=o.call;return function(d){for(var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=arguments.length,p=new Array(v>2?v-2:0),g=2;g<v;g++)p[g-2]=arguments[g];var _=Symbol(),h=r.generateUniqueNumber(n);return n.set(h,_),f("set",{delay:b,now:performance.timeOrigin+performance.now(),timerId:h,timerType:"timeout"}).then(function(){var w=n.get(h);if(w===void 0)throw new Error("The timer is in an undefined state.");w===_&&(n.delete(h),d.apply(void 0,p))}),h}}}),i=function(o){var f=new Worker(o);return e(f)};l.load=i,l.wrap=e})}),Xl=pe((y,c)=>{le(),ce(),ue(),(function(l,a){typeof y=="object"&&typeof c<"u"?a(y,Jl()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],a):(l=typeof globalThis<"u"?globalThis:l||self,a(l.workerTimers={},l.workerTimersBroker))})(y,function(l,a){"use strict";var u=function(f,d){var b=null;return function(){if(b!==null)return b;var v=new Blob([d],{type:"application/javascript; charset=utf-8"}),p=URL.createObjectURL(v);return b=f(p),setTimeout(function(){return URL.revokeObjectURL(p)}),b}},r=`(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a('The requested method called "'.concat(e,'" is not supported.'),u.METHOD_NOT_FOUND)},s=function(e){return a('The handler of the method called "'.concat(e,'" returned no required result.'),u.INTERNAL_ERROR)},c=function(e){return a('The handler of the method called "'.concat(e,'" returned an unexpected result.'),u.INTERNAL_ERROR)},f=function(e){return a('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,t=u(a.load,r),n=function(f){return t().clearInterval(f)},e=function(f){return t().clearTimeout(f)},i=function(){var f;return(f=t()).setInterval.apply(f,arguments)},o=function(){var f;return(f=t()).setTimeout.apply(f,arguments)};l.clearInterval=n,l.clearTimeout=e,l.setInterval=i,l.setTimeout=o})}),Mr=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"__esModule",{value:!0}),y.isReactNativeBrowser=y.isWebWorker=void 0;var c=()=>typeof window<"u"?typeof navigator<"u"&&navigator.userAgent?.toLowerCase().indexOf(" electron/")>-1&&Ce?.versions?!Object.prototype.hasOwnProperty.call(Ce.versions,"electron"):typeof window.document<"u":!1,l=()=>!!(typeof self=="object"&&self?.constructor?.name?.includes("WorkerGlobalScope")&&typeof Deno>"u"),a=()=>typeof navigator<"u"&&navigator.product==="ReactNative",u=c()||l()||a();y.isWebWorker=l(),y.isReactNativeBrowser=a(),y.default=u}),Zl=pe(y=>{"use strict";le(),ce(),ue();var c=y&&y.__createBinding||(Object.create?function(i,o,f,d){d===void 0&&(d=f);var b=Object.getOwnPropertyDescriptor(o,f);(!b||("get"in b?!o.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return o[f]}}),Object.defineProperty(i,d,b)}:function(i,o,f,d){d===void 0&&(d=f),i[d]=o[f]}),l=y&&y.__setModuleDefault||(Object.create?function(i,o){Object.defineProperty(i,"default",{enumerable:!0,value:o})}:function(i,o){i.default=o}),a=y&&y.__importStar||(function(){var i=function(o){return i=Object.getOwnPropertyNames||function(f){var d=[];for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&(d[d.length]=b);return d},i(o)};return function(o){if(o&&o.__esModule)return o;var f={};if(o!=null)for(var d=i(o),b=0;b<d.length;b++)d[b]!=="default"&&c(f,o,d[b]);return l(f,o),f}})();Object.defineProperty(y,"__esModule",{value:!0});var u=Xl(),r=a(Mr()),t={set:u.setInterval,clear:u.clearInterval},n={set:(i,o)=>setInterval(i,o),clear:i=>clearInterval(i)},e=i=>{switch(i){case"native":return n;case"worker":return t;case"auto":default:return r.default&&!r.isWebWorker&&!r.isReactNativeBrowser?t:n}};y.default=e}),ia=pe(y=>{"use strict";le(),ce(),ue();var c=y&&y.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(y,"__esModule",{value:!0});var l=c(Zl()),a=class{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(u,r){this.client=u,this.timer=typeof r=="object"&&"set"in r&&"clear"in r?r:(0,l.default)(r),this.setKeepalive(u.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(u){if(u*=1e3,isNaN(u)||u<=0||u>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${u}`);this._keepalive=u,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${u}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let u=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+u,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};y.default=a}),Gn=pe(y=>{"use strict";le(),ce(),ue();var c=y&&y.__createBinding||(Object.create?function(m,A,I,T){T===void 0&&(T=I);var R=Object.getOwnPropertyDescriptor(A,I);(!R||("get"in R?!A.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return A[I]}}),Object.defineProperty(m,T,R)}:function(m,A,I,T){T===void 0&&(T=I),m[T]=A[I]}),l=y&&y.__setModuleDefault||(Object.create?function(m,A){Object.defineProperty(m,"default",{enumerable:!0,value:A})}:function(m,A){m.default=A}),a=y&&y.__importStar||(function(){var m=function(A){return m=Object.getOwnPropertyNames||function(I){var T=[];for(var R in I)Object.prototype.hasOwnProperty.call(I,R)&&(T[T.length]=R);return T},m(A)};return function(A){if(A&&A.__esModule)return A;var I={};if(A!=null)for(var T=m(A),R=0;R<T.length;R++)T[R]!=="default"&&c(I,A,T[R]);return l(I,A),I}})(),u=y&&y.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(y,"__esModule",{value:!0});var r=u(ll()),t=Ot(),n=u(cl()),e=u(ut()),i=a(hl()),o=u(js()),f=u(Cl()),d=u(Js()),b=u(Ml()),v=Bt(),p=jl(),g=u(ia()),_=a(Mr()),h=globalThis.setImmediate||((...m)=>{let A=m.shift();(0,v.nextTick)(()=>{A(...m)})}),w={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},E=class Qn extends p.TypedEventEmitter{static VERSION=v.MQTTJS_VERSION;connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(A,I){super(),this.options=I||{};for(let T in w)typeof this.options[T]>"u"?this.options[T]=w[T]:this.options[T]=I[T];this.log=this.options.log||(0,e.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Qn.VERSION),_.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",_.default?"browser":"node"),this.log("MqttClient :: options.protocol",I.protocol),this.log("MqttClient :: options.protocolVersion",I.protocolVersion),this.log("MqttClient :: options.username",I.username),this.log("MqttClient :: options.keepalive",I.keepalive),this.log("MqttClient :: options.reconnectPeriod",I.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",I.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",I.properties?I.properties.topicAliasMaximum:void 0),this.options.clientId=typeof I.clientId=="string"?I.clientId:Qn.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=I.protocolVersion===5&&I.customHandleAcks?I.customHandleAcks:(...T)=>{T[3](null,0)},this.options.writeCache||(r.default.writeToStream.cacheNumbers=!1),this.streamBuilder=A,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new d.default:this.options.messageIdProvider,this.outgoingStore=I.outgoingStore||new o.default,this.incomingStore=I.incomingStore||new o.default,this.queueQoSZero=I.queueQoSZero===void 0?!0:I.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,I.properties&&I.properties.topicAliasMaximum>0&&(I.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new b.default(I.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:T}=this,R=()=>{let C=T.shift();this.log("deliver :: entry %o",C);let U=null;if(!C){this._resubscribe();return}U=C.packet,this.log("deliver :: call _sendPacket for %o",U);let O=!0;U.messageId&&U.messageId!==0&&(this.messageIdProvider.register(U.messageId)||(O=!1)),O?this._sendPacket(U,L=>{C.cb&&C.cb(L),R()}):(this.log("messageId: %d has already used. The message is skipped and removed.",U.messageId),R())};this.log("connect :: sending queued packets"),R()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(A,I){I()}handleMessage(A,I){I()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let A=new t.Writable,I=r.default.parser(this.options),T=null,R=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new o.default,this.outgoingStore=this.options.outgoingStore||new o.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),I.on("packet",$=>{this.log("parser :: on packet push to packets array."),R.push($)});let C=()=>{this.log("work :: getting next packet in queue");let $=R.shift();if($)this.log("work :: packet pulled from queue"),(0,f.default)(this,$,U);else{this.log("work :: no packets in queue");let B=T;T=null,this.log("work :: done flag is %s",!!B),B&&B()}},U=()=>{if(R.length)(0,v.nextTick)(C);else{let $=T;T=null,$()}};A._write=($,B,oe)=>{T=oe,this.log("writable stream :: parsing buffer"),I.parse($),C()};let O=$=>{this.log("streamErrorHandler :: error",$.message),$.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",$)):this.noop($)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(A),this.stream.on("error",O),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let L={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(L.will=Ge(Pe({},this.options.will),{payload:this.options.will?.payload})),this.topicAliasRecv&&(L.properties||(L.properties={}),this.topicAliasRecv&&(L.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(L),I.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let $=Pe({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket($)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(A,I,T,R){this.log("publish :: message `%s` to topic `%s`",I,A);let{options:C}=this;typeof T=="function"&&(R=T,T=null),T=T||{},T=Pe({qos:0,retain:!1,dup:!1},T);let{qos:U,retain:O,dup:L,properties:$,cbStorePut:B}=T;if(this._checkDisconnecting(R))return this;let oe=()=>{let X=0;if((U===1||U===2)&&(X=this._nextId(),X===null))return this.log("No messageId left"),!1;let z={cmd:"publish",topic:A,payload:I,qos:U,retain:O,messageId:X,dup:L};switch(C.protocolVersion===5&&(z.properties=$),this.log("publish :: qos",U),U){case 1:case 2:this.outgoing[z.messageId]={volatile:!1,cb:R||this.noop},this.log("MqttClient:publish: packet cmd: %s",z.cmd),this._sendPacket(z,void 0,B);break;default:this.log("MqttClient:publish: packet cmd: %s",z.cmd),this._sendPacket(z,R,B);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!oe())&&this._storeProcessingQueue.push({invoke:oe,cbStorePut:T.cbStorePut,callback:R}),this}publishAsync(A,I,T){return new Promise((R,C)=>{this.publish(A,I,T,(U,O)=>{U?C(U):R(O)})})}subscribe(A,I,T){let R=this.options.protocolVersion;typeof I=="function"&&(T=I),T=T||this.noop;let C=!1,U=[];typeof A=="string"?(A=[A],U=A):Array.isArray(A)?U=A:typeof A=="object"&&(C=A.resubscribe,delete A.resubscribe,U=Object.keys(A));let O=i.validateTopics(U);if(O!==null)return h(T,new Error(`Invalid topic ${O}`)),this;if(this._checkDisconnecting(T))return this.log("subscribe: discconecting true"),this;let L={qos:0};R===5&&(L.nl=!1,L.rap=!1,L.rh=0),I=Pe(Pe({},L),I);let{properties:$}=I,B=[],oe=(ne,D)=>{if(D=D||I,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,ne)||this._resubscribeTopics[ne].qos<D.qos||C){let Z={topic:ne,qos:D.qos};R===5&&(Z.nl=D.nl,Z.rap=D.rap,Z.rh=D.rh,Z.properties=$),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",Z.topic,Z.qos),B.push(Z)}};if(Array.isArray(A)?A.forEach(ne=>{this.log("subscribe: array topic %s",ne),oe(ne)}):Object.keys(A).forEach(ne=>{this.log("subscribe: object topic %s, %o",ne,A[ne]),oe(ne,A[ne])}),!B.length)return T(null,[]),this;let X=(ne,D)=>{let Z={cmd:"subscribe",subscriptions:ne,messageId:D};if($&&(Z.properties=$),this.options.resubscribe){this.log("subscribe :: resubscribe true");let Y=[];ne.forEach(be=>{if(this.options.reconnectPeriod>0){let te={qos:be.qos};R===5&&(te.nl=be.nl||!1,te.rap=be.rap||!1,te.rh=be.rh||0,te.properties=be.properties),this._resubscribeTopics[be.topic]=te,Y.push(be.topic)}}),this.messageIdToTopic[Z.messageId]=Y}let P=new Promise((Y,be)=>{this.outgoing[Z.messageId]={volatile:!0,cb(te,we){if(!te){let{granted:K}=we;for(let N=0;N<K.length;N+=1)ne[N].qos=K[N]}te?be(new v.ErrorWithSubackPacket(te.message,we)):Y(we)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(Z),P},z=()=>{let ne=this.options.subscribeBatchSize??B.length,D=[];for(let Z=0;Z<B.length;Z+=ne){let P=B.slice(Z,Z+ne),Y=this._nextId();if(Y===null)return this.log("No messageId left"),!1;D.push(X(P,Y))}return Promise.all(D).then(Z=>{T(null,B,Z.at(-1))}).catch(Z=>{T(Z,B,Z.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!z())&&this._storeProcessingQueue.push({invoke:z,callback:T}),this}subscribeAsync(A,I){return new Promise((T,R)=>{this.subscribe(A,I,(C,U)=>{C?R(C):T(U)})})}unsubscribe(A,I,T){typeof A=="string"&&(A=[A]),typeof I=="function"&&(T=I),T=T||this.noop;let R=i.validateTopics(A);if(R!==null)return h(T,new Error(`Invalid topic ${R}`)),this;if(this._checkDisconnecting(T))return this;let C=()=>{let U=this._nextId();if(U===null)return this.log("No messageId left"),!1;let O={cmd:"unsubscribe",messageId:U,unsubscriptions:[]};return typeof A=="string"?O.unsubscriptions=[A]:Array.isArray(A)&&(O.unsubscriptions=A),this.options.resubscribe&&O.unsubscriptions.forEach(L=>{delete this._resubscribeTopics[L]}),typeof I=="object"&&I.properties&&(O.properties=I.properties),this.outgoing[O.messageId]={volatile:!0,cb:T},this.log("unsubscribe: call _sendPacket"),this._sendPacket(O),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!C())&&this._storeProcessingQueue.push({invoke:C,callback:T}),this}unsubscribeAsync(A,I){return new Promise((T,R)=>{this.unsubscribe(A,I,(C,U)=>{C?R(C):T(U)})})}end(A,I,T){this.log("end :: (%s)",this.options.clientId),(A==null||typeof A!="boolean")&&(T=T||I,I=A,A=!1),typeof I!="object"&&(T=T||I,I=null),this.log("end :: cb? %s",!!T),(!T||typeof T!="function")&&(T=this.noop);let R=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(U=>{this.outgoingStore.close(O=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),T){let L=U||O;this.log("end :: closeStores: invoking callback with args"),T(L)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},C=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,A),this._cleanUp(A,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,v.nextTick)(R)},I)};return this.disconnecting?(T(),this):(this._clearReconnect(),this.disconnecting=!0,!A&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,C,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),C()),this)}endAsync(A,I){return new Promise((T,R)=>{this.end(A,I,C=>{C?R(C):T()})})}removeOutgoingMessage(A){if(this.outgoing[A]){let{cb:I}=this.outgoing[A];this._removeOutgoingAndStoreMessage(A,()=>{I(new Error("Message removed"))})}return this}reconnect(A){this.log("client reconnect");let I=()=>{A?(this.options.incomingStore=A.incomingStore,this.options.outgoingStore=A.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new o.default,this.outgoingStore=this.options.outgoingStore||new o.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=I:I(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(A=>{this.outgoing[A].volatile&&typeof this.outgoing[A].cb=="function"&&(this.outgoing[A].cb(new Error("Connection closed")),delete this.outgoing[A])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(A=>{typeof this.outgoing[A].cb=="function"&&(this.outgoing[A].cb(new Error("Connection closed")),delete this.outgoing[A])}))}_removeTopicAliasAndRecoverTopicName(A){let I;A.properties&&(I=A.properties.topicAlias);let T=A.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",I,T),T.length===0){if(typeof I>"u")return new Error("Unregistered Topic Alias");if(T=this.topicAliasSend.getTopicByAlias(I),typeof T>"u")return new Error("Unregistered Topic Alias");A.topic=T}I&&delete A.properties.topicAlias}_checkDisconnecting(A){return this.disconnecting&&(A&&A!==this.noop?A(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(A,I,T={}){if(I&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",I)),this.log("_cleanUp :: forced? %s",A),A)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let R=Pe({cmd:"disconnect"},T);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(R,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),h(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),I&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",I),I())}_storeAndSend(A,I,T){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",A.cmd);let R=A,C;if(R.cmd==="publish"&&(R=(0,n.default)(A),C=this._removeTopicAliasAndRecoverTopicName(R),C))return I&&I(C);this.outgoingStore.put(R,U=>{if(U)return I&&I(U);T(),this._writePacket(A,I)})}_applyTopicAlias(A){if(this.options.protocolVersion===5&&A.cmd==="publish"){let I;A.properties&&(I=A.properties.topicAlias);let T=A.topic.toString();if(this.topicAliasSend)if(I){if(T.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",T,I),!this.topicAliasSend.put(T,I)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",T,I),new Error("Sending Topic Alias out of range")}else T.length!==0&&(this.options.autoAssignTopicAlias?(I=this.topicAliasSend.getAliasByTopic(T),I?(A.topic="",A.properties=Ge(Pe({},A.properties),{topicAlias:I}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",T,I)):(I=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(T,I),A.properties=Ge(Pe({},A.properties),{topicAlias:I}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",T,I))):this.options.autoUseTopicAlias&&(I=this.topicAliasSend.getAliasByTopic(T),I&&(A.topic="",A.properties=Ge(Pe({},A.properties),{topicAlias:I}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",T,I))));else if(I)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",T,I),new Error("Sending Topic Alias out of range")}}_noop(A){this.log("noop ::",A)}_writePacket(A,I){this.log("_writePacket :: packet: %O",A),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",A),this.log("_writePacket :: writing to stream");let T=r.default.writeToStream(A,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",T),!T&&I&&I!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",I)):I&&(this.log("_writePacket :: invoking cb"),I())}_sendPacket(A,I,T,R){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),T=T||this.noop,I=I||this.noop;let C=this._applyTopicAlias(A);if(C){I(C);return}if(!this.connected){if(A.cmd==="auth"){this._writePacket(A,I);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(A,I,T);return}if(R){this._writePacket(A,I);return}switch(A.cmd){case"publish":break;case"pubrel":this._storeAndSend(A,I,T);return;default:this._writePacket(A,I);return}switch(A.qos){case 2:case 1:this._storeAndSend(A,I,T);break;case 0:default:this._writePacket(A,I);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(A,I,T){this.log("_storePacket :: packet: %o",A),this.log("_storePacket :: cb? %s",!!I),T=T||this.noop;let R=A;if(R.cmd==="publish"){R=(0,n.default)(A);let U=this._removeTopicAliasAndRecoverTopicName(R);if(U)return I&&I(U)}let C=R.qos||0;C===0&&this.queueQoSZero||R.cmd!=="publish"?this.queue.push({packet:R,cb:I}):C>0?(I=this.outgoing[R.messageId]?this.outgoing[R.messageId].cb:null,this.outgoingStore.put(R,U=>{if(U)return I&&I(U);T()})):I&&I(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new g.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(A=!1){this.keepaliveManager&&this.options.keepalive&&(A||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let A=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&A.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let I=0;I<A.length;I++){let T={};T[A[I]]=this._resubscribeTopics[A[I]],T.resubscribe=!0,this.subscribe(T,{properties:T[A[I]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(A){if(this.disconnected){this.emit("connect",A);return}this.connackPacket=A,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let I=()=>{let T=this.outgoingStore.createStream(),R=()=>{T.destroy(),T=null,this._flushStoreProcessingQueue(),C()},C=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",R),T.on("error",O=>{C(),this._flushStoreProcessingQueue(),this.removeListener("close",R),this.emit("error",O)});let U=()=>{if(!T)return;let O=T.read(1),L;if(!O){T.once("readable",U);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[O.messageId]){U();return}!this.disconnecting&&!this.reconnectTimer?(L=this.outgoing[O.messageId]?this.outgoing[O.messageId].cb:null,this.outgoing[O.messageId]={volatile:!1,cb($,B){L&&L($,B),U()}},this._packetIdsDuringStoreProcessing[O.messageId]=!0,this.messageIdProvider.register(O.messageId)?this._sendPacket(O,void 0,void 0,!0):this.log("messageId: %d has already used.",O.messageId)):T.destroy&&T.destroy()};T.on("end",()=>{let O=!0;for(let L in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[L]){O=!1;break}this.removeListener("close",R),O?(C(),this._invokeAllStoreProcessingQueue(),this.emit("connect",A)):I()}),U()};I()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let A=this._storeProcessingQueue[0];if(A&&A.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let A of this._storeProcessingQueue)A.cbStorePut&&A.cbStorePut(new Error("Connection closed")),A.callback&&A.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(A,I){delete this.outgoing[A],this.outgoingStore.del({messageId:A},(T,R)=>{I(T,R),this.messageIdProvider.deallocate(A),this._invokeStoreProcessingQueue()})}};y.default=E}),eu=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"__esModule",{value:!0});var c=Ys(),l=class{numberAllocator;lastId;constructor(){this.numberAllocator=new c.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(a){return this.numberAllocator.use(a)}deallocate(a){this.numberAllocator.free(a)}clear(){this.numberAllocator.clear()}};y.default=l});function tu(){if(Yn)return nr;Yn=!0;let y=2147483647,c=36,l=1,a=26,u=38,r=700,t=72,n=128,e="-",i=/^xn--/,o=/[^\0-\x7F]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=c-l,v=Math.floor,p=String.fromCharCode;function g(C){throw new RangeError(d[C])}function _(C,U){let O=[],L=C.length;for(;L--;)O[L]=U(C[L]);return O}function h(C,U){let O=C.split("@"),L="";O.length>1&&(L=O[0]+"@",C=O[1]),C=C.replace(f,".");let $=C.split("."),B=_($,U).join(".");return L+B}function w(C){let U=[],O=0,L=C.length;for(;O<L;){let $=C.charCodeAt(O++);if($>=55296&&$<=56319&&O<L){let B=C.charCodeAt(O++);(B&64512)==56320?U.push((($&1023)<<10)+(B&1023)+65536):(U.push($),O--)}else U.push($)}return U}let E=C=>String.fromCodePoint(...C),m=function(C){return C>=48&&C<58?26+(C-48):C>=65&&C<91?C-65:C>=97&&C<123?C-97:c},A=function(C,U){return C+22+75*(C<26)-((U!=0)<<5)},I=function(C,U,O){let L=0;for(C=O?v(C/r):C>>1,C+=v(C/U);C>b*a>>1;L+=c)C=v(C/b);return v(L+(b+1)*C/(C+u))},T=function(C){let U=[],O=C.length,L=0,$=n,B=t,oe=C.lastIndexOf(e);oe<0&&(oe=0);for(let X=0;X<oe;++X)C.charCodeAt(X)>=128&&g("not-basic"),U.push(C.charCodeAt(X));for(let X=oe>0?oe+1:0;X<O;){let z=L;for(let D=1,Z=c;;Z+=c){X>=O&&g("invalid-input");let P=m(C.charCodeAt(X++));P>=c&&g("invalid-input"),P>v((y-L)/D)&&g("overflow"),L+=P*D;let Y=Z<=B?l:Z>=B+a?a:Z-B;if(P<Y)break;let be=c-Y;D>v(y/be)&&g("overflow"),D*=be}let ne=U.length+1;B=I(L-z,ne,z==0),v(L/ne)>y-$&&g("overflow"),$+=v(L/ne),L%=ne,U.splice(L++,0,$)}return String.fromCodePoint(...U)},R=function(C){let U=[];C=w(C);let O=C.length,L=n,$=0,B=t;for(let z of C)z<128&&U.push(p(z));let oe=U.length,X=oe;for(oe&&U.push(e);X<O;){let z=y;for(let D of C)D>=L&&D<z&&(z=D);let ne=X+1;z-L>v((y-$)/ne)&&g("overflow"),$+=(z-L)*ne,L=z;for(let D of C)if(D<L&&++$>y&&g("overflow"),D===L){let Z=$;for(let P=c;;P+=c){let Y=P<=B?l:P>=B+a?a:P-B;if(Z<Y)break;let be=Z-Y,te=c-Y;U.push(p(A(Y+be%te,0))),Z=v(be/te)}U.push(p(A(Z,0))),B=I($,ne,X===oe),$=0,++X}++$,++L}return U.join("")};return nr={version:"2.3.1",ucs2:{decode:w,encode:E},decode:T,encode:R,toASCII:function(C){return h(C,function(U){return o.test(U)?"xn--"+R(U):U})},toUnicode:function(C){return h(C,function(U){return i.test(U)?T(U.slice(4).toLowerCase()):U})}},nr}var nr,Yn,yt,ru,nu,iu,ou,su,au,lu=Ve(()=>{le(),ce(),ue(),nr={},Yn=!1,yt=tu(),ru=yt.decode,nu=yt.encode,iu=yt.toASCII,ou=yt.toUnicode,su=yt.ucs2,au=yt.version});function uu(){return Xn||(Xn=!0,Jn=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var y={},c=Symbol("test"),l=Object(c);if(typeof c=="string"||Object.prototype.toString.call(c)!=="[object Symbol]"||Object.prototype.toString.call(l)!=="[object Symbol]")return!1;var a=42;y[c]=a;for(c in y)return!1;if(typeof Object.keys=="function"&&Object.keys(y).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(y).length!==0)return!1;var u=Object.getOwnPropertySymbols(y);if(u.length!==1||u[0]!==c||!Object.prototype.propertyIsEnumerable.call(y,c))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var r=Object.getOwnPropertyDescriptor(y,c);if(r.value!==a||r.enumerable!==!0)return!1}return!0}),Jn}function cu(){return ei||(ei=!0,Zn=Error),Zn}function hu(){return ri||(ri=!0,ti=EvalError),ti}function fu(){return ii||(ii=!0,ni=RangeError),ni}function pu(){return si||(si=!0,oi=ReferenceError),oi}function oa(){return li||(li=!0,ai=SyntaxError),ai}function Yt(){return ci||(ci=!0,ui=TypeError),ui}function du(){return fi||(fi=!0,hi=URIError),hi}function gu(){if(pi)return ir;pi=!0;var y=typeof Symbol<"u"&&Symbol,c=uu();return ir=function(){return typeof y!="function"||typeof Symbol!="function"||typeof y("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:c()},ir}function yu(){if(di)return or;di=!0;var y={__proto__:null,foo:{}},c=Object;return or=function(){return{__proto__:y}.foo===y.foo&&!(y instanceof c)},or}function bu(){if(gi)return sr;gi=!0;var y="Function.prototype.bind called on incompatible ",c=Object.prototype.toString,l=Math.max,a="[object Function]",u=function(n,e){for(var i=[],o=0;o<n.length;o+=1)i[o]=n[o];for(var f=0;f<e.length;f+=1)i[f+n.length]=e[f];return i},r=function(n,e){for(var i=[],o=e,f=0;o<n.length;o+=1,f+=1)i[f]=n[o];return i},t=function(n,e){for(var i="",o=0;o<n.length;o+=1)i+=n[o],o+1<n.length&&(i+=e);return i};return sr=function(n){var e=this;if(typeof e!="function"||c.apply(e)!==a)throw new TypeError(y+e);for(var i=r(arguments,1),o,f=function(){if(this instanceof o){var g=e.apply(this,u(i,arguments));return Object(g)===g?g:this}return e.apply(n,u(i,arguments))},d=l(0,e.length-i.length),b=[],v=0;v<d;v++)b[v]="$"+v;if(o=Function("binder","return function ("+t(b,",")+"){ return binder.apply(this,arguments); }")(f),e.prototype){var p=function(){};p.prototype=e.prototype,o.prototype=new p,p.prototype=null}return o},sr}function $i(){if(yi)return ar;yi=!0;var y=bu();return ar=Function.prototype.bind||y,ar}function mu(){if(bi)return lr;bi=!0;var y=Function.prototype.call,c=Object.prototype.hasOwnProperty,l=$i();return lr=l.call(y,c),lr}function Ut(){if(mi)return ur;mi=!0;var y,c=cu(),l=hu(),a=fu(),u=pu(),r=oa(),t=Yt(),n=du(),e=Function,i=function(X){try{return e('"use strict"; return ('+X+").constructor;")()}catch{}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch{o=null}var f=function(){throw new t},d=o?(function(){try{return arguments.callee,f}catch{try{return o(arguments,"callee").get}catch{return f}}})():f,b=gu()(),v=yu()(),p=Object.getPrototypeOf||(v?function(X){return X.__proto__}:null),g={},_=typeof Uint8Array>"u"||!p?y:p(Uint8Array),h={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?y:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?y:ArrayBuffer,"%ArrayIteratorPrototype%":b&&p?p([][Symbol.iterator]()):y,"%AsyncFromSyncIteratorPrototype%":y,"%AsyncFunction%":g,"%AsyncGenerator%":g,"%AsyncGeneratorFunction%":g,"%AsyncIteratorPrototype%":g,"%Atomics%":typeof Atomics>"u"?y:Atomics,"%BigInt%":typeof BigInt>"u"?y:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?y:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?y:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?y:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":c,"%eval%":eval,"%EvalError%":l,"%Float32Array%":typeof Float32Array>"u"?y:Float32Array,"%Float64Array%":typeof Float64Array>"u"?y:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?y:FinalizationRegistry,"%Function%":e,"%GeneratorFunction%":g,"%Int8Array%":typeof Int8Array>"u"?y:Int8Array,"%Int16Array%":typeof Int16Array>"u"?y:Int16Array,"%Int32Array%":typeof Int32Array>"u"?y:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":b&&p?p(p([][Symbol.iterator]())):y,"%JSON%":typeof JSON=="object"?JSON:y,"%Map%":typeof Map>"u"?y:Map,"%MapIteratorPrototype%":typeof Map>"u"||!b||!p?y:p(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?y:Promise,"%Proxy%":typeof Proxy>"u"?y:Proxy,"%RangeError%":a,"%ReferenceError%":u,"%Reflect%":typeof Reflect>"u"?y:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?y:Set,"%SetIteratorPrototype%":typeof Set>"u"||!b||!p?y:p(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?y:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":b&&p?p(""[Symbol.iterator]()):y,"%Symbol%":b?Symbol:y,"%SyntaxError%":r,"%ThrowTypeError%":d,"%TypedArray%":_,"%TypeError%":t,"%Uint8Array%":typeof Uint8Array>"u"?y:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?y:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?y:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?y:Uint32Array,"%URIError%":n,"%WeakMap%":typeof WeakMap>"u"?y:WeakMap,"%WeakRef%":typeof WeakRef>"u"?y:WeakRef,"%WeakSet%":typeof WeakSet>"u"?y:WeakSet};if(p)try{null.error}catch(X){var w=p(p(X));h["%Error.prototype%"]=w}var E=function X(z){var ne;if(z==="%AsyncFunction%")ne=i("async function () {}");else if(z==="%GeneratorFunction%")ne=i("function* () {}");else if(z==="%AsyncGeneratorFunction%")ne=i("async function* () {}");else if(z==="%AsyncGenerator%"){var D=X("%AsyncGeneratorFunction%");D&&(ne=D.prototype)}else if(z==="%AsyncIteratorPrototype%"){var Z=X("%AsyncGenerator%");Z&&p&&(ne=p(Z.prototype))}return h[z]=ne,ne},m={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=$i(),I=mu(),T=A.call(Function.call,Array.prototype.concat),R=A.call(Function.apply,Array.prototype.splice),C=A.call(Function.call,String.prototype.replace),U=A.call(Function.call,String.prototype.slice),O=A.call(Function.call,RegExp.prototype.exec),L=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$=/\\(\\)?/g,B=function(X){var z=U(X,0,1),ne=U(X,-1);if(z==="%"&&ne!=="%")throw new r("invalid intrinsic syntax, expected closing `%`");if(ne==="%"&&z!=="%")throw new r("invalid intrinsic syntax, expected opening `%`");var D=[];return C(X,L,function(Z,P,Y,be){D[D.length]=Y?C(be,$,"$1"):P||Z}),D},oe=function(X,z){var ne=X,D;if(I(m,ne)&&(D=m[ne],ne="%"+D[0]+"%"),I(h,ne)){var Z=h[ne];if(Z===g&&(Z=E(ne)),typeof Z>"u"&&!z)throw new t("intrinsic "+X+" exists, but is not available. Please file an issue!");return{alias:D,name:ne,value:Z}}throw new r("intrinsic "+X+" does not exist!")};return ur=function(X,z){if(typeof X!="string"||X.length===0)throw new t("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof z!="boolean")throw new t('"allowMissing" argument must be a boolean');if(O(/^%?[^%]*%?$/,X)===null)throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ne=B(X),D=ne.length>0?ne[0]:"",Z=oe("%"+D+"%",z),P=Z.name,Y=Z.value,be=!1,te=Z.alias;te&&(D=te[0],R(ne,T([0,1],te)));for(var we=1,K=!0;we<ne.length;we+=1){var N=ne[we],ie=U(N,0,1),H=U(N,-1);if((ie==='"'||ie==="'"||ie==="`"||H==='"'||H==="'"||H==="`")&&ie!==H)throw new r("property names with quotes must have matching quotes");if((N==="constructor"||!K)&&(be=!0),D+="."+N,P="%"+D+"%",I(h,P))Y=h[P];else if(Y!=null){if(!(N in Y)){if(!z)throw new t("base intrinsic for "+X+" exists, but the property is not available.");return}if(o&&we+1>=ne.length){var V=o(Y,N);K=!!V,K&&"get"in V&&!("originalValue"in V.get)?Y=V.get:Y=Y[N]}else K=I(Y,N),Y=Y[N];K&&!be&&(h[P]=Y)}}return Y},ur}function zi(){if(vi)return cr;vi=!0;var y=Ut(),c=y("%Object.defineProperty%",!0)||!1;if(c)try{c({},"a",{value:1})}catch{c=!1}return cr=c,cr}function sa(){if(wi)return hr;wi=!0;var y=Ut(),c=y("%Object.getOwnPropertyDescriptor%",!0);if(c)try{c([],"length")}catch{c=null}return hr=c,hr}function vu(){if(_i)return fr;_i=!0;var y=zi(),c=oa(),l=Yt(),a=sa();return fr=function(u,r,t){if(!u||typeof u!="object"&&typeof u!="function")throw new l("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new l("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new l("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new l("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new l("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new l("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,e=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,o=arguments.length>6?arguments[6]:!1,f=!!a&&a(u,r);if(y)y(u,r,{configurable:i===null&&f?f.configurable:!i,enumerable:n===null&&f?f.enumerable:!n,value:t,writable:e===null&&f?f.writable:!e});else if(o||!n&&!e&&!i)u[r]=t;else throw new c("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},fr}function wu(){if(Si)return pr;Si=!0;var y=zi(),c=function(){return!!y};return c.hasArrayLengthDefineBug=function(){if(!y)return null;try{return y([],"length",{value:1}).length!==1}catch{return!0}},pr=c,pr}function _u(){if(Ei)return dr;Ei=!0;var y=Ut(),c=vu(),l=wu()(),a=sa(),u=Yt(),r=y("%Math.floor%");return dr=function(t,n){if(typeof t!="function")throw new u("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||r(n)!==n)throw new u("`length` must be a positive 32-bit integer");var e=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in t&&a){var f=a(t,"length");f&&!f.configurable&&(i=!1),f&&!f.writable&&(o=!1)}return(i||o||!e)&&(l?c(t,"length",n,!0,!0):c(t,"length",n)),t},dr}function Su(){if(Ai)return Mt;Ai=!0;var y=$i(),c=Ut(),l=_u(),a=Yt(),u=c("%Function.prototype.apply%"),r=c("%Function.prototype.call%"),t=c("%Reflect.apply%",!0)||y.call(r,u),n=zi(),e=c("%Math.max%");Mt=function(o){if(typeof o!="function")throw new a("a function is required");var f=t(y,r,arguments);return l(f,1+e(0,o.length-(arguments.length-1)),!0)};var i=function(){return t(y,u,arguments)};return n?n(Mt,"apply",{value:i}):Mt.apply=i,Mt}function Eu(){if(Ii)return gr;Ii=!0;var y=Ut(),c=Su(),l=c(y("String.prototype.indexOf"));return gr=function(a,u){var r=y(a,!!u);return typeof r=="function"&&l(a,".prototype.")>-1?c(r):r},gr}var Jn,Xn,Zn,ei,ti,ri,ni,ii,oi,si,ai,li,ui,ci,hi,fi,ir,pi,or,di,sr,gi,ar,yi,lr,bi,ur,mi,cr,vi,hr,wi,fr,_i,pr,Si,dr,Ei,Mt,Ai,gr,Ii,Au=Ve(()=>{le(),ce(),ue(),Jn={},Xn=!1,Zn={},ei=!1,ti={},ri=!1,ni={},ii=!1,oi={},si=!1,ai={},li=!1,ui={},ci=!1,hi={},fi=!1,ir={},pi=!1,or={},di=!1,sr={},gi=!1,ar={},yi=!1,lr={},bi=!1,ur={},mi=!1,cr={},vi=!1,hr={},wi=!1,fr={},_i=!1,pr={},Si=!1,dr={},Ei=!1,Mt={},Ai=!1,gr={},Ii=!1});function Vi(y){throw new Error("Node.js process "+y+" is not supported by JSPM core outside of Node.js")}function Iu(){!It||!Et||(It=!1,Et.length?rt=Et.concat(rt):Ht=-1,rt.length&&aa())}function aa(){if(!It){var y=setTimeout(Iu,0);It=!0;for(var c=rt.length;c;){for(Et=rt,rt=[];++Ht<c;)Et&&Et[Ht].run();Ht=-1,c=rt.length}Et=null,It=!1,clearTimeout(y)}}function xu(y){var c=new Array(arguments.length-1);if(arguments.length>1)for(var l=1;l<arguments.length;l++)c[l-1]=arguments[l];rt.push(new la(y,c)),rt.length===1&&!It&&setTimeout(aa,0)}function la(y,c){this.fun=y,this.array=c}function Fe(){}function Tu(y){Vi("_linkedBinding")}function Ou(y){Vi("dlopen")}function ku(){return[]}function Pu(){return[]}function Ru(y,c){if(!y)throw new Error(c||"assertion error")}function Cu(){return!1}function Mu(){return at.now()/1e3}function Br(y){var c=Math.floor((Date.now()-at.now())*.001),l=at.now()*.001,a=Math.floor(l)+c,u=Math.floor(l%1*1e9);return y&&(a=a-y[0],u=u-y[1],u<0&&(a--,u+=yr)),[a,u]}function dt(){return Ki}function ju(y){return[]}var rt,It,Et,Ht,Yi,Ji,Xi,Zi,eo,to,ro,no,io,oo,so,ao,lo,uo,co,ho,fo,po,go,yo,bo,Zt,mo,vo,wo,_o,So,Eo,Ao,Io,xo,To,Oo,ko,Po,Ro,Co,Mo,jo,No,Bo,Uo,Lo,Do,Fo,Wo,qo,at,Ur,yr,$o,zo,Vo,Ko,Ho,Go,Qo,Yo,Jo,Xo,Zo,Ki,ua=Ve(()=>{le(),ce(),ue(),rt=[],It=!1,Ht=-1,la.prototype.run=function(){this.fun.apply(null,this.array)},Yi="browser",Ji="x64",Xi="browser",Zi={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},eo=["/usr/bin/node"],to=[],ro="v16.8.0",no={},io=function(y,c){console.warn((c?c+": ":"")+y)},oo=function(y){Vi("binding")},so=function(y){return 0},ao=function(){return"/"},lo=function(y){},uo={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},co=Fe,ho=[],fo={},po=!1,go={},yo=Fe,bo=Fe,Zt=function(){return{}},mo=Zt,vo=Zt,wo=Fe,_o=Fe,So=Fe,Eo={},Ao={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Io=Fe,xo=Fe,To=Fe,Oo=Fe,ko=Fe,Po=Fe,Ro=Fe,Co=void 0,Mo=void 0,jo=void 0,No=Fe,Bo=2,Uo=1,Lo="/bin/usr/node",Do=9229,Fo="node",Wo=[],qo=Fe,at={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},at.now===void 0&&(Ur=Date.now(),at.timing&&at.timing.navigationStart&&(Ur=at.timing.navigationStart),at.now=()=>Date.now()-Ur),yr=1e9,Br.bigint=function(y){var c=Br(y);return typeof BigInt>"u"?c[0]*yr+c[1]:BigInt(c[0]*yr)+BigInt(c[1])},$o=10,zo={},Vo=0,Ko=dt,Ho=dt,Go=dt,Qo=dt,Yo=dt,Jo=Fe,Xo=dt,Zo=dt,Ki={version:ro,versions:no,arch:Ji,platform:Xi,release:uo,_rawDebug:co,moduleLoadList:ho,binding:oo,_linkedBinding:Tu,_events:zo,_eventsCount:Vo,_maxListeners:$o,on:dt,addListener:Ko,once:Ho,off:Go,removeListener:Qo,removeAllListeners:Yo,emit:Jo,prependListener:Xo,prependOnceListener:Zo,listeners:ju,domain:fo,_exiting:po,config:go,dlopen:Ou,uptime:Mu,_getActiveRequests:ku,_getActiveHandles:Pu,reallyExit:yo,_kill:bo,cpuUsage:Zt,resourceUsage:mo,memoryUsage:vo,kill:wo,exit:_o,openStdin:So,allowedNodeEnvironmentFlags:Eo,assert:Ru,features:Ao,_fatalExceptions:Io,setUncaughtExceptionCaptureCallback:xo,hasUncaughtExceptionCaptureCallback:Cu,emitWarning:io,nextTick:xu,_tickCallback:To,_debugProcess:Oo,_debugEnd:ko,_startProfilerIdleNotifier:Po,_stopProfilerIdleNotifier:Ro,stdout:Co,stdin:jo,stderr:Mo,abort:No,umask:so,chdir:lo,cwd:ao,env:Zi,title:Yi,argv:eo,execArgv:to,pid:Bo,ppid:Uo,execPath:Lo,debugPort:Do,hrtime:Br,argv0:Fo,_preload_modules:Wo,setSourceMapsEnabled:qo}});function Nu(){if(xi)return br;xi=!0;var y=Ki;function c(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}function l(r,t){for(var n="",e=0,i=-1,o=0,f,d=0;d<=r.length;++d){if(d<r.length)f=r.charCodeAt(d);else{if(f===47)break;f=47}if(f===47){if(!(i===d-1||o===1))if(i!==d-1&&o===2){if(n.length<2||e!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var b=n.lastIndexOf("/");if(b!==n.length-1){b===-1?(n="",e=0):(n=n.slice(0,b),e=n.length-1-n.lastIndexOf("/")),i=d,o=0;continue}}else if(n.length===2||n.length===1){n="",e=0,i=d,o=0;continue}}t&&(n.length>0?n+="/..":n="..",e=2)}else n.length>0?n+="/"+r.slice(i+1,d):n=r.slice(i+1,d),e=d-i-1;i=d,o=0}else f===46&&o!==-1?++o:o=-1}return n}function a(r,t){var n=t.dir||t.root,e=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+e:n+r+e:e}var u={resolve:function(){for(var r="",t=!1,n,e=arguments.length-1;e>=-1&&!t;e--){var i;e>=0?i=arguments[e]:(n===void 0&&(n=y.cwd()),i=n),c(i),i.length!==0&&(r=i+"/"+r,t=i.charCodeAt(0)===47)}return r=l(r,!t),t?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(r){if(c(r),r.length===0)return".";var t=r.charCodeAt(0)===47,n=r.charCodeAt(r.length-1)===47;return r=l(r,!t),r.length===0&&!t&&(r="."),r.length>0&&n&&(r+="/"),t?"/"+r:r},isAbsolute:function(r){return c(r),r.length>0&&r.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var r,t=0;t<arguments.length;++t){var n=arguments[t];c(n),n.length>0&&(r===void 0?r=n:r+="/"+n)}return r===void 0?".":u.normalize(r)},relative:function(r,t){if(c(r),c(t),r===t||(r=u.resolve(r),t=u.resolve(t),r===t))return"";for(var n=1;n<r.length&&r.charCodeAt(n)===47;++n);for(var e=r.length,i=e-n,o=1;o<t.length&&t.charCodeAt(o)===47;++o);for(var f=t.length,d=f-o,b=i<d?i:d,v=-1,p=0;p<=b;++p){if(p===b){if(d>b){if(t.charCodeAt(o+p)===47)return t.slice(o+p+1);if(p===0)return t.slice(o+p)}else i>b&&(r.charCodeAt(n+p)===47?v=p:p===0&&(v=0));break}var g=r.charCodeAt(n+p),_=t.charCodeAt(o+p);if(g!==_)break;g===47&&(v=p)}var h="";for(p=n+v+1;p<=e;++p)(p===e||r.charCodeAt(p)===47)&&(h.length===0?h+="..":h+="/..");return h.length>0?h+t.slice(o+v):(o+=v,t.charCodeAt(o)===47&&++o,t.slice(o))},_makeLong:function(r){return r},dirname:function(r){if(c(r),r.length===0)return".";for(var t=r.charCodeAt(0),n=t===47,e=-1,i=!0,o=r.length-1;o>=1;--o)if(t=r.charCodeAt(o),t===47){if(!i){e=o;break}}else i=!1;return e===-1?n?"/":".":n&&e===1?"//":r.slice(0,e)},basename:function(r,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');c(r);var n=0,e=-1,i=!0,o;if(t!==void 0&&t.length>0&&t.length<=r.length){if(t.length===r.length&&t===r)return"";var f=t.length-1,d=-1;for(o=r.length-1;o>=0;--o){var b=r.charCodeAt(o);if(b===47){if(!i){n=o+1;break}}else d===-1&&(i=!1,d=o+1),f>=0&&(b===t.charCodeAt(f)?--f===-1&&(e=o):(f=-1,e=d))}return n===e?e=d:e===-1&&(e=r.length),r.slice(n,e)}else{for(o=r.length-1;o>=0;--o)if(r.charCodeAt(o)===47){if(!i){n=o+1;break}}else e===-1&&(i=!1,e=o+1);return e===-1?"":r.slice(n,e)}},extname:function(r){c(r);for(var t=-1,n=0,e=-1,i=!0,o=0,f=r.length-1;f>=0;--f){var d=r.charCodeAt(f);if(d===47){if(!i){n=f+1;break}continue}e===-1&&(i=!1,e=f+1),d===46?t===-1?t=f:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||e===-1||o===0||o===1&&t===e-1&&t===n+1?"":r.slice(t,e)},format:function(r){if(r===null||typeof r!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof r);return a("/",r)},parse:function(r){c(r);var t={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return t;var n=r.charCodeAt(0),e=n===47,i;e?(t.root="/",i=1):i=0;for(var o=-1,f=0,d=-1,b=!0,v=r.length-1,p=0;v>=i;--v){if(n=r.charCodeAt(v),n===47){if(!b){f=v+1;break}continue}d===-1&&(b=!1,d=v+1),n===46?o===-1?o=v:p!==1&&(p=1):o!==-1&&(p=-1)}return o===-1||d===-1||p===0||p===1&&o===d-1&&o===f+1?d!==-1&&(f===0&&e?t.base=t.name=r.slice(1,d):t.base=t.name=r.slice(f,d)):(f===0&&e?(t.name=r.slice(1,o),t.base=r.slice(1,d)):(t.name=r.slice(f,o),t.base=r.slice(f,d)),t.ext=r.slice(o,d)),f>0?t.dir=r.slice(0,f-1):e&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};return u.posix=u,br=u,br}var br,xi,Ti,Bu=Ve(()=>{le(),ce(),ue(),ua(),br={},xi=!1,Ti=Nu()}),ca={};jt(ca,{URL:()=>wa,Url:()=>ga,default:()=>We,fileURLToPath:()=>fa,format:()=>ya,parse:()=>va,pathToFileURL:()=>pa,resolve:()=>ba,resolveObject:()=>ma});function Uu(){if(Oi)return mr;Oi=!0;var y=typeof Map=="function"&&Map.prototype,c=Object.getOwnPropertyDescriptor&&y?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,l=y&&c&&typeof c.get=="function"?c.get:null,a=y&&Map.prototype.forEach,u=typeof Set=="function"&&Set.prototype,r=Object.getOwnPropertyDescriptor&&u?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,t=u&&r&&typeof r.get=="function"?r.get:null,n=u&&Set.prototype.forEach,e=typeof WeakMap=="function"&&WeakMap.prototype,i=e?WeakMap.prototype.has:null,o=typeof WeakSet=="function"&&WeakSet.prototype,f=o?WeakSet.prototype.has:null,d=typeof WeakRef=="function"&&WeakRef.prototype,b=d?WeakRef.prototype.deref:null,v=Boolean.prototype.valueOf,p=Object.prototype.toString,g=Function.prototype.toString,_=String.prototype.match,h=String.prototype.slice,w=String.prototype.replace,E=String.prototype.toUpperCase,m=String.prototype.toLowerCase,A=RegExp.prototype.test,I=Array.prototype.concat,T=Array.prototype.join,R=Array.prototype.slice,C=Math.floor,U=typeof BigInt=="function"?BigInt.prototype.valueOf:null,O=Object.getOwnPropertySymbols,L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,$=typeof Symbol=="function"&&typeof Symbol.iterator=="object",B=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===$||!0)?Symbol.toStringTag:null,oe=Object.prototype.propertyIsEnumerable,X=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(G){return G.__proto__}:null);function z(G,re){if(G===1/0||G===-1/0||G!==G||G&&G>-1e3&&G<1e3||A.call(/e/,re))return re;var xe=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof G=="number"){var Te=G<0?-C(-G):C(G);if(Te!==G){var Oe=String(Te),ke=h.call(re,Oe.length+1);return w.call(Oe,xe,"$&_")+"."+w.call(w.call(ke,/([0-9]{3})/g,"$&_"),/_$/,"")}}return w.call(re,xe,"$&_")}var ne=da,D=ne.custom,Z=V(D)?D:null;mr=function G(re,xe,Te,Oe){var ke=xe||{};if(se(ke,"quoteStyle")&&ke.quoteStyle!=="single"&&ke.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(se(ke,"maxStringLength")&&(typeof ke.maxStringLength=="number"?ke.maxStringLength<0&&ke.maxStringLength!==1/0:ke.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Qe=se(ke,"customInspect")?ke.customInspect:!0;if(typeof Qe!="boolean"&&Qe!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(se(ke,"indent")&&ke.indent!==null&&ke.indent!=="	"&&!(parseInt(ke.indent,10)===ke.indent&&ke.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(se(ke,"numericSeparator")&&typeof ke.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ye=ke.numericSeparator;if(typeof re>"u")return"undefined";if(re===null)return"null";if(typeof re=="boolean")return re?"true":"false";if(typeof re=="string")return ge(re,ke);if(typeof re=="number"){if(re===0)return 1/0/re>0?"0":"-0";var Le=String(re);return Ye?z(re,Le):Le}if(typeof re=="bigint"){var Je=String(re)+"n";return Ye?z(re,Je):Je}var kt=typeof ke.depth>"u"?5:ke.depth;if(typeof Te>"u"&&(Te=0),Te>=kt&&kt>0&&typeof re=="object")return be(re)?"[Array]":"[Object]";var Xe=J(ke,Te);if(typeof Oe>"u")Oe=[];else if(ee(Oe,re)>=0)return"[Circular]";function Ke(Ze,pt,_t){if(pt&&(Oe=R.call(Oe),Oe.push(pt)),_t){var et={depth:ke.depth};return se(ke,"quoteStyle")&&(et.quoteStyle=ke.quoteStyle),G(Ze,et,Te+1,Oe)}return G(Ze,ke,Te+1,Oe)}if(typeof re=="function"&&!we(re)){var Jt=F(re),Pt=ve(re,Ke);return"[Function"+(Jt?": "+Jt:" (anonymous)")+"]"+(Pt.length>0?" { "+T.call(Pt,", ")+" }":"")}if(V(re)){var Lt=$?w.call(String(re),/^(Symbol\(.*\))_[^)]*$/,"$1"):L.call(re);return typeof re=="object"&&!$?s(Lt):Lt}if(Se(re)){for(var k="<"+m.call(String(re.nodeName)),j=re.attributes||[],_e=0;_e<j.length;_e++)k+=" "+j[_e].name+"="+P(Y(j[_e].value),"double",ke);return k+=">",re.childNodes&&re.childNodes.length&&(k+="..."),k+="</"+m.call(String(re.nodeName))+">",k}if(be(re)){if(re.length===0)return"[]";var Ee=ve(re,Ke);return Xe&&!W(Ee)?"["+ae(Ee,Xe)+"]":"[ "+T.call(Ee,", ")+" ]"}if(K(re)){var Ie=ve(re,Ke);return!("cause"in Error.prototype)&&"cause"in re&&!oe.call(re,"cause")?"{ ["+String(re)+"] "+T.call(I.call("[cause]: "+Ke(re.cause),Ie),", ")+" }":Ie.length===0?"["+String(re)+"]":"{ ["+String(re)+"] "+T.call(Ie,", ")+" }"}if(typeof re=="object"&&Qe){if(Z&&typeof re[Z]=="function"&&ne)return ne(re,{depth:kt-Te});if(Qe!=="symbol"&&typeof re.inspect=="function")return re.inspect()}if(he(re)){var Ne=[];return a&&a.call(re,function(Ze,pt){Ne.push(Ke(pt,re,!0)+" => "+Ke(Ze,re))}),x("Map",l.call(re),Ne,Xe)}if(q(re)){var qe=[];return n&&n.call(re,function(Ze){qe.push(Ke(Ze,re))}),x("Set",t.call(re),qe,Xe)}if(fe(re))return S("WeakMap");if(de(re))return S("WeakSet");if(me(re))return S("WeakRef");if(ie(re))return s(Ke(Number(re)));if(Q(re))return s(Ke(U.call(re)));if(H(re))return s(v.call(re));if(N(re))return s(Ke(String(re)));if(typeof window<"u"&&re===window)return"{ [object Window] }";if(typeof globalThis<"u"&&re===globalThis||typeof vr<"u"&&re===vr)return"{ [object globalThis] }";if(!te(re)&&!we(re)){var He=ve(re,Ke),Dt=X?X(re)===Object.prototype:re instanceof Object||re.constructor===Object,Ft=re instanceof Object?"":"null prototype",Wt=!Dt&&B&&Object(re)===re&&B in re?h.call(M(re),8,-1):Ft?"Object":"",Xt=Dt||typeof re.constructor!="function"?"":re.constructor.name?re.constructor.name+" ":"",wt=Xt+(Wt||Ft?"["+T.call(I.call([],Wt||[],Ft||[]),": ")+"] ":"");return He.length===0?wt+"{}":Xe?wt+"{"+ae(He,Xe)+"}":wt+"{ "+T.call(He,", ")+" }"}return String(re)};function P(G,re,xe){var Te=(xe.quoteStyle||re)==="double"?'"':"'";return Te+G+Te}function Y(G){return w.call(String(G),/"/g,"&quot;")}function be(G){return M(G)==="[object Array]"&&(!B||!(typeof G=="object"&&B in G))}function te(G){return M(G)==="[object Date]"&&(!B||!(typeof G=="object"&&B in G))}function we(G){return M(G)==="[object RegExp]"&&(!B||!(typeof G=="object"&&B in G))}function K(G){return M(G)==="[object Error]"&&(!B||!(typeof G=="object"&&B in G))}function N(G){return M(G)==="[object String]"&&(!B||!(typeof G=="object"&&B in G))}function ie(G){return M(G)==="[object Number]"&&(!B||!(typeof G=="object"&&B in G))}function H(G){return M(G)==="[object Boolean]"&&(!B||!(typeof G=="object"&&B in G))}function V(G){if($)return G&&typeof G=="object"&&G instanceof Symbol;if(typeof G=="symbol")return!0;if(!G||typeof G!="object"||!L)return!1;try{return L.call(G),!0}catch{}return!1}function Q(G){if(!G||typeof G!="object"||!U)return!1;try{return U.call(G),!0}catch{}return!1}var ye=Object.prototype.hasOwnProperty||function(G){return G in(this||vr)};function se(G,re){return ye.call(G,re)}function M(G){return p.call(G)}function F(G){if(G.name)return G.name;var re=_.call(g.call(G),/^function\s*([\w$]+)/);return re?re[1]:null}function ee(G,re){if(G.indexOf)return G.indexOf(re);for(var xe=0,Te=G.length;xe<Te;xe++)if(G[xe]===re)return xe;return-1}function he(G){if(!l||!G||typeof G!="object")return!1;try{l.call(G);try{t.call(G)}catch{return!0}return G instanceof Map}catch{}return!1}function fe(G){if(!i||!G||typeof G!="object")return!1;try{i.call(G,i);try{f.call(G,f)}catch{return!0}return G instanceof WeakMap}catch{}return!1}function me(G){if(!b||!G||typeof G!="object")return!1;try{return b.call(G),!0}catch{}return!1}function q(G){if(!t||!G||typeof G!="object")return!1;try{t.call(G);try{l.call(G)}catch{return!0}return G instanceof Set}catch{}return!1}function de(G){if(!f||!G||typeof G!="object")return!1;try{f.call(G,f);try{i.call(G,i)}catch{return!0}return G instanceof WeakSet}catch{}return!1}function Se(G){return!G||typeof G!="object"?!1:typeof HTMLElement<"u"&&G instanceof HTMLElement?!0:typeof G.nodeName=="string"&&typeof G.getAttribute=="function"}function ge(G,re){if(G.length>re.maxStringLength){var xe=G.length-re.maxStringLength,Te="... "+xe+" more character"+(xe>1?"s":"");return ge(h.call(G,0,re.maxStringLength),re)+Te}var Oe=w.call(w.call(G,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ae);return P(Oe,"single",re)}function Ae(G){var re=G.charCodeAt(0),xe={8:"b",9:"t",10:"n",12:"f",13:"r"}[re];return xe?"\\"+xe:"\\x"+(re<16?"0":"")+E.call(re.toString(16))}function s(G){return"Object("+G+")"}function S(G){return G+" { ? }"}function x(G,re,xe,Te){var Oe=Te?ae(xe,Te):T.call(xe,", ");return G+" ("+re+") {"+Oe+"}"}function W(G){for(var re=0;re<G.length;re++)if(ee(G[re],`
`)>=0)return!1;return!0}function J(G,re){var xe;if(G.indent==="	")xe="	";else if(typeof G.indent=="number"&&G.indent>0)xe=T.call(Array(G.indent+1)," ");else return null;return{base:xe,prev:T.call(Array(re+1),xe)}}function ae(G,re){if(G.length===0)return"";var xe=`
`+re.prev+re.base;return xe+T.call(G,","+xe)+`
`+re.prev}function ve(G,re){var xe=be(G),Te=[];if(xe){Te.length=G.length;for(var Oe=0;Oe<G.length;Oe++)Te[Oe]=se(G,Oe)?re(G[Oe],G):""}var ke=typeof O=="function"?O(G):[],Qe;if($){Qe={};for(var Ye=0;Ye<ke.length;Ye++)Qe["$"+ke[Ye]]=ke[Ye]}for(var Le in G)se(G,Le)&&(xe&&String(Number(Le))===Le&&Le<G.length||$&&Qe["$"+Le]instanceof Symbol||(A.call(/[^\w$]/,Le)?Te.push(re(Le,G)+": "+re(G[Le],G)):Te.push(Le+": "+re(G[Le],G))));if(typeof O=="function")for(var Je=0;Je<ke.length;Je++)oe.call(G,ke[Je])&&Te.push("["+re(ke[Je])+"]: "+re(G[ke[Je]],G));return Te}return mr}function Lu(){if(ki)return wr;ki=!0;var y=Ut(),c=Eu(),l=Uu(),a=Yt(),u=y("%WeakMap%",!0),r=y("%Map%",!0),t=c("WeakMap.prototype.get",!0),n=c("WeakMap.prototype.set",!0),e=c("WeakMap.prototype.has",!0),i=c("Map.prototype.get",!0),o=c("Map.prototype.set",!0),f=c("Map.prototype.has",!0),d=function(g,_){for(var h=g,w;(w=h.next)!==null;h=w)if(w.key===_)return h.next=w.next,w.next=g.next,g.next=w,w},b=function(g,_){var h=d(g,_);return h&&h.value},v=function(g,_,h){var w=d(g,_);w?w.value=h:g.next={key:_,next:g.next,value:h}},p=function(g,_){return!!d(g,_)};return wr=function(){var g,_,h,w={assert:function(E){if(!w.has(E))throw new a("Side channel does not contain "+l(E))},get:function(E){if(u&&E&&(typeof E=="object"||typeof E=="function")){if(g)return t(g,E)}else if(r){if(_)return i(_,E)}else if(h)return b(h,E)},has:function(E){if(u&&E&&(typeof E=="object"||typeof E=="function")){if(g)return e(g,E)}else if(r){if(_)return f(_,E)}else if(h)return p(h,E);return!1},set:function(E,m){u&&E&&(typeof E=="object"||typeof E=="function")?(g||(g=new u),n(g,E,m)):r?(_||(_=new r),o(_,E,m)):(h||(h={key:{},next:null}),v(h,E,m))}};return w},wr}function Hi(){if(Pi)return _r;Pi=!0;var y=String.prototype.replace,c=/%20/g,l={RFC1738:"RFC1738",RFC3986:"RFC3986"};return _r={default:l.RFC3986,formatters:{RFC1738:function(a){return y.call(a,c,"+")},RFC3986:function(a){return String(a)}},RFC1738:l.RFC1738,RFC3986:l.RFC3986},_r}function ha(){if(Ri)return Sr;Ri=!0;var y=Hi(),c=Object.prototype.hasOwnProperty,l=Array.isArray,a=(function(){for(var g=[],_=0;_<256;++_)g.push("%"+((_<16?"0":"")+_.toString(16)).toUpperCase());return g})(),u=function(g){for(;g.length>1;){var _=g.pop(),h=_.obj[_.prop];if(l(h)){for(var w=[],E=0;E<h.length;++E)typeof h[E]<"u"&&w.push(h[E]);_.obj[_.prop]=w}}},r=function(g,_){for(var h=_&&_.plainObjects?Object.create(null):{},w=0;w<g.length;++w)typeof g[w]<"u"&&(h[w]=g[w]);return h},t=function g(_,h,w){if(!h)return _;if(typeof h!="object"){if(l(_))_.push(h);else if(_&&typeof _=="object")(w&&(w.plainObjects||w.allowPrototypes)||!c.call(Object.prototype,h))&&(_[h]=!0);else return[_,h];return _}if(!_||typeof _!="object")return[_].concat(h);var E=_;return l(_)&&!l(h)&&(E=r(_,w)),l(_)&&l(h)?(h.forEach(function(m,A){if(c.call(_,A)){var I=_[A];I&&typeof I=="object"&&m&&typeof m=="object"?_[A]=g(I,m,w):_.push(m)}else _[A]=m}),_):Object.keys(h).reduce(function(m,A){var I=h[A];return c.call(m,A)?m[A]=g(m[A],I,w):m[A]=I,m},E)},n=function(g,_){return Object.keys(_).reduce(function(h,w){return h[w]=_[w],h},g)},e=function(g,_,h){var w=g.replace(/\+/g," ");if(h==="iso-8859-1")return w.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(w)}catch{return w}},i=1024,o=function(g,_,h,w,E){if(g.length===0)return g;var m=g;if(typeof g=="symbol"?m=Symbol.prototype.toString.call(g):typeof g!="string"&&(m=String(g)),h==="iso-8859-1")return escape(m).replace(/%u[0-9a-f]{4}/gi,function(O){return"%26%23"+parseInt(O.slice(2),16)+"%3B"});for(var A="",I=0;I<m.length;I+=i){for(var T=m.length>=i?m.slice(I,I+i):m,R=[],C=0;C<T.length;++C){var U=T.charCodeAt(C);if(U===45||U===46||U===95||U===126||U>=48&&U<=57||U>=65&&U<=90||U>=97&&U<=122||E===y.RFC1738&&(U===40||U===41)){R[R.length]=T.charAt(C);continue}if(U<128){R[R.length]=a[U];continue}if(U<2048){R[R.length]=a[192|U>>6]+a[128|U&63];continue}if(U<55296||U>=57344){R[R.length]=a[224|U>>12]+a[128|U>>6&63]+a[128|U&63];continue}C+=1,U=65536+((U&1023)<<10|T.charCodeAt(C)&1023),R[R.length]=a[240|U>>18]+a[128|U>>12&63]+a[128|U>>6&63]+a[128|U&63]}A+=R.join("")}return A},f=function(g){for(var _=[{obj:{o:g},prop:"o"}],h=[],w=0;w<_.length;++w)for(var E=_[w],m=E.obj[E.prop],A=Object.keys(m),I=0;I<A.length;++I){var T=A[I],R=m[T];typeof R=="object"&&R!==null&&h.indexOf(R)===-1&&(_.push({obj:m,prop:T}),h.push(R))}return u(_),g},d=function(g){return Object.prototype.toString.call(g)==="[object RegExp]"},b=function(g){return!g||typeof g!="object"?!1:!!(g.constructor&&g.constructor.isBuffer&&g.constructor.isBuffer(g))},v=function(g,_){return[].concat(g,_)},p=function(g,_){if(l(g)){for(var h=[],w=0;w<g.length;w+=1)h.push(_(g[w]));return h}return _(g)};return Sr={arrayToObject:r,assign:n,combine:v,compact:f,decode:e,encode:o,isBuffer:b,isRegExp:d,maybeMap:p,merge:t},Sr}function Du(){if(Ci)return Er;Ci=!0;var y=Lu(),c=ha(),l=Hi(),a=Object.prototype.hasOwnProperty,u={brackets:function(p){return p+"[]"},comma:"comma",indices:function(p,g){return p+"["+g+"]"},repeat:function(p){return p}},r=Array.isArray,t=Array.prototype.push,n=function(p,g){t.apply(p,r(g)?g:[g])},e=Date.prototype.toISOString,i=l.default,o={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:c.encode,encodeValuesOnly:!1,format:i,formatter:l.formatters[i],indices:!1,serializeDate:function(p){return e.call(p)},skipNulls:!1,strictNullHandling:!1},f=function(p){return typeof p=="string"||typeof p=="number"||typeof p=="boolean"||typeof p=="symbol"||typeof p=="bigint"},d={},b=function p(g,_,h,w,E,m,A,I,T,R,C,U,O,L,$,B,oe,X){for(var z=g,ne=X,D=0,Z=!1;(ne=ne.get(d))!==void 0&&!Z;){var P=ne.get(g);if(D+=1,typeof P<"u"){if(P===D)throw new RangeError("Cyclic object value");Z=!0}typeof ne.get(d)>"u"&&(D=0)}if(typeof R=="function"?z=R(_,z):z instanceof Date?z=O(z):h==="comma"&&r(z)&&(z=c.maybeMap(z,function(M){return M instanceof Date?O(M):M})),z===null){if(m)return T&&!B?T(_,o.encoder,oe,"key",L):_;z=""}if(f(z)||c.isBuffer(z)){if(T){var Y=B?_:T(_,o.encoder,oe,"key",L);return[$(Y)+"="+$(T(z,o.encoder,oe,"value",L))]}return[$(_)+"="+$(String(z))]}var be=[];if(typeof z>"u")return be;var te;if(h==="comma"&&r(z))B&&T&&(z=c.maybeMap(z,T)),te=[{value:z.length>0?z.join(",")||null:void 0}];else if(r(R))te=R;else{var we=Object.keys(z);te=C?we.sort(C):we}var K=I?_.replace(/\./g,"%2E"):_,N=w&&r(z)&&z.length===1?K+"[]":K;if(E&&r(z)&&z.length===0)return N+"[]";for(var ie=0;ie<te.length;++ie){var H=te[ie],V=typeof H=="object"&&typeof H.value<"u"?H.value:z[H];if(!(A&&V===null)){var Q=U&&I?H.replace(/\./g,"%2E"):H,ye=r(z)?typeof h=="function"?h(N,Q):N:N+(U?"."+Q:"["+Q+"]");X.set(g,D);var se=y();se.set(d,X),n(be,p(V,ye,h,w,E,m,A,I,h==="comma"&&B&&r(z)?null:T,R,C,U,O,L,$,B,oe,se))}}return be},v=function(p){if(!p)return o;if(typeof p.allowEmptyArrays<"u"&&typeof p.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof p.encodeDotInKeys<"u"&&typeof p.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(p.encoder!==null&&typeof p.encoder<"u"&&typeof p.encoder!="function")throw new TypeError("Encoder has to be a function.");var g=p.charset||o.charset;if(typeof p.charset<"u"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var _=l.default;if(typeof p.format<"u"){if(!a.call(l.formatters,p.format))throw new TypeError("Unknown format option provided.");_=p.format}var h=l.formatters[_],w=o.filter;(typeof p.filter=="function"||r(p.filter))&&(w=p.filter);var E;if(p.arrayFormat in u?E=p.arrayFormat:"indices"in p?E=p.indices?"indices":"repeat":E=o.arrayFormat,"commaRoundTrip"in p&&typeof p.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var m=typeof p.allowDots>"u"?p.encodeDotInKeys===!0?!0:o.allowDots:!!p.allowDots;return{addQueryPrefix:typeof p.addQueryPrefix=="boolean"?p.addQueryPrefix:o.addQueryPrefix,allowDots:m,allowEmptyArrays:typeof p.allowEmptyArrays=="boolean"?!!p.allowEmptyArrays:o.allowEmptyArrays,arrayFormat:E,charset:g,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:o.charsetSentinel,commaRoundTrip:p.commaRoundTrip,delimiter:typeof p.delimiter>"u"?o.delimiter:p.delimiter,encode:typeof p.encode=="boolean"?p.encode:o.encode,encodeDotInKeys:typeof p.encodeDotInKeys=="boolean"?p.encodeDotInKeys:o.encodeDotInKeys,encoder:typeof p.encoder=="function"?p.encoder:o.encoder,encodeValuesOnly:typeof p.encodeValuesOnly=="boolean"?p.encodeValuesOnly:o.encodeValuesOnly,filter:w,format:_,formatter:h,serializeDate:typeof p.serializeDate=="function"?p.serializeDate:o.serializeDate,skipNulls:typeof p.skipNulls=="boolean"?p.skipNulls:o.skipNulls,sort:typeof p.sort=="function"?p.sort:null,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:o.strictNullHandling}};return Er=function(p,g){var _=p,h=v(g),w,E;typeof h.filter=="function"?(E=h.filter,_=E("",_)):r(h.filter)&&(E=h.filter,w=E);var m=[];if(typeof _!="object"||_===null)return"";var A=u[h.arrayFormat],I=A==="comma"&&h.commaRoundTrip;w||(w=Object.keys(_)),h.sort&&w.sort(h.sort);for(var T=y(),R=0;R<w.length;++R){var C=w[R];h.skipNulls&&_[C]===null||n(m,b(_[C],C,A,I,h.allowEmptyArrays,h.strictNullHandling,h.skipNulls,h.encodeDotInKeys,h.encode?h.encoder:null,h.filter,h.sort,h.allowDots,h.serializeDate,h.format,h.formatter,h.encodeValuesOnly,h.charset,T))}var U=m.join(h.delimiter),O=h.addQueryPrefix===!0?"?":"";return h.charsetSentinel&&(h.charset==="iso-8859-1"?O+="utf8=%26%2310003%3B&":O+="utf8=%E2%9C%93&"),U.length>0?O+U:""},Er}function Fu(){if(Mi)return Ar;Mi=!0;var y=ha(),c=Object.prototype.hasOwnProperty,l=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:y.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},u=function(d){return d.replace(/&#(\d+);/g,function(b,v){return String.fromCharCode(parseInt(v,10))})},r=function(d,b){return d&&typeof d=="string"&&b.comma&&d.indexOf(",")>-1?d.split(","):d},t="utf8=%26%2310003%3B",n="utf8=%E2%9C%93",e=function(d,b){var v={__proto__:null},p=b.ignoreQueryPrefix?d.replace(/^\?/,""):d;p=p.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var g=b.parameterLimit===1/0?void 0:b.parameterLimit,_=p.split(b.delimiter,g),h=-1,w,E=b.charset;if(b.charsetSentinel)for(w=0;w<_.length;++w)_[w].indexOf("utf8=")===0&&(_[w]===n?E="utf-8":_[w]===t&&(E="iso-8859-1"),h=w,w=_.length);for(w=0;w<_.length;++w)if(w!==h){var m=_[w],A=m.indexOf("]="),I=A===-1?m.indexOf("="):A+1,T,R;I===-1?(T=b.decoder(m,a.decoder,E,"key"),R=b.strictNullHandling?null:""):(T=b.decoder(m.slice(0,I),a.decoder,E,"key"),R=y.maybeMap(r(m.slice(I+1),b),function(U){return b.decoder(U,a.decoder,E,"value")})),R&&b.interpretNumericEntities&&E==="iso-8859-1"&&(R=u(R)),m.indexOf("[]=")>-1&&(R=l(R)?[R]:R);var C=c.call(v,T);C&&b.duplicates==="combine"?v[T]=y.combine(v[T],R):(!C||b.duplicates==="last")&&(v[T]=R)}return v},i=function(d,b,v,p){for(var g=p?b:r(b,v),_=d.length-1;_>=0;--_){var h,w=d[_];if(w==="[]"&&v.parseArrays)h=v.allowEmptyArrays&&(g===""||v.strictNullHandling&&g===null)?[]:[].concat(g);else{h=v.plainObjects?Object.create(null):{};var E=w.charAt(0)==="["&&w.charAt(w.length-1)==="]"?w.slice(1,-1):w,m=v.decodeDotInKeys?E.replace(/%2E/g,"."):E,A=parseInt(m,10);!v.parseArrays&&m===""?h={0:g}:!isNaN(A)&&w!==m&&String(A)===m&&A>=0&&v.parseArrays&&A<=v.arrayLimit?(h=[],h[A]=g):m!=="__proto__"&&(h[m]=g)}g=h}return g},o=function(d,b,v,p){if(d){var g=v.allowDots?d.replace(/\.([^.[]+)/g,"[$1]"):d,_=/(\[[^[\]]*])/,h=/(\[[^[\]]*])/g,w=v.depth>0&&_.exec(g),E=w?g.slice(0,w.index):g,m=[];if(E){if(!v.plainObjects&&c.call(Object.prototype,E)&&!v.allowPrototypes)return;m.push(E)}for(var A=0;v.depth>0&&(w=h.exec(g))!==null&&A<v.depth;){if(A+=1,!v.plainObjects&&c.call(Object.prototype,w[1].slice(1,-1))&&!v.allowPrototypes)return;m.push(w[1])}if(w){if(v.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+v.depth+" and strictDepth is true");m.push("["+g.slice(w.index)+"]")}return i(m,b,v,p)}},f=function(d){if(!d)return a;if(typeof d.allowEmptyArrays<"u"&&typeof d.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof d.decodeDotInKeys<"u"&&typeof d.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(d.decoder!==null&&typeof d.decoder<"u"&&typeof d.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof d.charset<"u"&&d.charset!=="utf-8"&&d.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var b=typeof d.charset>"u"?a.charset:d.charset,v=typeof d.duplicates>"u"?a.duplicates:d.duplicates;if(v!=="combine"&&v!=="first"&&v!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var p=typeof d.allowDots>"u"?d.decodeDotInKeys===!0?!0:a.allowDots:!!d.allowDots;return{allowDots:p,allowEmptyArrays:typeof d.allowEmptyArrays=="boolean"?!!d.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:typeof d.allowPrototypes=="boolean"?d.allowPrototypes:a.allowPrototypes,allowSparse:typeof d.allowSparse=="boolean"?d.allowSparse:a.allowSparse,arrayLimit:typeof d.arrayLimit=="number"?d.arrayLimit:a.arrayLimit,charset:b,charsetSentinel:typeof d.charsetSentinel=="boolean"?d.charsetSentinel:a.charsetSentinel,comma:typeof d.comma=="boolean"?d.comma:a.comma,decodeDotInKeys:typeof d.decodeDotInKeys=="boolean"?d.decodeDotInKeys:a.decodeDotInKeys,decoder:typeof d.decoder=="function"?d.decoder:a.decoder,delimiter:typeof d.delimiter=="string"||y.isRegExp(d.delimiter)?d.delimiter:a.delimiter,depth:typeof d.depth=="number"||d.depth===!1?+d.depth:a.depth,duplicates:v,ignoreQueryPrefix:d.ignoreQueryPrefix===!0,interpretNumericEntities:typeof d.interpretNumericEntities=="boolean"?d.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:typeof d.parameterLimit=="number"?d.parameterLimit:a.parameterLimit,parseArrays:d.parseArrays!==!1,plainObjects:typeof d.plainObjects=="boolean"?d.plainObjects:a.plainObjects,strictDepth:typeof d.strictDepth=="boolean"?!!d.strictDepth:a.strictDepth,strictNullHandling:typeof d.strictNullHandling=="boolean"?d.strictNullHandling:a.strictNullHandling}};return Ar=function(d,b){var v=f(b);if(d===""||d===null||typeof d>"u")return v.plainObjects?Object.create(null):{};for(var p=typeof d=="string"?e(d,v):d,g=v.plainObjects?Object.create(null):{},_=Object.keys(p),h=0;h<_.length;++h){var w=_[h],E=o(w,p[w],v,typeof d=="string");g=y.merge(g,E,v)}return v.allowSparse===!0?g:y.compact(g)},Ar}function Wu(){if(ji)return Ir;ji=!0;var y=Du(),c=Fu(),l=Hi();return Ir={formats:l,parse:c,stringify:y},Ir}function qu(){if(Ni)return bt;Ni=!0;var y=yt;function c(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var l=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,r=["<",">",'"',"`"," ","\r",`
`,"	"],t=["{","}","|","\\","^","`"].concat(r),n=["'"].concat(t),e=["%","/","?",";","#"].concat(n),i=["/","?","#"],o=255,f=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},p={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=Wu();function _(m,A,I){if(m&&typeof m=="object"&&m instanceof c)return m;var T=new c;return T.parse(m,A,I),T}c.prototype.parse=function(m,A,I){if(typeof m!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof m);var T=m.indexOf("?"),R=T!==-1&&T<m.indexOf("#")?"?":"#",C=m.split(R),U=/\\/g;C[0]=C[0].replace(U,"/"),m=C.join(R);var O=m;if(O=O.trim(),!I&&m.split("#").length===1){var L=u.exec(O);if(L)return this.path=O,this.href=O,this.pathname=L[1],L[2]?(this.search=L[2],A?this.query=g.parse(this.search.substr(1)):this.query=this.search.substr(1)):A&&(this.search="",this.query={}),this}var $=l.exec(O);if($){$=$[0];var B=$.toLowerCase();this.protocol=B,O=O.substr($.length)}if(I||$||O.match(/^\/\/[^@/]+@[^@/]+/)){var oe=O.substr(0,2)==="//";oe&&!($&&v[$])&&(O=O.substr(2),this.slashes=!0)}if(!v[$]&&(oe||$&&!p[$])){for(var X=-1,z=0;z<i.length;z++){var ne=O.indexOf(i[z]);ne!==-1&&(X===-1||ne<X)&&(X=ne)}var D,Z;X===-1?Z=O.lastIndexOf("@"):Z=O.lastIndexOf("@",X),Z!==-1&&(D=O.slice(0,Z),O=O.slice(Z+1),this.auth=decodeURIComponent(D)),X=-1;for(var z=0;z<e.length;z++){var ne=O.indexOf(e[z]);ne!==-1&&(X===-1||ne<X)&&(X=ne)}X===-1&&(X=O.length),this.host=O.slice(0,X),O=O.slice(X),this.parseHost(),this.hostname=this.hostname||"";var P=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!P)for(var Y=this.hostname.split(/\./),z=0,be=Y.length;z<be;z++){var te=Y[z];if(te&&!te.match(f)){for(var we="",K=0,N=te.length;K<N;K++)te.charCodeAt(K)>127?we+="x":we+=te[K];if(!we.match(f)){var ie=Y.slice(0,z),H=Y.slice(z+1),V=te.match(d);V&&(ie.push(V[1]),H.unshift(V[2])),H.length&&(O="/"+H.join(".")+O),this.hostname=ie.join(".");break}}}this.hostname.length>o?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=y.toASCII(this.hostname));var Q=this.port?":"+this.port:"",ye=this.hostname||"";this.host=ye+Q,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),O[0]!=="/"&&(O="/"+O))}if(!b[B])for(var z=0,be=n.length;z<be;z++){var se=n[z];if(O.indexOf(se)!==-1){var M=encodeURIComponent(se);M===se&&(M=escape(se)),O=O.split(se).join(M)}}var F=O.indexOf("#");F!==-1&&(this.hash=O.substr(F),O=O.slice(0,F));var ee=O.indexOf("?");if(ee!==-1?(this.search=O.substr(ee),this.query=O.substr(ee+1),A&&(this.query=g.parse(this.query)),O=O.slice(0,ee)):A&&(this.search="",this.query={}),O&&(this.pathname=O),p[B]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Q=this.pathname||"",he=this.search||"";this.path=Q+he}return this.href=this.format(),this};function h(m){return typeof m=="string"&&(m=_(m)),m instanceof c?m.format():c.prototype.format.call(m)}c.prototype.format=function(){var m=this.auth||"";m&&(m=encodeURIComponent(m),m=m.replace(/%3A/i,":"),m+="@");var A=this.protocol||"",I=this.pathname||"",T=this.hash||"",R=!1,C="";this.host?R=m+this.host:this.hostname&&(R=m+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(R+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(C=g.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var U=this.search||C&&"?"+C||"";return A&&A.substr(-1)!==":"&&(A+=":"),this.slashes||(!A||p[A])&&R!==!1?(R="//"+(R||""),I&&I.charAt(0)!=="/"&&(I="/"+I)):R||(R=""),T&&T.charAt(0)!=="#"&&(T="#"+T),U&&U.charAt(0)!=="?"&&(U="?"+U),I=I.replace(/[?#]/g,function(O){return encodeURIComponent(O)}),U=U.replace("#","%23"),A+R+I+U+T};function w(m,A){return _(m,!1,!0).resolve(A)}c.prototype.resolve=function(m){return this.resolveObject(_(m,!1,!0)).format()};function E(m,A){return m?_(m,!1,!0).resolveObject(A):A}return c.prototype.resolveObject=function(m){if(typeof m=="string"){var A=new c;A.parse(m,!1,!0),m=A}for(var I=new c,T=Object.keys(this),R=0;R<T.length;R++){var C=T[R];I[C]=this[C]}if(I.hash=m.hash,m.href==="")return I.href=I.format(),I;if(m.slashes&&!m.protocol){for(var U=Object.keys(m),O=0;O<U.length;O++){var L=U[O];L!=="protocol"&&(I[L]=m[L])}return p[I.protocol]&&I.hostname&&!I.pathname&&(I.pathname="/",I.path=I.pathname),I.href=I.format(),I}if(m.protocol&&m.protocol!==I.protocol){if(!p[m.protocol]){for(var $=Object.keys(m),B=0;B<$.length;B++){var oe=$[B];I[oe]=m[oe]}return I.href=I.format(),I}if(I.protocol=m.protocol,!m.host&&!v[m.protocol]){for(var be=(m.pathname||"").split("/");be.length&&!(m.host=be.shift()););m.host||(m.host=""),m.hostname||(m.hostname=""),be[0]!==""&&be.unshift(""),be.length<2&&be.unshift(""),I.pathname=be.join("/")}else I.pathname=m.pathname;if(I.search=m.search,I.query=m.query,I.host=m.host||"",I.auth=m.auth,I.hostname=m.hostname||m.host,I.port=m.port,I.pathname||I.search){var X=I.pathname||"",z=I.search||"";I.path=X+z}return I.slashes=I.slashes||m.slashes,I.href=I.format(),I}var ne=I.pathname&&I.pathname.charAt(0)==="/",D=m.host||m.pathname&&m.pathname.charAt(0)==="/",Z=D||ne||I.host&&m.pathname,P=Z,Y=I.pathname&&I.pathname.split("/")||[],be=m.pathname&&m.pathname.split("/")||[],te=I.protocol&&!p[I.protocol];if(te&&(I.hostname="",I.port=null,I.host&&(Y[0]===""?Y[0]=I.host:Y.unshift(I.host)),I.host="",m.protocol&&(m.hostname=null,m.port=null,m.host&&(be[0]===""?be[0]=m.host:be.unshift(m.host)),m.host=null),Z=Z&&(be[0]===""||Y[0]==="")),D)I.host=m.host||m.host===""?m.host:I.host,I.hostname=m.hostname||m.hostname===""?m.hostname:I.hostname,I.search=m.search,I.query=m.query,Y=be;else if(be.length)Y||(Y=[]),Y.pop(),Y=Y.concat(be),I.search=m.search,I.query=m.query;else if(m.search!=null){if(te){I.host=Y.shift(),I.hostname=I.host;var we=I.host&&I.host.indexOf("@")>0?I.host.split("@"):!1;we&&(I.auth=we.shift(),I.hostname=we.shift(),I.host=I.hostname)}return I.search=m.search,I.query=m.query,(I.pathname!==null||I.search!==null)&&(I.path=(I.pathname?I.pathname:"")+(I.search?I.search:"")),I.href=I.format(),I}if(!Y.length)return I.pathname=null,I.search?I.path="/"+I.search:I.path=null,I.href=I.format(),I;for(var K=Y.slice(-1)[0],N=(I.host||m.host||Y.length>1)&&(K==="."||K==="..")||K==="",ie=0,H=Y.length;H>=0;H--)K=Y[H],K==="."?Y.splice(H,1):K===".."?(Y.splice(H,1),ie++):ie&&(Y.splice(H,1),ie--);if(!Z&&!P)for(;ie--;ie)Y.unshift("..");Z&&Y[0]!==""&&(!Y[0]||Y[0].charAt(0)!=="/")&&Y.unshift(""),N&&Y.join("/").substr(-1)!=="/"&&Y.push("");var V=Y[0]===""||Y[0]&&Y[0].charAt(0)==="/";if(te){I.hostname=V?"":Y.length?Y.shift():"",I.host=I.hostname;var we=I.host&&I.host.indexOf("@")>0?I.host.split("@"):!1;we&&(I.auth=we.shift(),I.hostname=we.shift(),I.host=I.hostname)}return Z=Z||I.host&&Y.length,Z&&!V&&Y.unshift(""),Y.length>0?I.pathname=Y.join("/"):(I.pathname=null,I.path=null),(I.pathname!==null||I.search!==null)&&(I.path=(I.pathname?I.pathname:"")+(I.search?I.search:"")),I.auth=m.auth||I.auth,I.slashes=I.slashes||m.slashes,I.href=I.format(),I},c.prototype.parseHost=function(){var m=this.host,A=a.exec(m);A&&(A=A[0],A!==":"&&(this.port=A.substr(1)),m=m.substr(0,m.length-A.length)),m&&(this.hostname=m)},bt.parse=_,bt.resolve=w,bt.resolveObject=E,bt.format=h,bt.Url=c,bt}function fa(y){if(typeof y=="string")y=new URL(y);else if(!(y instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(y.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Tr?$u(y):zu(y)}function $u(y){let c=y.hostname,l=y.pathname;for(let a=0;a<l.length;a++)if(l[a]==="%"){let u=l.codePointAt(a+2)||32;if(l[a+1]==="2"&&u===102||l[a+1]==="5"&&u===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(l=l.replace(Ia,"\\"),l=decodeURIComponent(l),c!=="")return`\\\\${c}${l}`;{let a=l.codePointAt(1)|32,u=l[2];if(a<Ea||a>Aa||u!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return l.slice(1)}}function zu(y){if(y.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let c=y.pathname;for(let l=0;l<c.length;l++)if(c[l]==="%"){let a=c.codePointAt(l+2)||32;if(c[l+1]==="2"&&a===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(c)}function pa(y){let c=Ti.resolve(y),l=y.charCodeAt(y.length-1);(l===Sa||Tr&&l===_a)&&c[c.length-1]!==Ti.sep&&(c+="/");let a=new URL("file://");return c.includes("%")&&(c=c.replace(xa,"%25")),!Tr&&c.includes("\\")&&(c=c.replace(Ta,"%5C")),c.includes(`
`)&&(c=c.replace(Oa,"%0A")),c.includes("\r")&&(c=c.replace(ka,"%0D")),c.includes("	")&&(c=c.replace(Pa,"%09")),a.pathname=c,a}var da,mr,Oi,vr,wr,ki,_r,Pi,Sr,Ri,Er,Ci,Ar,Mi,Ir,ji,bt,Ni,We,es,ga,ya,ba,ma,va,wa,_a,Sa,Ea,Aa,Tr,Ia,xa,Ta,Oa,ka,Pa,Vu=Ve(()=>{le(),ce(),ue(),lu(),Au(),Bu(),ua(),da=Object.freeze(Object.create(null)),mr={},Oi=!1,vr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,wr={},ki=!1,_r={},Pi=!1,Sr={},Ri=!1,Er={},Ci=!1,Ar={},Mi=!1,Ir={},ji=!1,bt={},Ni=!1,We=qu(),We.parse,We.resolve,We.resolveObject,We.format,We.Url,es=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,We.URL=typeof URL<"u"?URL:null,We.pathToFileURL=pa,We.fileURLToPath=fa,ga=We.Url,ya=We.format,ba=We.resolve,ma=We.resolveObject,va=We.parse,wa=We.URL,_a=92,Sa=47,Ea=97,Aa=122,Tr=es==="win32",Ia=/\//g,xa=/%/g,Ta=/\\/g,Oa=/\n/g,ka=/\r/g,Pa=/\t/g}),Ku=pe((y,c)=>{"use strict";le(),ce(),ue(),c.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Gi=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"__esModule",{value:!0}),y.BufferedDuplex=void 0,y.writev=a;var c=Ot(),l=(Ue(),Re(Be));function a(r,t){let n=new Array(r.length);for(let e=0;e<r.length;e++)typeof r[e].chunk=="string"?n[e]=l.Buffer.from(r[e].chunk,"utf8"):n[e]=r[e].chunk;this._write(l.Buffer.concat(n),"binary",t)}var u=class extends c.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(r,t,n){super({objectMode:!0}),this.proxy=t,this.socket=n,this.writeQueue=[],r.objectMode||(this._writev=a.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",e=>{!this.destroyed&&this.readable&&this.push(e)})}_read(r){this.proxy.read(r)}_write(r,t,n){this.isSocketOpen?this.writeToProxy(r,t,n):this.writeQueue.push({chunk:r,encoding:t,cb:n})}_final(r){this.writeQueue=[],this.proxy.end(r)}_destroy(r,t){this.writeQueue=[],this.proxy.destroy(),t(r)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(r,t,n){this.proxy.write(r,t)===!1?this.proxy.once("drain",n):n()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:r,encoding:t,cb:n}=this.writeQueue.shift();this.writeToProxy(r,t,n)}}};y.BufferedDuplex=u}),er=pe(y=>{"use strict";le(),ce(),ue();var c=y&&y.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(y,"__esModule",{value:!0}),y.streamBuilder=y.browserStreamBuilder=void 0;var l=(Ue(),Re(Be)),a=c(Ku()),u=c(ut()),r=Ot(),t=c(Mr()),n=Gi(),e=(0,u.default)("mqttjs:ws"),i=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function o(_,h){let w=`${_.protocol}://${_.hostname}:${_.port}${_.path}`;return typeof _.transformWsUrl=="function"&&(w=_.transformWsUrl(w,_,h)),w}function f(_){let h=_;return _.port||(_.protocol==="wss"?h.port=443:h.port=80),_.path||(h.path="/"),_.wsOptions||(h.wsOptions={}),!t.default&&!_.forceNativeWebSocket&&_.protocol==="wss"&&i.forEach(w=>{Object.prototype.hasOwnProperty.call(_,w)&&!Object.prototype.hasOwnProperty.call(_.wsOptions,w)&&(h.wsOptions[w]=_[w])}),h}function d(_){let h=f(_);if(h.hostname||(h.hostname=h.host),!h.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let w=new URL(document.URL);h.hostname=w.hostname,h.port||(h.port=Number(w.port))}return h.objectMode===void 0&&(h.objectMode=!(h.binary===!0||h.binary===void 0)),h}function b(_,h,w){e("createWebSocket"),e(`protocol: ${w.protocolId} ${w.protocolVersion}`);let E=w.protocolId==="MQIsdp"&&w.protocolVersion===3?"mqttv3.1":"mqtt";e(`creating new Websocket for url: ${h} and protocol: ${E}`);let m;return w.createWebsocket?m=w.createWebsocket(h,[E],w):m=new a.default(h,[E],w.wsOptions),m}function v(_,h){let w=h.protocolId==="MQIsdp"&&h.protocolVersion===3?"mqttv3.1":"mqtt",E=o(h,_),m;return h.createWebsocket?m=h.createWebsocket(E,[w],h):m=new WebSocket(E,[w]),m.binaryType="arraybuffer",m}var p=(_,h)=>{e("streamBuilder");let w=f(h);w.hostname=w.hostname||w.host||"localhost";let E=o(w,_),m=b(_,E,w),A=a.default.createWebSocketStream(m,w.wsOptions);return A.url=E,m.on("close",()=>{A.destroy()}),A};y.streamBuilder=p;var g=(_,h)=>{e("browserStreamBuilder");let w,E=d(h).browserBufferSize||1024*512,m=h.browserBufferTimeout||1e3,A=!h.objectMode,I=v(_,h),T=C(h,B,oe);h.objectMode||(T._writev=n.writev.bind(T)),T.on("close",()=>{I.close()});let R=typeof I.addEventListener<"u";I.readyState===I.OPEN?(w=T,w.socket=I):(w=new n.BufferedDuplex(h,T,I),R?I.addEventListener("open",U):I.onopen=U),R?(I.addEventListener("close",O),I.addEventListener("error",L),I.addEventListener("message",$)):(I.onclose=O,I.onerror=L,I.onmessage=$);function C(X,z,ne){let D=new r.Transform({objectMode:X.objectMode});return D._write=z,D._flush=ne,D}function U(){e("WebSocket onOpen"),w instanceof n.BufferedDuplex&&w.socketReady()}function O(X){e("WebSocket onClose",X),w.end(),w.destroy()}function L(X){e("WebSocket onError",X);let z=new Error("WebSocket error");z.event=X,w.destroy(z)}async function $(X){if(!T||!T.readable||!T.writable)return;let{data:z}=X;z instanceof ArrayBuffer?z=l.Buffer.from(z):z instanceof Blob?z=l.Buffer.from(await new Response(z).arrayBuffer()):z=l.Buffer.from(z,"utf8"),T.push(z)}function B(X,z,ne){if(I.bufferedAmount>E){setTimeout(B,m,X,z,ne);return}A&&typeof X=="string"&&(X=l.Buffer.from(X,"utf8"));try{I.send(X)}catch(D){return ne(D)}ne()}function oe(X){I.close(),X()}return w};y.browserStreamBuilder=g}),Qi={};jt(Qi,{Server:()=>Me,Socket:()=>Me,Stream:()=>Me,_createServerHandle:()=>Me,_normalizeArgs:()=>Me,_setSimultaneousAccepts:()=>Me,connect:()=>Me,createConnection:()=>Me,createServer:()=>Me,default:()=>Ra,isIP:()=>Me,isIPv4:()=>Me,isIPv6:()=>Me});function Me(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var Ra,Ca=Ve(()=>{le(),ce(),ue(),Ra={_createServerHandle:Me,_normalizeArgs:Me,_setSimultaneousAccepts:Me,connect:Me,createConnection:Me,createServer:Me,isIP:Me,isIPv4:Me,isIPv6:Me,Server:Me,Socket:Me,Stream:Me}}),Ma=pe((y,c)=>{le(),ce(),ue(),c.exports={}}),ts=pe(y=>{"use strict";le(),ce(),ue();var c=y&&y.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(y,"__esModule",{value:!0});var l=c((Ca(),Re(Qi))),a=c(ut()),u=c(Ma()),r=(0,a.default)("mqttjs:tcp"),t=(n,e)=>{if(e.port=e.port||1883,e.hostname=e.hostname||e.host||"localhost",e.socksProxy)return(0,u.default)(e.hostname,e.port,e.socksProxy,{timeout:e.socksTimeout});let{port:i,path:o}=e,f=e.hostname;return r("port %d and host %s",i,f),l.default.createConnection({port:i,host:f,path:o})};y.default=t}),ja={};jt(ja,{default:()=>Na});var Na,Hu=Ve(()=>{le(),ce(),ue(),Na={}}),rs=pe(y=>{"use strict";le(),ce(),ue();var c=y&&y.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(y,"__esModule",{value:!0});var l=(Hu(),Re(ja)),a=c((Ca(),Re(Qi))),u=c(ut()),r=c(Ma()),t=(0,u.default)("mqttjs:tls");function n(i){let v=i,{host:o,port:f,socksProxy:d}=v,b=jr(v,["host","port","socksProxy"]);if(d!==void 0){let p=(0,r.default)(o,f,d,{timeout:i.socksTimeout});return(0,l.connect)(Ge(Pe({},b),{socket:p}))}return(0,l.connect)(i)}var e=(i,o)=>{o.port=o.port||8883,o.host=o.hostname||o.host||"localhost",a.default.isIP(o.host)===0&&(o.servername=o.host),o.rejectUnauthorized=o.rejectUnauthorized!==!1,delete o.path,t("port %d host %s rejectUnauthorized %b",o.port,o.host,o.rejectUnauthorized);let f=n(o);f.on("secureConnect",()=>{o.rejectUnauthorized&&!f.authorized?f.emit("error",new Error("TLS not authorized")):f.removeListener("error",d)});function d(b){o.rejectUnauthorized&&i.emit("error",b),f.end()}return f.on("error",d),f};y.default=e}),ns=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"__esModule",{value:!0});var c=(Ue(),Re(Be)),l=Ot(),a=Gi(),u,r,t;function n(){let d=new l.Transform;return d._write=(b,v,p)=>{u.send({data:b.buffer,success(){p()},fail(g){p(new Error(g))}})},d._flush=b=>{u.close({success(){b()}})},d}function e(d){d.hostname||(d.hostname="localhost"),d.path||(d.path="/"),d.wsOptions||(d.wsOptions={})}function i(d,b){let v=d.protocol==="wxs"?"wss":"ws",p=`${v}://${d.hostname}${d.path}`;return d.port&&d.port!==80&&d.port!==443&&(p=`${v}://${d.hostname}:${d.port}${d.path}`),typeof d.transformWsUrl=="function"&&(p=d.transformWsUrl(p,d,b)),p}function o(){u.onOpen(()=>{t.socketReady()}),u.onMessage(d=>{let{data:b}=d;b instanceof ArrayBuffer?b=c.Buffer.from(b):b=c.Buffer.from(b,"utf8"),r.push(b)}),u.onClose(()=>{t.emit("close"),t.end(),t.destroy()}),u.onError(d=>{let b=new Error(d.errMsg);t.destroy(b)})}var f=(d,b)=>{if(b.hostname=b.hostname||b.host,!b.hostname)throw new Error("Could not determine host. Specify host manually.");let v=b.protocolId==="MQIsdp"&&b.protocolVersion===3?"mqttv3.1":"mqtt";e(b);let p=i(b,d);u=wx.connectSocket({url:p,protocols:[v]}),r=n(),t=new a.BufferedDuplex(b,r,u),t._destroy=(_,h)=>{u.close({success(){h&&h(_)}})};let g=t.destroy;return t.destroy=(_,h)=>(t.destroy=g,setTimeout(()=>{u.close({fail(){t._destroy(_,h)}})},0),t),o(),t};y.default=f}),is=pe(y=>{"use strict";le(),ce(),ue(),Object.defineProperty(y,"__esModule",{value:!0});var c=(Ue(),Re(Be)),l=Ot(),a=Gi(),u,r,t,n=!1;function e(){let b=new l.Transform;return b._write=(v,p,g)=>{u.sendSocketMessage({data:v.buffer,success(){g()},fail(){g(new Error)}})},b._flush=v=>{u.closeSocket({success(){v()}})},b}function i(b){b.hostname||(b.hostname="localhost"),b.path||(b.path="/"),b.wsOptions||(b.wsOptions={})}function o(b,v){let p=b.protocol==="alis"?"wss":"ws",g=`${p}://${b.hostname}${b.path}`;return b.port&&b.port!==80&&b.port!==443&&(g=`${p}://${b.hostname}:${b.port}${b.path}`),typeof b.transformWsUrl=="function"&&(g=b.transformWsUrl(g,b,v)),g}function f(){n||(n=!0,u.onSocketOpen(()=>{t.socketReady()}),u.onSocketMessage(b=>{if(typeof b.data=="string"){let v=c.Buffer.from(b.data,"base64");r.push(v)}else{let v=new FileReader;v.addEventListener("load",()=>{if(v.result instanceof ArrayBuffer){r.push(c.Buffer.from(v.result));return}r.push(c.Buffer.from(v.result,"utf-8"))}),v.readAsArrayBuffer(b.data)}}),u.onSocketClose(()=>{t.end(),t.destroy()}),u.onSocketError(b=>{t.destroy(b)}))}var d=(b,v)=>{if(v.hostname=v.hostname||v.host,!v.hostname)throw new Error("Could not determine host. Specify host manually.");let p=v.protocolId==="MQIsdp"&&v.protocolVersion===3?"mqttv3.1":"mqtt";i(v);let g=o(v,b);return u=v.my,u.connectSocket({url:g,protocols:p}),r=e(),t=new a.BufferedDuplex(v,r,u),f(),t};y.default=d}),Gu=pe(y=>{"use strict";le(),ce(),ue();var c=y&&y.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(y,"__esModule",{value:!0}),y.connectAsync=o;var l=c(ut()),a=c((Vu(),Re(ca))),u=c(Gn()),r=c(Mr());typeof Ce?.nextTick!="function"&&(Ce.nextTick=setImmediate);var t=(0,l.default)("mqttjs"),n=null;function e(f){let d;if(f.auth)if(d=f.auth.match(/^(.+):(.+)$/),d){let[,b,v]=d;f.username=b,f.password=v}else f.username=f.auth}function i(f,d){if(t("connecting to an MQTT broker..."),typeof f=="object"&&!d&&(d=f,f=""),d=d||{},f&&typeof f=="string"){let p=a.default.parse(f,!0),g={};if(p.port!=null&&(g.port=Number(p.port)),g.host=p.hostname,g.query=p.query,g.auth=p.auth,g.protocol=p.protocol,g.path=p.path,d=Pe(Pe({},g),d),!d.protocol)throw new Error("Missing protocol");d.protocol=d.protocol.replace(/:$/,"")}if(d.unixSocket=d.unixSocket||d.protocol?.includes("+unix"),d.unixSocket?d.protocol=d.protocol.replace("+unix",""):!d.protocol?.startsWith("ws")&&!d.protocol?.startsWith("wx")&&delete d.path,e(d),d.query&&typeof d.query.clientId=="string"&&(d.clientId=d.query.clientId),r.default||d.unixSocket?d.socksProxy=void 0:d.socksProxy===void 0&&typeof Ce<"u"&&(d.socksProxy=Ce.env.MQTTJS_SOCKS_PROXY),d.cert&&d.key)if(d.protocol){if(["mqtts","wss","wxs","alis"].indexOf(d.protocol)===-1)switch(d.protocol){case"mqtt":d.protocol="mqtts";break;case"ws":d.protocol="wss";break;case"wx":d.protocol="wxs";break;case"ali":d.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${d.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(n||(n={},!r.default&&!d.forceNativeWebSocket?(n.ws=er().streamBuilder,n.wss=er().streamBuilder,n.mqtt=ts().default,n.tcp=ts().default,n.ssl=rs().default,n.tls=n.ssl,n.mqtts=rs().default):(n.ws=er().browserStreamBuilder,n.wss=er().browserStreamBuilder,n.wx=ns().default,n.wxs=ns().default,n.ali=is().default,n.alis=is().default)),!n[d.protocol]){let p=["mqtts","wss"].indexOf(d.protocol)!==-1;d.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((g,_)=>p&&_%2===0?!1:typeof n[g]=="function")[0]}if(d.clean===!1&&!d.clientId)throw new Error("Missing clientId for unclean clients");d.protocol&&(d.defaultProtocol=d.protocol);function b(p){return d.servers&&((!p._reconnectCount||p._reconnectCount===d.servers.length)&&(p._reconnectCount=0),d.host=d.servers[p._reconnectCount].host,d.port=d.servers[p._reconnectCount].port,d.protocol=d.servers[p._reconnectCount].protocol?d.servers[p._reconnectCount].protocol:d.defaultProtocol,d.hostname=d.host,p._reconnectCount++),t("calling streambuilder for",d.protocol),n[d.protocol](p,d)}let v=new u.default(b,d);return v.on("error",()=>{}),v}function o(f,d,b=!0){return new Promise((v,p)=>{let g=i(f,d),_={connect:w=>{h(),v(g)},end:()=>{h(),v(g)},error:w=>{h(),g.end(),p(w)}};b===!1&&(_.close=()=>{_.error(new Error("Couldn't connect to server"))});function h(){Object.keys(_).forEach(w=>{g.off(w,_[w])})}Object.keys(_).forEach(w=>{g.on(w,_[w])})})}y.default=i}),os=pe(y=>{"use strict";le(),ce(),ue();var c=y&&y.__createBinding||(Object.create?function(b,v,p,g){g===void 0&&(g=p);var _=Object.getOwnPropertyDescriptor(v,p);(!_||("get"in _?!v.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return v[p]}}),Object.defineProperty(b,g,_)}:function(b,v,p,g){g===void 0&&(g=p),b[g]=v[p]}),l=y&&y.__setModuleDefault||(Object.create?function(b,v){Object.defineProperty(b,"default",{enumerable:!0,value:v})}:function(b,v){b.default=v}),a=y&&y.__importStar||(function(){var b=function(v){return b=Object.getOwnPropertyNames||function(p){var g=[];for(var _ in p)Object.prototype.hasOwnProperty.call(p,_)&&(g[g.length]=_);return g},b(v)};return function(v){if(v&&v.__esModule)return v;var p={};if(v!=null)for(var g=b(v),_=0;_<g.length;_++)g[_]!=="default"&&c(p,v,g[_]);return l(p,v),p}})(),u=y&&y.__exportStar||function(b,v){for(var p in b)p!=="default"&&!Object.prototype.hasOwnProperty.call(v,p)&&c(v,b,p)},r=y&&y.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(y,"__esModule",{value:!0}),y.ReasonCodes=y.KeepaliveManager=y.UniqueMessageIdProvider=y.DefaultMessageIdProvider=y.Store=y.MqttClient=y.connectAsync=y.connect=y.Client=void 0;var t=r(Gn());y.MqttClient=t.default;var n=r(Js());y.DefaultMessageIdProvider=n.default;var e=r(eu());y.UniqueMessageIdProvider=e.default;var i=r(js());y.Store=i.default;var o=a(Gu());y.connect=o.default,Object.defineProperty(y,"connectAsync",{enumerable:!0,get:function(){return o.connectAsync}});var f=r(ia());y.KeepaliveManager=f.default,y.Client=t.default,u(Gn(),y),u(Bt(),y);var d=Rr();Object.defineProperty(y,"ReasonCodes",{enumerable:!0,get:function(){return d.ReasonCodes}})}),Qu=pe(y=>{le(),ce(),ue();var c=y&&y.__createBinding||(Object.create?function(t,n,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(n,e);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[e]}}),Object.defineProperty(t,i,o)}:function(t,n,e,i){i===void 0&&(i=e),t[i]=n[e]}),l=y&&y.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),a=y&&y.__importStar||(function(){var t=function(n){return t=Object.getOwnPropertyNames||function(e){var i=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[i.length]=o);return i},t(n)};return function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var i=t(n),o=0;o<i.length;o++)i[o]!=="default"&&c(e,n,i[o]);return l(e,n),e}})(),u=y&&y.__exportStar||function(t,n){for(var e in t)e!=="default"&&!Object.prototype.hasOwnProperty.call(n,e)&&c(n,t,e)};Object.defineProperty(y,"__esModule",{value:!0});var r=a(os());y.default=r,u(os(),y)}),Yu=Qu();export{Yu as default};
