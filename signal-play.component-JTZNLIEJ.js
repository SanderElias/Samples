import{a as k}from"./chunk-TSSCPVME.js";import{k as j}from"./chunk-IBCCEPDQ.js";import{$ as g,Bb as d,Cb as p,Db as h,Kb as b,Vb as m,Wb as v,Za as f,cc as w,eb as I,ec as $,fa as c,fc as P,ha as S,hb as x,n as y,sc as u,uc as _,xa as C}from"./chunk-L7DZHDME.js";import"./chunk-KAT7YFEL.js";var E=r=>typeof r?.then=="function";var U=r=>r&&typeof r[Symbol.asyncIterator]=="function";var D=(r,F,t)=>{let e=I({value:F,error:void 0});try{t=t??c(C)}catch{}if(!t)throw new Error("destroyRef is mandatory when used outside a injection context");let i;t.onDestroy(()=>{s?.unsubscribe(),M.destroy(),i?.abort()});let s,o=n=>{if(n.aborted)throw s?.unsubscribe(),new Error("aborted")},M=_(async()=>{try{i?.abort(),i=new AbortController;let n=i.signal,a=r(n);if(o(n),y(a))s=a.subscribe({next:l=>{o(n),e.set({value:l,error:void 0})},error:l=>{o(n),e.set({value:void 0,error:l})}});else if(E(a)){let l=await a;o(n),e.set({value:l,error:void 0})}else if(U(a))for await(let l of a)o(n),e.set({value:l,error:void 0});else o(n),e.set({value:a,error:void 0})}catch(n){n.message!=="aborted"&&e.set({value:void 0,error:n})}},{manualCleanup:!0,allowSignalWrites:!0});return u(()=>{let n=e();if(n.error)throw n.error;return n.value})};var A=(()=>{class r{constructor(){this.users=c(k),this.$users=D(()=>this.users.allUsers$,[]),this.getUser=t=>this.$users()?.find(i=>i.id===t),this.getRelative=(t,e=1)=>{let i=this.$users()||[],s=i.findIndex(o=>o.id===t);return s===-1?i[0]?.id:s+e<=0||s+e>=i.length?t:i[s+e].id},this.$lastId=u(()=>{let t=this.$users();return t&&t.length>0?t.at(-1).id:-2})}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275prov=g({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Z=(()=>{class r{constructor(){this.sps=c(A),this.id=x(""),this.$user=u(()=>{let t=this.sps.getUser(this.id());return t||this.sps.$users()[0]}),this.$availableUserCount=u(()=>this.sps.$users().length),this.relId=(t=1)=>{let e=this.sps.getRelative(this.id(),t);return e||this.id()}}next(){this.id.set(this.relId(1))}prev(){this.id.set(this.relId(-1))}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275cmp=S({type:r,selectors:[["se-signal-play"]],inputs:{id:[1,"id"]},outputs:{id:"idChange"},standalone:!0,features:[w],decls:12,vars:4,consts:[[3,"click"]],template:function(e,i){e&1&&(d(0,"h3"),m(1),p(),h(2,"hr"),d(3,"pre")(4,"code"),m(5),$(6,"json"),p()(),h(7,"hr"),d(8,"button",0),b("click",function(){return i.next()}),m(9,"next"),p(),d(10,"button",0),b("click",function(){return i.prev()}),m(11,"prev"),p()),e&2&&(f(),v(i.$availableUserCount()),f(4),v(P(6,2,i.$user())))},dependencies:[j],styles:["[_nghost-%COMP%]{display:block}"]})}}return r})();export{Z as default};
