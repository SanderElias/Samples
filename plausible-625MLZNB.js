import"./chunk-C6Q5SG76.js";var k,c,d,o={};function F(e){return Object.assign(e,{autoCapturePageviews:e.autoCapturePageviews!==!1,logging:e.logging!==!1,bindToWindow:e.bindToWindow!==!1})}function j(e){if(o.isInitialized)throw Error("plausible.init() can only be called once");if(!e||!e.domain)throw Error("plausible.init(): domain argument is required");e.endpoint||(e.endpoint="https://plausible.io/api/event"),Object.assign(o,e),o.isInitialized=!0}function C(e,n,t){window.fetch&&fetch(e,{method:"POST",headers:{"Content-Type":"text/plain"},keepalive:!0,body:JSON.stringify(n)}).then(function(i){t&&t.callback&&t.callback({status:i.status})}).catch(function(i){t&&t.callback&&t.callback({error:i})})}var b=!1,P=location.href,T={},y=-1,f=0,m=0;function $(){b&&(_(),c=v(),d=E())}function A(e){k=!1,P=e.u,T=e.p,y=-1,m=0,f=Date.now(),B()}function q(){k=!0}function _(){var e=H();if(!k&&(y<d||e>=3e3)){y=d;var n={n:"engagement",sd:Math.round(d/c*100),d:o.domain,u:P,p:T,e,v:33};f=0,m=0,o.hashBasedRouting&&(n.h=1),C(o.endpoint,n)}}function g(){document.visibilityState==="visible"&&document.hasFocus()&&f===0?f=Date.now():document.visibilityState!=="hidden"&&document.hasFocus()||(m=H(),f=0,_())}function B(){b||(document.addEventListener("visibilitychange",g),window.addEventListener("blur",g),window.addEventListener("focus",g),b=!0)}function H(){return f?m+(Date.now()-f):m}function v(){var e=document.body||{},n=document.documentElement||{};return Math.max(e.scrollHeight||0,e.offsetHeight||0,e.clientHeight||0,n.scrollHeight||0,n.offsetHeight||0,n.clientHeight||0)}function E(){var e=document.body||{},n=document.documentElement||{},t=window.innerHeight||n.clientHeight||0,i=window.scrollY||n.scrollTop||e.scrollTop||0;return c<=t?c:i+t}function K(){c=v(),d=E(),window.addEventListener("load",function(){c=v();var e=0,n=setInterval(function(){c=v(),++e==15&&clearInterval(n)},200)}),document.addEventListener("scroll",function(){c=v();var e=E();e>d&&(d=e)})}function p(e,n){if(!o.isInitialized)throw Error("plausible.track() can only be called after plausible.init()");var t,i=e==="pageview";if(i&&$(),!o.captureOnLocalhost){if(/^localhost$|^127(\.[0-9]+){0,2}\.[0-9]+$|^\[::1?\]$/.test(location.hostname)||location.protocol==="file:")return h(e,n,"localhost");if((window._phantom||window.__nightmare||window.navigator.webdriver||window.Cypress)&&!window.__plausible)return h(e,n)}try{if(window.localStorage.plausible_ignore==="true")return h(e,n,"localStorage flag")}catch{}var r={};r.n=e,r.v=33;var a=n&&(n.u||n.url);if(r.u=a||location.href,r.d=o.domain,r.r=document.referrer||null,n&&n.props&&(r.p=n.props),n&&n.interactive===!1&&(r.i=!1),n&&n.revenue&&(r.$=n.revenue),o.customProperties){var t=o.customProperties;typeof t=="function"&&(t=o.customProperties(e)),typeof t=="object"&&(r.p=Object.assign({},t,r.p))}if(o.hashBasedRouting&&(r.h=1),typeof o.transformRequest=="function"&&!(r=o.transformRequest(r)))return h(e,n,"transformRequest");i&&A(r),C(o.endpoint,r,n)}function h(e,n,t){t&&o.logging&&console.warn("Ignoring Event: "+t),n&&n.callback&&n.callback(),e==="pageview"&&q()}var W=["pdf","xlsx","docx","txt","rtf","csv","exe","key","pps","ppt","pptx","7z","pkg","rar","gz","zip","avi","mov","mp4","mpeg","wmv","midi","mp3","wav","wma","dmg"],R=1,I=3,O=W;function M(e){for(;e&&(e.tagName===void 0||!z(e)||!e.href);)e=e.parentNode;return e}function z(e){return e&&e.tagName&&e.tagName.toLowerCase()==="a"}function D(e){if(e.type!=="auxclick"||e.button===R){var n=M(e.target),t=n&&typeof n.href=="string"&&n.href.split("?")[0];if(!S(n,0)){if(o.outboundLinks&&U(n))return L(e,n,{name:"Outbound Link: Click",props:{url:n.href}});if(o.fileDownloads&&Y(t))return L(e,n,{name:"File Download",props:{url:t}})}}}function L(e,n,t){var i;(i={props:t.props}).revenue=t.revenue,p(t.name,i)}function U(e){return e&&typeof e.href=="string"&&e.host&&e.host!==location.host}function Y(e){if(!e)return!1;var n=e.split(".").pop();return O.some(function(t){return t===n})}function x(e){var n=e&&e.classList;if(n){for(var t=0;t<n.length;t++)if(n.item(t).match(/plausible-event-name(=|--)(.+)/))return!0}return!1}function S(e,n){return!!e&&!(n>I)&&(!!x(e)||S(e.parentNode,n+1))}function N(e){var n=x(e)?e:e&&e.parentNode,t={name:null,props:{}};t.revenue={};var i=n&&n.classList;if(!i)return t;for(var r=0;r<i.length;r++){var a,u,s=i.item(r),l=s.match(/plausible-event-(.+)(=|--)(.+)/);l&&(a=l[1],u=l[3].replace(/\+/g," "),a.toLowerCase()=="name"?t.name=u:t.props[a]=u);var w=s.match(/plausible-revenue-(.+)(=|--)(.+)/);w&&(a=w[1],u=w[3],t.revenue[a]=u)}return t}function J(){function e(n){if(n.type!=="auxclick"||n.button===R){for(var t,i,r,a=n.target,u=0;u<=I&&a;u++){if((t=a)&&t.tagName&&t.tagName.toLowerCase()==="form")return;z(a)&&(i=a),x(a)&&(r=a),a=a.parentNode}if(r){var s=N(r);if(i)s.props.url=i.href,L(n,i,s);else{var l={};l.props=s.props,l.revenue=s.revenue,p(s.name,l)}}}}document.addEventListener("click",D),document.addEventListener("auxclick",D),o.fileDownloads&&typeof o.fileDownloads=="object"&&Array.isArray(o.fileDownloads.fileExtensions)&&(O=o.fileDownloads.fileExtensions),o.formSubmissions&&document.addEventListener("submit",function(n){(n.target.hasAttribute("novalidate")||n.target.checkValidity())&&(S(n.target,0)||p("Form: Submission"))},!0),document.addEventListener("submit",function(n){var t,i=N(n.target);i.name&&((t={props:i.props}).revenue=i.revenue,p(i.name,t))}),document.addEventListener("click",e),document.addEventListener("auxclick",e)}function V(e){function n(u){(o.hashBasedRouting||!u||t!==location.pathname)&&(t=location.pathname,e("pageview"))}var t,i=function(){n(!0)};if(o.hashBasedRouting)window.addEventListener("hashchange",i);else{var r=window.history;if(r.pushState){var a=r.pushState;r.pushState=function(){a.apply(this,arguments),i()},window.addEventListener("popstate",i)}}document.visibilityState==="hidden"||document.visibilityState==="prerender"?document.addEventListener("visibilitychange",function(){t||document.visibilityState!=="visible"||n()}):n(),window.addEventListener("pageshow",function(u){u.persisted&&n()})}function G(e){j(F(e||{})),K(),o.autoCapturePageviews&&V(p),J(),o.bindToWindow&&typeof window<"u"&&(window.plausible=p,window.plausible.s="npm",window.plausible.v=33,window.plausible.l=!0)}export{W as DEFAULT_FILE_TYPES,G as init,p as track};
