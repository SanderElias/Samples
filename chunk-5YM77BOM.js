import{X as y,Z as h,c as b,db as c,fa as i,mc as f,pa as u,za as o}from"./chunk-BFR4IEYA.js";function v(r){r||(u(v),r=i(o));let e=new b(t=>r.onDestroy(t.next.bind(t)));return t=>t.pipe(y(e))}function g(r,e){let t=!e?.manualCleanup;t&&!e?.injector&&u(g);let a=t?e?.injector?.get(o)??i(o):null,l=m(e?.equal),s;e?.requireSync?s=c({kind:0},{equal:l}):s=c({kind:1,value:e?.initialValue},{equal:l});let d=r.subscribe({next:n=>s.set({kind:1,value:n}),error:n=>{if(e?.rejectErrors)throw n;s.set({kind:2,error:n})}});return a?.onDestroy(d.unsubscribe.bind(d)),f(()=>{let n=s();switch(n.kind){case 1:return n.value;case 2:throw n.error;case 0:throw new h(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}},{equal:e?.equal})}function m(r=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&r(e.value,t.value)}export{v as a,g as b};
