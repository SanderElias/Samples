"use strict";(self.webpackChunksamples=self.webpackChunksamples||[]).push([[397],{5557:(M,y,e)=>{e.d(y,{t:()=>g});var p=e(8023),P=e(2069);class g extends p.x{constructor(a=1/0,l=1/0,s=P.l){super(),this._bufferSize=a,this._windowTime=l,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=l===1/0,this._bufferSize=Math.max(1,a),this._windowTime=Math.max(1,l)}next(a){const{isStopped:l,_buffer:s,_infiniteTimeWindow:c,_timestampProvider:u,_windowTime:f}=this;l||(s.push(a),!c&&s.push(u.now()+f)),this._trimBuffer(),super.next(a)}_subscribe(a){this._throwIfClosed(),this._trimBuffer();const l=this._innerSubscribe(a),{_infiniteTimeWindow:s,_buffer:c}=this,u=c.slice();for(let f=0;f<u.length&&!a.closed;f+=s?1:2)a.next(u[f]);return this._checkFinalizedStatuses(a),l}_trimBuffer(){const{_bufferSize:a,_timestampProvider:l,_buffer:s,_infiniteTimeWindow:c}=this,u=(c?1:2)*a;if(a<1/0&&u<s.length&&s.splice(0,s.length-u),!c){const f=l.now();let h=0;for(let t=1;t<s.length&&s[t]<=f;t+=2)h=t;h&&s.splice(0,h+1)}}}},3151:(M,y,e)=>{e.d(y,{b:()=>m});var p=e(2844),P=e(2085),g=e(8499);function m(a,l=p.z){return(0,P.e)((s,c)=>{let u=null,f=null,h=null;const t=()=>{if(u){u.unsubscribe(),u=null;const o=f;f=null,c.next(o)}};function i(){const o=h+a,n=l.now();if(n<o)return u=this.schedule(void 0,o-n),void c.add(u);t()}s.subscribe((0,g.x)(c,o=>{f=o,h=l.now(),u||(u=l.schedule(i,a),c.add(u))},()=>{t(),c.complete()},void 0,()=>{f=u=null}))})}},2147:(M,y,e)=>{e.d(y,{x:()=>m});var p=e(8330),P=e(2085),g=e(8499);function m(l,s=p.y){return l=null!=l?l:a,(0,P.e)((c,u)=>{let f,h=!0;c.subscribe((0,g.x)(u,t=>{const i=s(t);(h||!l(f,i))&&(h=!1,f=i,u.next(t))}))})}function a(l,s){return l===s}},2993:(M,y,e)=>{e.d(y,{j:()=>P});var p=e(7969);function P(...g){const m=g.length;if(0===m)throw new Error("list of properties cannot be empty.");return(0,p.U)(a=>{let l=a;for(let s=0;s<m;s++){const c=null==l?void 0:l[g[s]];if(void 0===c)return;l=c}return l})}},6466:(M,y,e)=>{e.d(y,{d:()=>g});var p=e(5557),P=e(815);function g(m,a,l){let s,c=!1;return m&&"object"==typeof m?({bufferSize:s=1/0,windowTime:a=1/0,refCount:c=!1,scheduler:l}=m):s=null!=m?m:1/0,(0,P.B)({connector:()=>new p.t(s,a,l),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}},2844:(M,y,e)=>{e.d(y,{P:()=>f,z:()=>u});var p=e(4813);class P extends p.w0{constructor(t,i){super()}schedule(t,i=0){return this}}const g={setInterval(h,t,...i){const{delegate:o}=g;return(null==o?void 0:o.setInterval)?o.setInterval(h,t,...i):setInterval(h,t,...i)},clearInterval(h){const{delegate:t}=g;return((null==t?void 0:t.clearInterval)||clearInterval)(h)},delegate:void 0};var m=e(8308),l=e(2069);class s{constructor(t,i=s.now){this.schedulerActionCtor=t,this.now=i}schedule(t,i=0,o){return new this.schedulerActionCtor(this,t).schedule(o,i)}}s.now=l.l.now;const u=new class c extends s{constructor(t,i=s.now){super(t,i),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:i}=this;if(this._active)return void i.push(t);let o;this._active=!0;do{if(o=t.execute(t.state,t.delay))break}while(t=i.shift());if(this._active=!1,o){for(;t=i.shift();)t.unsubscribe();throw o}}}(class a extends P{constructor(t,i){super(t,i),this.scheduler=t,this.work=i,this.pending=!1}schedule(t,i=0){if(this.closed)return this;this.state=t;const o=this.id,n=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(n,o,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(n,this.id,i),this}requestAsyncId(t,i,o=0){return g.setInterval(t.flush.bind(t,this),o)}recycleAsyncId(t,i,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return i;g.clearInterval(i)}execute(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(t,i);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,i){let n,o=!1;try{this.work(t)}catch(I){o=!0,n=I||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:t,scheduler:i}=this,{actions:o}=i;this.work=this.state=this.scheduler=null,this.pending=!1,(0,m.P)(o,this),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,super.unsubscribe()}}}),f=u},2069:(M,y,e)=>{e.d(y,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},9397:(M,y,e)=>{e.r(y),e.d(y,{TumblrModule:()=>w});var p=e(1048),P=e(3290),g=e(4121),m=e(9018),a=e(985),l=e(4581),s=e(4970),c=e(1528),u=e(3568),f=e(2993),h=e(7969),t=e(6466),i=e(3151),o=e(2147),n=e(9724),I=e(9725);function A(r,S){if(1&r){const d=n.EpF();n.TgZ(0,"article",3),n.NdJ("click",function(){const D=n.CHM(d).index;return n.oxw().switch(D)}),n._UZ(1,"img",4),n.qZA()}if(2&r){const d=S.$implicit,T=S.index,v=n.oxw();n.ekj("large",1===v.largePositions[T])("super",2===v.largePositions[T]),n.xp6(1),n.Q6J("src",null==d.images[0]?null:d.images[0].link,n.LSH)}}let O=(()=>{class r{constructor(d,T){this.http=d,this.ref=T,this.largePositions=Array.from({length:250},()=>Math.random()<.2?1:0),this.searchKey$=new g.X("kitten"),this.results$=this.searchKey$.pipe((0,s.h)(v=>!!v),(0,c.w)(v=>this.http.get(`https://api.imgur.com/3/gallery/t/${v}`,{headers:{Authorization:"Client-ID e972ca06cc4b961"}}).pipe((0,u.K)(D=>m.E))),(0,f.j)("data","items"),(0,s.h)(v=>!!v),(0,h.U)(v=>v.filter(D=>[E.ImageJPEG,E.ImagePNG].includes(D.images&&D.images[0].type))),(0,t.d)(1))}setSearch(d){console.log(d)}switch(d){this.largePositions[d]+=1,this.largePositions[d]>2&&(this.largePositions[d]=0)}ngOnInit(){const d=this.ref.nativeElement;if(d){const T=d.getElementsByTagName("input")[0];(0,a.D)(e.e(480).then(e.t.bind(e,1480,23))).pipe((0,h.U)(({wrapGrid:v})=>v(d.querySelector("#grid"))),(0,c.w)(()=>(0,l.R)(T,"input")),(0,h.U)(v=>v.target.value),(0,i.b)(400),(0,o.x)(),(0,s.h)(v=>v.length>0)).subscribe(this.searchKey$)}}}return r.\u0275fac=function(d){return new(d||r)(n.Y36(I.eN),n.Y36(n.SBq))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-tumblr"]],decls:6,vars:6,consts:[["type","search",3,"value"],["id","grid"],[3,"large","super","click",4,"ngFor","ngForOf"],[3,"click"],["loading","lazy",3,"src"]],template:function(d,T){1&d&&(n.TgZ(0,"div"),n._UZ(1,"input",0),n.ALo(2,"async"),n.qZA(),n.TgZ(3,"div",1),n.YNc(4,A,2,5,"article",2),n.ALo(5,"async"),n.qZA()),2&d&&(n.xp6(1),n.Q6J("value",n.lcZ(2,2,T.searchKey$)),n.xp6(3),n.Q6J("ngForOf",n.lcZ(5,4,T.results$)))},directives:[p.sg],pipes:[p.Ov],styles:["root[_ngcontent-%COMP%] {\n    --image-nth: 3;\n  }\n  [_nghost-%COMP%] {\n    display: block;\n    height: 100%;\n  }\n  #grid[_ngcontent-%COMP%] {\n    display: grid;\n    height: 87vh;\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n    grid-auto-rows: 150px;\n    grid-auto-flow: dense;\n    overflow-x: auto;\n    gap: 4px;\n  }\n\n  .large[_ngcontent-%COMP%] {\n    grid-column: span 2;\n    grid-row: span 2;\n  }\n  .super[_ngcontent-%COMP%] {\n    grid-column: span 4;\n    grid-row: span 4;\n  }\n\n  img[_ngcontent-%COMP%] {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }"]}),r})();var E=(()=>{return(r=E||(E={})).ImageGIF="image/gif",r.ImageJPEG="image/jpeg",r.ImagePNG="image/png",r.VideoMp4="video/mp4",E;var r})();const x=[{path:"",component:O}];let F=(()=>{class r{}return r.\u0275fac=function(d){return new(d||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[[P.Bz.forChild(x)],P.Bz]}),r})(),w=(()=>{class r{}return r.\u0275fac=function(d){return new(d||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[[p.ez,F]]}),r})()}}]);