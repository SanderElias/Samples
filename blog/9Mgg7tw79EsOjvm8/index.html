<!DOCTYPE html><html lang="en" data-beasties-container><head>
    <meta charset="utf-8">
    <title>CSS specificity</title>
    <base href="/">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <style>
      :where(html, body) {
        background-color: var(--surface-1,#333 );
        color: var(--text-1, #eee );
      }
    </style>
  <style>@media(prefers-color-scheme:dark){}@media(prefers-color-scheme:dark){}*,:after,:before{box-sizing:border-box}html{--brand-light: #e30ae7;--text-1-light: var(--gray-8);--text-2-light: var(--gray-7);--surface-1-light: var(--gray-2);--surface-2-light: var(--gray-3);--surface-3-light: var(--gray-4);--surface-4-light: var(--gray-5);--surface-shadow-light: var(--gray-8-hsl);--shadow-strength-light: 2%;--brand-dark: #6200ee;--text-1-dark: var(--gray-2);--text-2-dark: var(--gray-5);--surface-1-dark: var(--gray-11);--surface-2-dark: var(--gray-10);--surface-3-dark: var(--gray-9);--surface-4-dark: var(--gray-8);--surface-shadow-dark: var(--gray-12-hsl);--shadow-strength-dark: 80%;--brand-dim: var(--orange-4);--text-1-dim: var(--gray-3);--text-2-dim: var(--gray-4);--surface-1-dim: var(--gray-8);--surface-2-dim: var(--gray-7);--surface-3-dim: var(--gray-6);--surface-4-dim: var(--gray-5);--surface-shadow-dim: var(--gray-9-hsl);--shadow-strength-dim: 20%;--brand-grape: var(--purple-5);--text-1-grape: var(--purple-9);--text-2-grape: var(--purple-7);--surface-1-grape: var(--purple-0);--surface-2-grape: var(--purple-1);--surface-3-grape: var(--purple-2);--surface-4-grape: var(--purple-3);--surface-shadow-grape: var(--purple-12-hsl);--shadow-strength-grape: 2%;--brand-choco: var(--choco-5);--text-1-choco: var(--choco-1);--text-2-choco: var(--choco-2);--surface-1-choco: var(--choco-12);--surface-2-choco: var(--choco-11);--surface-3-choco: var(--choco-10);--surface-4-choco: var(--choco-9);--surface-shadow-choco: 25deg 65% 11%;--shadow-strength-choco: 50%}:root{interpolate-size:allow-keywords;color-scheme:light;--brand: var(--brand-light);--text-1: var(--text-1-light);--text-2: var(--text-2-light);--surface-1: var(--surface-1-light);--surface-2: var(--surface-2-light);--surface-3: var(--surface-3-light);--surface-4: var(--surface-4-light);--surface-shadow: var(--surface-shadow-light);--shadow-strength: var(--shadow-strength-light)}@media(prefers-color-scheme:dark){:root{color-scheme:dark;--brand: var(--brand-dark);--text-1: var(--text-1-dark);--text-2: var(--text-2-dark);--surface-1: var(--surface-1-dark);--surface-2: var(--surface-2-dim);--surface-3: var(--surface-3-dark);--surface-4: var(--surface-4-dark);--surface-shadow: var(--surface-shadow-dark);--shadow-strength: var(--shadow-strength-dark)}}html{background-color:var(--surface-1);color:var(--text-1)}body{font:18px/1 Roboto,sans-serif;-webkit-font-smoothing:antialiased}
</style><link rel="stylesheet" href="styles-AQGM6CT3.css" media="print" onload="this.media='all'"><noscript><link rel="stylesheet" href="styles-AQGM6CT3.css"></noscript><style ng-app-id="ng">se-blogs{--article-inline-size: 70ch;display:grid;block-size:calc(100dvb - 45px);max-inline-size:98dvs;padding:var(--size-4);overflow-y:auto;padding-inline-end:1rem;grid-template-columns:1fr var(--article-inline-size) auto 1fr;grid-template-rows:auto 1fr auto;grid-template-areas:" . header header . " " . article menu . " " footer footer footer footer ";column-gap:var(--size-3)}@media(width<1050px){se-blogs{grid-template-columns:1fr;grid-template-areas:"header" "article" "menu" "footer";justify-items:center}}se-blogs :where(h1,h2,h3,h4,p,blockquote,ul,table,pre,code){max-inline-size:unset}se-blogs :where(pre,code){white-space:pre-wrap;max-inline-size:unset}se-blogs ::backdrop{backdrop-filter:blur(2px)}se-blogs label{display:flex;flex-direction:column;gap:var(--size-3)}se-blogs h1{grid-area:header;margin-block-end:var(--size-4);text-align:left;text-wrap:balance;max-inline-size:none}se-blogs h2{border-block-end:1px solid}se-blogs article{grid-area:article;margin-inline:auto;max-inline-size:var(--article-inline-size);text-wrap:wrap;text-wrap:pretty}se-blogs article h1:first-child{display:none}se-blogs ul#blog-list{grid-area:menu;display:block;list-style:none}se-blogs p,se-blogs ul,se-blogs blockquote{margin-block-end:var(--size-3)}se-blogs table{margin-block-end:var(--size-5)}se-blogs blockquote{padding:var(--size-2);padding-inline-start:var(--size-3);border-start-end-radius:var(--size-2);border-end-end-radius:var(--size-2);margin-inline:var(--size-4);background-color:var(--surface-2)}se-blogs blockquote p{padding-block:0;margin-block:0}se-blogs blockquote:has(span.icon){display:grid;grid-template-columns:auto 1fr}se-blogs blockquote:has(span.icon) p,se-blogs blockquote:has(span.icon) table{grid-column:2 / 3}se-blogs blockquote>p:has(span.icon){display:grid;grid-column:span 2;grid-template-columns:subgrid;gap:0}se-blogs blockquote>p:has(span.icon) span.icon{grid-column:1 / 2;grid-row:1 / 10;font-size:var(--font-size-5);line-height:1;display:flex;align-items:center;justify-content:center;padding-inline-end:var(--size-3)}se-blogs blockquote>p:has(span.icon) span[data-icon=NOTE]{color:var(--blue-6)}se-blogs a{color:var(--blue-4);cursor:pointer;font-size:inherit;font-weight:700;line-height:inherit;text-decoration:underline;text-decoration-color:var(--blue-4);text-underline-offset:2px}se-blogs a[href]:hover,se-blogs a[href]:focus-visible{color:var(--blue-6)}se-blogs a:visited{color:var(--blue-7)}se-blogs a:visited[href]:hover,se-blogs a:visited[href]:focus-visible{color:var(--blue-9)}se-blogs p{line-height:1.5;margin-block:var(--size-2)}se-blogs :is(p,li):has(>code){line-height:1.7}se-blogs :is(h1,.h1,h2,.h2,h3,.h3,h4,.h4,h5,.h5,h6,.h6){color:var(--text-color-1)}se-blogs :is(h1,.h1,h2,.h2,h3,.h3,h4,.h4,h5,.h5,h6,.h6)+*:not(se-blogs :is(h1,.h1,h2,.h2,h3,.h3,h4,.h4,h5,.h5,h6,.h6)){margin-block-start:0}se-blogs :where(h1,.h1){font-size:var(--font-size-h1, var(--font-size-7));letter-spacing:-.02em;line-height:1.1111111;margin-block:0 .8888889em}se-blogs h2,se-blogs .h2{font-size:var(--font-size-h2, var(--font-size-5, 2rem));letter-spacing:-.02em;line-height:1.3333333;margin-block:1em 1em}se-blogs h3,se-blogs .h3{font-size:var(--font-size-h3, var(--font-size-4, 1.5rem));letter-spacing:-.01em;line-height:1.6;margin-block:1.6em .6em}se-blogs h4,se-blogs .h4{font-size:var(--font-size-h4, var(--font-size-3, 1.25rem));letter-spacing:-.01em;line-height:1.5;margin-block:1.5em .5em}se-blogs h5,se-blogs .h5{font-size:var(--font-size-h5, var(--font-size-2, 1.1rem));line-height:1;margin-block:0 var(--size-1)}se-blogs h6,se-blogs .h6{font-size:var(--font-size-h6, var(--font-size-1, 1rem));line-height:1;margin-block:0 var(--size-1)}se-blogs :where(.overline,hgroup>:where(p,.p):first-of-type:first-child){color:light-dark(oklch(from var(--text-color-2) calc(l/.8) c h),oklch(from var(--text-color-2) calc(l*.75) c h));font-size:var(--font-size-xs);font-weight:500;letter-spacing:.06em;line-height:2.5;text-transform:uppercase}se-blogs hgroup>p{margin:0}se-blogs hgroup>:where(h1,.h1,h2,.h2,h3,.h3,h4,.h4,h5,.h5,h6,.h6){margin-block-end:.4em}se-blogs hgroup+*{margin-block-start:3em}se-blogs hgroup>:where(p,.p):last-of-type:last-child:not(:first-child){color:oklch(from currentColor l c h / 75%);font-size:var(--font-size-lg);line-height:1.6}se-blogs ul:not([class]){list-style-type:disc}se-blogs ol:not([class]){list-style-type:decimal}se-blogs :where(ul,ol):not([class]){display:grid;font-size:inherit;gap:.5em;line-height:inherit;margin-block-start:1.25em;margin-block-end:1.25em;padding-inline-start:1.625em}se-blogs :where(ul,ol):not([class]) li{padding-inline-start:.375em}se-blogs :where(ul ul),se-blogs :where(ul ol),se-blogs :where(ol ul),se-blogs :where(ol ol){margin-block-start:.75em;margin-block-end:.75em}se-blogs :where(dl){font-size:inherit;line-height:inherit;margin-block-start:1.25em;margin-block-end:1.25em}se-blogs :where(dl) dt{margin-block-start:1.25em}se-blogs :where(dl) dd{margin-block-start:.5em;padding-inline-start:1.625em}se-blogs figure{margin-block:2em}se-blogs figure>*{margin-block:0}se-blogs figure figcaption{font-size:.875em;line-height:1.4285714;margin-block-start:.8571429em}se-blogs>:first-child{margin-block-start:0}se-blogs>:last-child{margin-block-end:0}se-blogs hr+*{margin-block-start:0}se-blogs ::details-content{transition:height .75s ease,content-visibility .1s ease allow-discrete;height:0;overflow:clip}se-blogs [open]::details-content{height:auto}@media(prefers-color-scheme:dark){se-blogs pre code.hljs{display:block;overflow-x:auto;padding:1em}se-blogs code.hljs{padding:3px 5px}se-blogs .hljs{background:#1e1e1e;color:#dcdcdc}se-blogs .hljs-keyword,se-blogs .hljs-literal,se-blogs .hljs-name,se-blogs .hljs-symbol{color:#569cd6}se-blogs .hljs-link{color:#569cd6;text-decoration:underline}se-blogs .hljs-built_in,se-blogs .hljs-type{color:#4ec9b0}se-blogs .hljs-class,se-blogs .hljs-number{color:#b8d7a3}se-blogs .hljs-meta .hljs-string,se-blogs .hljs-string{color:#d69d85}se-blogs .hljs-regexp,se-blogs .hljs-template-tag{color:#9a5334}se-blogs .hljs-formula,se-blogs .hljs-function,se-blogs .hljs-params,se-blogs .hljs-subst,se-blogs .hljs-title{color:#dcdcdc}se-blogs .hljs-comment,se-blogs .hljs-quote{color:#57a64a;font-style:italic}se-blogs .hljs-doctag{color:#608b4e}se-blogs .hljs-meta,se-blogs .hljs-meta .hljs-keyword,se-blogs .hljs-tag{color:#9b9b9b}se-blogs .hljs-template-variable,se-blogs .hljs-variable{color:#bd63c5}se-blogs .hljs-attr,se-blogs .hljs-attribute{color:#9cdcfe}se-blogs .hljs-section{color:gold}se-blogs .hljs-emphasis{font-style:italic}se-blogs .hljs-strong{font-weight:700}se-blogs .hljs-bullet,se-blogs .hljs-selector-attr,se-blogs .hljs-selector-class,se-blogs .hljs-selector-id,se-blogs .hljs-selector-pseudo,se-blogs .hljs-selector-tag{color:#d7ba7d}se-blogs .hljs-addition{background-color:#144212;display:inline-block;width:100%}se-blogs .hljs-deletion{background-color:#600;display:inline-block;width:100%}}@media(prefers-color-scheme:light){se-blogs pre code.hljs{display:block;overflow-x:auto;padding:1em}se-blogs code.hljs{padding:3px 5px}se-blogs .hljs{background:#fff;color:#000}se-blogs .hljs-comment,se-blogs .hljs-quote,se-blogs .hljs-variable{color:green}se-blogs .hljs-built_in,se-blogs .hljs-keyword,se-blogs .hljs-name,se-blogs .hljs-selector-tag,se-blogs .hljs-tag{color:#00f}se-blogs .hljs-addition,se-blogs .hljs-attribute,se-blogs .hljs-literal,se-blogs .hljs-section,se-blogs .hljs-string,se-blogs .hljs-template-tag,se-blogs .hljs-template-variable,se-blogs .hljs-title,se-blogs .hljs-type{color:#a31515}se-blogs .hljs-deletion,se-blogs .hljs-meta,se-blogs .hljs-selector-attr,se-blogs .hljs-selector-pseudo{color:#2b91af}se-blogs .hljs-doctag{color:gray}se-blogs .hljs-attr{color:red}se-blogs .hljs-bullet,se-blogs .hljs-link,se-blogs .hljs-symbol{color:#00b0e8}se-blogs .hljs-emphasis{font-style:italic}se-blogs .hljs-strong{font-weight:700}}
</style><style ng-app-id="ng">[_nghost-ng-c3596964052]{display:block;background-color:var(--surface-2);padding:var(--size-4);margin:0;list-style-type:none;inline-size:fit-content;block-size:fit-content;border-radius:var(--border-size-5)}[_nghost-ng-c3596964052]   li[_ngcontent-ng-c3596964052]{margin:0}[_nghost-ng-c3596964052]   li[_ngcontent-ng-c3596964052] + li[_ngcontent-ng-c3596964052]{margin-block-start:var(--size-3)}</style></head>
  <body><!--nghm-->
    <app-root ng-version="21.0.6" ngh="1" ng-server-context="ssg"><router-outlet></router-outlet><se-blogs ngh="0"><!----><h1>CSS specificity</h1><article class="rich-text"><h1>CSS specificity</h1>
<p>I was asked about <code>@layer</code> last week, and it got me thinking about <a target="_blank" rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Guides/Cascade/Specificity">CSS specificity</a>
in general. Why does a question about <code>layers</code> lead me to think about specificity?
Good question! Let get on with it!</p>
<h2>Why is specificity something to think about?</h2>
<p>Well, specifically, because it is the largest source of confusion. The concept is
fairly simple, but it is often misunderstood, or even simply ignored. Ignoring it
is something that is easy to do, because in most cases, it "just works". But
when it doesn't, it can be a nightmare to debug.</p>
<p>BTW, I think "just works" is something that is underappreciated. It is a
testimony to the design of CSS, and browsers, that in most cases, you can write
styles without having to think about specificity. I'll tip my hat to the
designers of CSS for that.</p>
<p>Still, I'm writing about it. So yeah, automagically (not a typo!) handling gets
you only so far.</p>
<h3>the basics of specificity</h3>
<p>Well, I can try to explain, but <a target="_blank" rel="noopener noreferrer" href="https://www.bram.us/about/">Brammus</a> has already
done a great job explaining this in <a target="_blank" rel="noopener noreferrer" href="https://www.bram.us/2022/06/28/the-css-cascade-a-deep-dive-2022-06-09-css-day/">his CSS-day talk on specificity</a>.
So I recommend you watch that. It is does a great job on explaining the problem
with specificity, and how to deal with it. I was lucky enough ti see that one live!
Also the MDN article I linked to above has a great amount of details.</p>
<h3>what is the <em>root</em> problem.</h3>
<p>The root problem is that specificity calculations are not exactly intuitive.
those calculations can have the same result for different selectors, and different
results for similar selectors.</p>
<p>A sample of different selectors with the same specificity:</p>
<pre><code class="hljs language-css"><span class="hljs-selector-tag">body</span> <span class="hljs-selector-tag">header</span> <span class="hljs-selector-tag">h1</span> {
  <span class="hljs-attribute">color</span>: green;
}
<span class="hljs-selector-tag">html</span> <span class="hljs-selector-tag">header</span> <span class="hljs-selector-tag">h1</span> {
  <span class="hljs-attribute">color</span>: purple;
}
</code></pre><p>What color will the <code>h1</code> be? Green or purple? The answer is: "purple". Why?
Because both selectors have the same specificity.
When two selectors have the same specificity, the one that comes last in the
CSS wins. So in this case, the second selector wins. When those 2 come from
different stylesheets, the one that is loaded last wins. Also, that would be
much harder to spot, right?</p>
<h3>Why is that <code>!important</code>?</h3>
<p>Lame, I know. But you should know that you should avoid using <code>!important</code>,
Why? Because it doesn't solve your issue, it just makes it harder to reason
about your CSS. And it makes it harder for others (and yourself in the future)
to amend your styling. So avoid it, unless you really, <em>really</em> have to use it.
It is the "cast to <code>any</code>" of CSS.</p>
<h2>Lets add some layers.</h2>
<p>Now we are ready to understand where <code>@layer</code> fits in this whole specificity
thing. <code>@layer</code> adds another dimension to the specificity calculation. Layers
are ordered, and layers that come later in the order win over layers that come
earlier. So if you have:</p>
<pre><code class="hljs language-css"><span class="hljs-keyword">@layer</span> theme {
  <span class="hljs-selector-tag">header</span> <span class="hljs-selector-tag">h1</span> {
    <span class="hljs-attribute">color</span>: purple;
  }
}
<span class="hljs-keyword">@layer</span> base {
  <span class="hljs-selector-tag">header</span> <span class="hljs-selector-tag">h1</span> {
    <span class="hljs-attribute">color</span>: green;
  }
}
</code></pre><p>The <code>h1</code> will be green, because the <code>base</code> layer comes after the <code>theme</code> layer.
I hear you thinking, "but that is the same as the last example". Well, yes and no.
The difference is that now you can control the order of the layers.
put this on top of your CSS: (or on top of your very top CSS file)</p>
<pre><code class="hljs language-css"><span class="hljs-keyword">@layer</span> base, theme;
</code></pre><p>This will make sure that the <code>base</code> layer comes before the <code>theme</code> layer, and
thus the <code>h1</code> will be purple. This is a powerful way to control the cascade
of your CSS. It allows you to create a base layer that contains all your
default styles, and then a theme layer that contains all your theme specific
styles. This way, you can easily switch themes by changing the order of the
layers.</p>
<h3>Is that all?</h3>
<p>No, not by a long shot, there is much more to layers.
you can use the same layer in different files. You can "namespace" your layers.</p>
<p>I assume you have read <a href="/blog/component-styling">my article on Componet Styling</a>,
right? If not, go read it now!</p>
<p>Let me show you an idea about how to use layers in component styling:</p>
<pre><code class="hljs language-css"><span class="hljs-comment">/* somewhere on top in your CSS three */</span>
<span class="hljs-keyword">@layer</span> base, utils ,theme, components;

<span class="hljs-comment">/* in your components.css */</span>
<span class="hljs-keyword">@layer</span> components.componentName {
  <span class="hljs-comment">/** in this component, we need all text to be green */</span>
  <span class="hljs-attr">--base-color</span>: <span class="hljs-built_in">var</span>(--green-<span class="hljs-number">3</span>) --highlight-color: <span class="hljs-built_in">var</span>(--green-<span class="hljs-number">9</span>);

  <span class="hljs-keyword">@layer</span> overrides {
    <span class="hljs-comment">/** except when it is an header */</span>
    <span class="hljs-selector-pseudo">:is</span>(<span class="hljs-selector-tag">header</span>) {
      <span class="hljs-attr">--base-color</span>: <span class="hljs-built_in">var</span>(--purple-<span class="hljs-number">3</span>);
      <span class="hljs-attr">--highlight-color</span>: <span class="hljs-built_in">var</span>(--purple-<span class="hljs-number">9</span>);
    }
  }
}
</code></pre><p>The top layer order defines the global order of layers. You can decide what you
to put in which layer. You can even <code>@import</code> things into specific layers.</p>
<p>But I digress. The point is that layers add to specificity. In the abo
ve example, the <code>overrides</code> layer will win over the <code>components.componentName</code>
layer, because it comes later in the order. This allows you to create a hierarchy
of layers that can be used to control the cascade of your CSS in a more granular
way. The sample above doesn't show the true power of the layering system, but
it gives you an idea of how to use it.</p>
<p>Another thing to note is the namespace of layers. In the example above, the
<code>components.componentName</code> layer is a namespace for the <code>componentName</code> component.
This allows you to create layers that are specific to a component, and thus avoid
conflicts with other components. This is especially useful when you are creating
a design system or a component library. This way, you can create component styles
that are isolated from each other. In a standard way. It takes a very disciplined
way of working, but it is worth the effort. (note to Angular developers;
you get something similar <em>for free!</em>)</p>
<h2>Conclusion</h2>
<p>As usual, there are more layers to this story.
Specificity rocks. Layers make it dance. Use them wisely. It allows you to make
your CSS more maintainable. More predictable. More robust. More versatile.
Now, go develop some awesome <a href="/blog/component-styling">styled components</a> and</p>
<p>Be specific!</p>
</article><ul id="blog-list" _nghost-ng-c3596964052><li _ngcontent-ng-c3596964052><a _ngcontent-ng-c3596964052 href="/blog/about">Whats this all'bout?</a></li><li _ngcontent-ng-c3596964052><a _ngcontent-ng-c3596964052 href="/blog/code-guidish">Code/Style guidelines</a></li><li _ngcontent-ng-c3596964052><a _ngcontent-ng-c3596964052 href="/blog/dry-kiss">Dry kiss Yagni ASAP.</a></li><li _ngcontent-ng-c3596964052><a _ngcontent-ng-c3596964052 href="/blog/the-year-2038">The year 2038 problem</a></li><li _ngcontent-ng-c3596964052><a _ngcontent-ng-c3596964052 href="/blog/what-is-data">What is data</a></li><li _ngcontent-ng-c3596964052><a _ngcontent-ng-c3596964052 href="/blog/angular-signals-www">Angular Signals WWW</a></li><li _ngcontent-ng-c3596964052><a _ngcontent-ng-c3596964052 href="/blog/use-the-platform">use the platform</a></li><li _ngcontent-ng-c3596964052><a _ngcontent-ng-c3596964052 href="/blog/component-styling">Component Styling</a></li><!----></ul><!--ngh=d0--></se-blogs><!----></app-root>
  <script src="main-LMWPKMHY.js" type="module"></script>

<script id="ng-state" type="application/json">{"432992457":{"b":[{"id":"vTjn3EjDgIcljkmM","description":"","tags":[],"name":"404","title":"Article not found.","published":false,"dateAdded":"2025-12-19T05:57:13.531Z"},{"id":"w2jw3vjIgFcpjrmo","description":"","tags":[],"name":"about","title":"Whats this all'bout?","published":true,"dateAdded":"2025-12-19T05:57:13.532Z"},{"id":"wDje3njxg2cnjZmT","description":"","tags":[],"name":"code-guidish","title":"Code/Style guidelines","published":true,"dateAdded":"2025-12-19T05:57:13.532Z"},{"id":"wVjz34jxggcejlmR","description":"","tags":[],"name":"dry-kiss","title":"Dry kiss Yagni ASAP.","published":true,"dateAdded":"2025-12-19T05:57:13.532Z"},{"id":"wEjI3tjog1cdjjmE","description":"","tags":[],"name":"enum","title":"what about ENUM's in typescript?","published":false,"dateAdded":"2025-12-19T05:57:13.532Z"},{"id":"xOjX3IjHg5ckjImW","description":"","tags":[],"name":"the-year-2038","title":"The year 2038 problem","published":true,"dateAdded":"2025-12-19T05:57:13.533Z"},{"id":"xYj937jtgycHjWm1","description":"","tags":[],"name":"welcome","title":"welcome","published":false,"dateAdded":"2025-12-19T05:57:13.533Z"},{"id":"x2jb3xjzg6cgjEmn","description":"","tags":[],"name":"what-is-data","title":"What is data","published":true,"dateAdded":"2025-12-19T05:57:13.533Z"},{"id":"xCgWt94YrscijEmA","description":"","tags":[],"name":"angular-signals-www","title":"Angular Signals WWW","published":true,"dateAdded":"2025-12-19T10:54:03.057Z"},{"id":"rtvui0r9ycgGjLmz","description":"","tags":[],"name":"use-the-platform","title":"use the platform","published":true,"dateAdded":"2025-12-22T09:38:44.439Z"},{"id":"bofLwbpvxlqejmml","description":"","tags":[],"name":"component-styling","title":"Component Styling","published":true,"dateAdded":"2025-12-29T09:07:10.824Z"},{"id":"9Mgg7tw79EsOjvm8","description":"","tags":[],"name":"css-specificity","title":"CSS specificity","published":false,"dateAdded":"2025-12-30T07:35:46.617Z"}],"h":{},"s":200,"st":"OK","u":"/assets/articles/articleList.json","rt":"json"},"1687480569":{"b":"# Article not found.\n\nHiya, it seems that I can't find the article you are looking for.\nMight be a typo in the URL, or maybe the article has been removed.\n","h":{},"s":200,"st":"OK","u":"/assets/articles/404.md","rt":"text"},"2649142015":{"b":"# CSS specificity\n\nI was asked about `@layer` last week, and it got me thinking about [CSS specificity](https://developer.mozilla.org/en-US/docs/Web/CSS/Guides/Cascade/Specificity)\nin general. Why does a question about `layers` lead me to think about specificity?\nGood question! Let get on with it!\n\n## Why is specificity something to think about?\n\nWell, specifically, because it is the largest source of confusion. The concept is\nfairly simple, but it is often misunderstood, or even simply ignored. Ignoring it\nis something that is easy to do, because in most cases, it \"just works\". But\nwhen it doesn't, it can be a nightmare to debug.\n\nBTW, I think \"just works\" is something that is underappreciated. It is a\ntestimony to the design of CSS, and browsers, that in most cases, you can write\nstyles without having to think about specificity. I'll tip my hat to the\ndesigners of CSS for that.\n\nStill, I'm writing about it. So yeah, automagically (not a typo!) handling gets\nyou only so far.\n\n### the basics of specificity\n\nWell, I can try to explain, but [Brammus](https://www.bram.us/about/) has already\ndone a great job explaining this in [his CSS-day talk on specificity](https://www.bram.us/2022/06/28/the-css-cascade-a-deep-dive-2022-06-09-css-day/).\nSo I recommend you watch that. It is does a great job on explaining the problem\nwith specificity, and how to deal with it. I was lucky enough ti see that one live!\nAlso the MDN article I linked to above has a great amount of details.\n\n### what is the _root_ problem.\n\nThe root problem is that specificity calculations are not exactly intuitive.\nthose calculations can have the same result for different selectors, and different\nresults for similar selectors.\n\nA sample of different selectors with the same specificity:\n\n```css\nbody header h1 {\n  color: green;\n}\nhtml header h1 {\n  color: purple;\n}\n```\n\nWhat color will the `h1` be? Green or purple? The answer is: \"purple\". Why?\nBecause both selectors have the same specificity.\nWhen two selectors have the same specificity, the one that comes last in the\nCSS wins. So in this case, the second selector wins. When those 2 come from\ndifferent stylesheets, the one that is loaded last wins. Also, that would be\nmuch harder to spot, right?\n\n### Why is that `!important`?\n\nLame, I know. But you should know that you should avoid using `!important`,\nWhy? Because it doesn't solve your issue, it just makes it harder to reason\nabout your CSS. And it makes it harder for others (and yourself in the future)\nto amend your styling. So avoid it, unless you really, _really_ have to use it.\nIt is the \"cast to `any`\" of CSS.\n\n## Lets add some layers.\n\nNow we are ready to understand where `@layer` fits in this whole specificity\nthing. `@layer` adds another dimension to the specificity calculation. Layers\nare ordered, and layers that come later in the order win over layers that come\nearlier. So if you have:\n\n```css\n@layer theme {\n  header h1 {\n    color: purple;\n  }\n}\n@layer base {\n  header h1 {\n    color: green;\n  }\n}\n```\n\nThe `h1` will be green, because the `base` layer comes after the `theme` layer.\nI hear you thinking, \"but that is the same as the last example\". Well, yes and no.\nThe difference is that now you can control the order of the layers.\nput this on top of your CSS: (or on top of your very top CSS file)\n\n```css\n@layer base, theme;\n```\n\nThis will make sure that the `base` layer comes before the `theme` layer, and\nthus the `h1` will be purple. This is a powerful way to control the cascade\nof your CSS. It allows you to create a base layer that contains all your\ndefault styles, and then a theme layer that contains all your theme specific\nstyles. This way, you can easily switch themes by changing the order of the\nlayers.\n\n### Is that all?\n\nNo, not by a long shot, there is much more to layers.\nyou can use the same layer in different files. You can \"namespace\" your layers.\n\nI assume you have read [my article on Componet Styling](/blog/component-styling),\nright? If not, go read it now!\n\nLet me show you an idea about how to use layers in component styling:\n\n```css\n/* somewhere on top in your CSS three */\n@layer base, utils ,theme, components;\n\n/* in your components.css */\n@layer components.componentName {\n  /** in this component, we need all text to be green */\n  --base-color: var(--green-3) --highlight-color: var(--green-9);\n\n  @layer overrides {\n    /** except when it is an header */\n    :is(header) {\n      --base-color: var(--purple-3);\n      --highlight-color: var(--purple-9);\n    }\n  }\n}\n```\n\nThe top layer order defines the global order of layers. You can decide what you\nto put in which layer. You can even `@import` things into specific layers.\n\nBut I digress. The point is that layers add to specificity. In the abo\nve example, the `overrides` layer will win over the `components.componentName`\nlayer, because it comes later in the order. This allows you to create a hierarchy\nof layers that can be used to control the cascade of your CSS in a more granular\nway. The sample above doesn't show the true power of the layering system, but\nit gives you an idea of how to use it.\n\nAnother thing to note is the namespace of layers. In the example above, the\n`components.componentName` layer is a namespace for the `componentName` component.\nThis allows you to create layers that are specific to a component, and thus avoid\nconflicts with other components. This is especially useful when you are creating\na design system or a component library. This way, you can create component styles\nthat are isolated from each other. In a standard way. It takes a very disciplined\nway of working, but it is worth the effort. (note to Angular developers;\nyou get something similar _for free!_)\n\n## Conclusion\n\nAs usual, there are more layers to this story.\nSpecificity rocks. Layers make it dance. Use them wisely. It allows you to make\nyour CSS more maintainable. More predictable. More robust. More versatile.\nNow, go develop some awesome [styled components](/blog/component-styling) and\n\nBe specific!\n","h":{},"s":200,"st":"OK","u":"/assets/articles/css-specificity.md","rt":"text"},"__nghData__":[{"t":{"0":"t0","1":"t1"},"c":{"0":[],"1":[{"i":"t0","r":3,"di":"d0","s":2}]}},{"c":{"0":[{"i":"c2680526321","r":1}]}}],"__nghDeferData__":{"d0":{"r":3,"s":2}}}</script></body></html>