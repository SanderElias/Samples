import{b as P}from"./chunk-P2XXQAQA.js";import{a as g,g as w}from"./chunk-UXPFSASB.js";import"./chunk-QXQYZQ6D.js";import"./chunk-SS5WEMF4.js";import"./chunk-LS7P6YZZ.js";import{f as I}from"./chunk-BNPMP4OE.js";import"./chunk-RZPOXGEJ.js";import{Fc as F,Jb as m,Jc as M,Kb as p,Kc as V,Mb as S,Ob as T,Qb as C,Qc as N,Rb as h,Sb as v,Tb as u,Ub as o,Vb as n,Wb as c,Ya as a,fc as k,hc as f,pb as E,uc as l,va as _,vc as y,ya as b}from"./chunk-3K2AM3PM.js";import{a as x,b as D}from"./chunk-DAQOROHW.js";function B(e,r){if(e&1&&(o(0,"option",2),l(1),n()),e&2){let t=r.$implicit;u("value",F(t)),a(),y(t)}}function z(e,r){if(e&1&&(c(0,"input",3),m()),e&2){let t=f();p(t.nfFd.defaultValue)}}function O(e,r){if(e&1&&(c(0,"input",4),m()),e&2){let t=f();p(t.nfFd.defaultValue)}}function $(e,r){if(e&1&&(c(0,"input",0),m()),e&2){let t=f();p(t.nfFd.defaultValue)}}function j(e,r){if(e&1&&(o(0,"label",6)(1,"span"),l(2),n(),c(3,"input",7),m(),n()),e&2){let t=r.$implicit,d=f();u("for",F(t)),a(2),y(t),a(),u("placeholder",F(t)),p(d.dataForm[t])}}var A=["boolean","number","string"],Q=(()=>{class e{constructor(){this.formData=_({name:{type:"string",defaultValue:"default"},email:{type:"string",defaultValue:"default"}}),this.types=A,this.newField=_({name:"",type:"string",defaultValue:""}),this.nfFd=g(this.newField),this.model=N(()=>J(this.formData())),this.dynForm=g(this.formData),this.dataForm=g(this.model,t=>{}),this.fields=P.bind(this.dataForm),this._=b(()=>{console.log("Current form data model:",this.model()),console.dir(this.dataForm())})}addField(t,d,i){this.formData.update(s=>D(x({},s),{[t]:{type:d,defaultValue:i}}))}static{this.\u0275fac=function(d){return new(d||e)}}static{this.\u0275cmp=E({type:e,selectors:[["se-dynsignal-form"]],decls:30,vars:8,consts:[["type","text",3,"field"],[3,"field"],[3,"value"],["type","checkbox",3,"field"],["type","number",3,"field"],["type","button",3,"click"],[3,"for"],["type","text",3,"placeholder","field"]],template:function(d,i){if(d&1&&(o(0,"h2"),l(1,"Dynamic Signal Form"),n(),o(2,"form")(3,"label")(4,"span"),l(5,"Field Name"),n(),c(6,"input",0),m(),n(),o(7,"label")(8,"span"),l(9,"Field Type"),n(),o(10,"select",1),h(11,B,2,3,"option",2,C),n(),m(),n(),o(13,"label")(14,"span"),l(15,"Default Field Value"),n(),S(16,z,1,2,"input",3)(17,O,1,2,"input",4)(18,$,1,2,"input",0),n(),o(19,"button",5),k("click",function(){return i.addField(i.nfFd.name().value(),i.nfFd.type().value(),i.nfFd.defaultValue().value())}),l(20," Add Field "),n()(),o(21,"h3"),l(22,"Results:"),n(),o(23,"form"),h(24,j,4,7,"label",6,C),n(),o(26,"pre")(27,"code"),l(28),M(29,"json"),n()()),d&2){let s;a(6),p(i.nfFd.name),a(4),p(i.nfFd.type),a(),v(i.types),a(5),T((s=i.nfFd.type().value())==="boolean"?16:s==="number"?17:s==="string"?18:-1),a(8),v(i.fields()),a(4),y(V(29,6,i.dataForm().value()))}},dependencies:[w,I],styles:["[_nghost-%COMP%]{display:block;padding:var(--size-2)}label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--size-2)}"]})}}return e})();function J(e){let r={};for(let t in e)r[t]=e[t].defaultValue;return r}export{Q as DynsignalFormComponent,A as types};
