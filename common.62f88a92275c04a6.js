"use strict";(self.webpackChunksamples=self.webpackChunksamples||[]).push([[592],{4581:(U,m,e)=>{e.d(m,{R:()=>o});var i=e(5955),h=e(818),O=e(5619),c=e(6602),d=e(5975),s=e(2692);const l=["addListener","removeListener"],t=["addEventListener","removeEventListener"],n=["on","off"];function o(u,P,C,a){if((0,d.m)(C)&&(a=C,C=void 0),a)return o(u,P,C).pipe((0,s.Z)(a));const[_,r]=function D(u){return(0,d.m)(u.addEventListener)&&(0,d.m)(u.removeEventListener)}(u)?t.map(v=>g=>u[v](P,g,C)):function E(u){return(0,d.m)(u.addListener)&&(0,d.m)(u.removeListener)}(u)?l.map(f(u,P)):function M(u){return(0,d.m)(u.on)&&(0,d.m)(u.off)}(u)?n.map(f(u,P)):[];if(!_&&(0,c.z)(u))return(0,O.z)(v=>o(v,P,C))((0,i.Xf)(u));if(!_)throw new TypeError("Invalid event target");return new h.y(v=>{const g=(...y)=>v.next(1<y.length?y:y[0]);return _(g),()=>r(g)})}function f(u,P){return C=>a=>u[C](P,a)}},5490:(U,m,e)=>{e.d(m,{F:()=>O});var i=e(2844),h=e(1995);function O(c=0,d=i.z){return c<0&&(c=0),(0,h.H)(c,c,d)}},1995:(U,m,e)=>{e.d(m,{H:()=>d});var i=e(818),h=e(2844),O=e(1830);function d(s=0,l,t=h.P){let n=-1;return null!=l&&((0,O.K)(l)?t=l:n=l),new i.y(o=>{let f=function c(s){return s instanceof Date&&!isNaN(s)}(s)?+s-t.now():s;f<0&&(f=0);let E=0;return t.schedule(function(){o.closed||(o.next(E++),0<=n?this.schedule(void 0,n):o.complete())},f)})}},3151:(U,m,e)=>{e.d(m,{b:()=>c});var i=e(2844),h=e(2085),O=e(8499);function c(d,s=i.z){return(0,h.e)((l,t)=>{let n=null,o=null,f=null;const E=()=>{if(n){n.unsubscribe(),n=null;const D=o;o=null,t.next(D)}};function M(){const D=f+d,u=s.now();if(u<D)return n=this.schedule(void 0,D-u),void t.add(n);E()}l.subscribe((0,O.x)(t,D=>{o=D,f=s.now(),n||(n=s.schedule(M,d),t.add(n))},()=>{E(),t.complete()},void 0,()=>{o=n=null}))})}},8982:(U,m,e)=>{e.d(m,{g:()=>M});var i=e(2844),h=e(6811),O=e(5598),c=e(2085),d=e(8499),s=e(408),t=e(7969),o=e(5619);function f(D,u){return u?P=>(0,h.z)(u.pipe((0,O.q)(1),function l(){return(0,c.e)((D,u)=>{D.subscribe((0,d.x)(u,s.Z))})}()),P.pipe(f(D))):(0,o.z)((P,C)=>D(P,C).pipe((0,O.q)(1),function n(D){return(0,t.U)(()=>D)}(P)))}var E=e(1995);function M(D,u=i.z){const P=(0,E.H)(D,u);return f(()=>P)}},2147:(U,m,e)=>{e.d(m,{x:()=>c});var i=e(8330),h=e(2085),O=e(8499);function c(s,l=i.y){return s=null!=s?s:d,(0,h.e)((t,n)=>{let o,f=!0;t.subscribe((0,O.x)(n,E=>{const M=l(E);(f||!s(o,M))&&(f=!1,o=M,n.next(E))}))})}function d(s,l){return s===l}},97:(U,m,e)=>{e.d(m,{b:()=>O});var i=e(818),h=e(5975);function O(c){return!!c&&(c instanceof i.y||(0,h.m)(c.lift)&&(0,h.m)(c.subscribe))}},1578:(U,m,e)=>{e.d(m,{m:()=>c});var i=e(5598),h=e(7969),O=e(8168);function c(d){return function s(l,t){return d.pipe((0,i.q)(1),(0,h.U)(n=>{if("string"==typeof l)return Object.assign(Object.assign({},n),{[l]:t});if("object"==typeof l)return Object.assign(Object.assign({},n),l);throw new Error("Property needs to be a string or an object")}),(0,O.b)(n=>d.next(n))).toPromise()}}},4841:(U,m,e)=>{e.d(m,{H:()=>u});var i=e(4553),h=e(8023),O=e(5619),c=e(1927),d=e(6466),s=e(7969),l=e(7445),t=e(5598),n=e(9676),o=e(1995),f=e(8168),E=e(9724);const M=e.e(935).then(e.t.bind(e,5935,23)).then(a=>a).then(({default:a})=>new a);let u=(()=>{class a{constructor(){this.flush$=new h.x,this.updatedUsers$=new h.x,this.allUsers$=this.flush$.pipe((0,O.z)(()=>this.updatedUsers$),(0,c.O)([]),(0,d.d)({bufferSize:1,refCount:!1})),this.admins$=this.allUsers$.pipe((0,s.U)(r=>r.filter(v=>v.isAdmin))),this.users$=this.allUsers$.pipe((0,s.U)(r=>r.filter(v=>!v.isAdmin))),this.flushCache()}addUsers(r){var v=this;return(0,i.Z)(function*(){const g=yield(0,l.z)(v.allUsers$),y=g.length,A=yield Promise.all(Array.from({length:r}).map(function(){var x=(0,i.Z)(function*(b,L){return Object.assign({id:y+L},yield function P(){return C.apply(this,arguments)}())});return function(b,L){return x.apply(this,arguments)}}()));v.updatedUsers$.next(g.concat(A))})()}saveUser(r){var v=this;return(0,i.Z)(function*(){const g=yield v.allUsers$.pipe((0,t.q)(1)).toPromise(),y=g.findIndex(A=>A.id===r.id);if(y>-1)Object.assign(g[y],r);else{let A;for(;!A||g.findIndex(x=>x.id===A)>-1;)A=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);g.unshift(Object.assign(Object.assign({},r),{id:A}))}v.updatedUsers$.next(g)})()}deleteUser(r){var v=this;return(0,i.Z)(function*(){const g=(yield v.allUsers$.pipe((0,n.P)()).toPromise()).filter(y=>y.id!==r.id);v.updatedUsers$.next(g)})()}flushCache(){var r=this;return(0,i.Z)(function*(){const v=yield M;yield new Promise(g=>setTimeout(g)),r.flush$.next(),(0,o.H)(0,250).pipe((0,f.b)(()=>r.addUsers(v.integer({min:100,max:400}))),(0,t.q)(20)).subscribe()})()}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=E.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function C(){return(C=(0,i.Z)(function*(){const a=yield M;return{userState:a.integer({min:0,max:3}),username:a.name(),isAdmin:a.bool(),isActive:a.bool(),email:a.email()}})).apply(this,arguments)}},4395:(U,m,e)=>{e.d(m,{f:()=>d,g:()=>c});var i=e(9724),h=e(97),O=e(8168);let c=(()=>{class s{constructor(t,n,o){this.templateRef=t,this.viewContainer=n,this.cdr=o,this.context={$implicit:void 0,seLet:void 0},this.assign=this.assign.bind(this)}set seLet(t){this.assign(t)}set seLetObserve(t){this.assign(t)}set seLetOn(t){this.assign(t)}assign(t){this.sub&&this.sub.unsubscribe(),(0,h.b)(t)?this.sub=t.pipe((0,O.b)(()=>this.cdr.markForCheck())).subscribe(n=>{this.context.$implicit=n,this.context.seLet=n}):(this.context.$implicit=t,this.context.seLet=t)}ngOnInit(){this.viewContainer.createEmbeddedView(this.templateRef,this.context)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return s.\u0275fac=function(t){return new(t||s)(i.Y36(i.Rgc),i.Y36(i.s_b),i.Y36(i.sBO))},s.\u0275dir=i.lG2({type:s,selectors:[["","seLet",""]],inputs:{seLet:"seLet",seLetObserve:"seLetObserve",seLetOn:"seLetOn"}}),s})(),d=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({}),s})()},2702:(U,m,e)=>{e.d(m,{$b:()=>o,C3:()=>E,cb:()=>f,m9:()=>C});var i=e(8023);const h=Symbol("_acc"),O=Symbol("_aci"),t=(Symbol("_avc"),Symbol("_avi"),Symbol("_dc"),Symbol("_oc"),Symbol("_oi")),n=Symbol("_od"),o=(a=class{})=>{var _,r;return r=class extends a{constructor(){super(...arguments),this[_]=new i.x,this.seOnDestroy$=this[n].asObservable()}ngOnDestroy(){super.ngOnDestroy&&super.ngOnDestroy(),this[n].next(),this[n].complete()}},_=n,r},f=(a=class{})=>{var _,r;return r=class extends a{constructor(){super(...arguments),this[_]=new i.x,this.seAfterContentChecked$=this[h].asObservable()}ngAfterContentChecked(){this[h].next(),super.ngAfterContentChecked&&super.ngAfterContentChecked()}ngOnDestroy(){this[h].complete(),super.ngOnDestroy&&super.ngOnDestroy()}},_=h,r},E=(a=class{})=>{var _,r;return r=class extends a{constructor(){super(...arguments),this[_]=new i.x,this.seAfterContentInit$=this[O].asObservable()}ngAfterContentInit(){Promise.resolve().then(()=>{this[O].next(),this[O].complete()}),super.ngAfterContentInit&&super.ngAfterContentInit()}},_=O,r},C=(a=class{})=>{var _,r;return r=class extends a{constructor(){super(...arguments),this[_]=new i.x,this.seOnInit$=this[t].asObservable()}ngOnInit(){Promise.resolve().then(()=>{this[t].next(),this[t].complete()}),super.ngOnInit&&super.ngOnInit()}},_=t,r}},9959:(U,m,e)=>{e.d(m,{Hv:()=>l});var i=e(7969),h=e(97),O=e(4945),c=e(5696);function l(t){const n=Object.values(t).map(o=>(0,h.b)(o)?o:(0,O.of)(o));return(0,c.a)(n).pipe((0,i.U)(o=>Object.keys(t).reduce((f,E,M)=>(f[E]=o[M],f),{})))}}}]);