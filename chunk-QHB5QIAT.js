import{$a as o,W as p,Ya as l,b as f,fa as u,la as g,ma as d}from"./chunk-ZWPQDWQV.js";function y(t){t||(l(y),t=u(o));let e=new f(r=>t.onDestroy(r.next.bind(r)));return r=>r.pipe(p(e))}var c=class extends Error{constructor(e,r){super(v(e,r)),this.code=e}};function v(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var m=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)();var h=class{constructor(e){this.ref=e}deref(){return this.ref}},k=m.WeakRef??h;function S(t,e){let r=!e?.manualCleanup;r&&!e?.injector&&l(S);let i=r?e?.injector?.get(o)??u(o):null,s;e?.requireSync?s=d({kind:0}):s=d({kind:1,value:e?.initialValue});let a=t.subscribe({next:n=>s.set({kind:1,value:n}),error:n=>s.set({kind:2,error:n})});return i?.onDestroy(a.unsubscribe.bind(a)),g(()=>{let n=s();switch(n.kind){case 1:return n.value;case 2:throw n.error;case 0:throw new c(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}export{y as a,S as b};
