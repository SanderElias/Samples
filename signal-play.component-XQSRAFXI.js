import{a as E}from"./chunk-TSSCPVME.js";import{k as U}from"./chunk-IBCCEPDQ.js";import{$ as I,Bb as d,Cb as m,Db as y,Kb as v,Vb as f,Wb as g,Za as b,cc as P,eb as w,ec as _,fa as u,fc as j,ha as S,hb as $,n as C,sc as c,uc as k,xa as x}from"./chunk-L7DZHDME.js";import"./chunk-KAT7YFEL.js";var D=r=>r&&typeof r[Symbol.asyncIterator]=="function";var A=r=>typeof r?.then=="function";var F=(r,T,t)=>{let e=w({value:T,error:void 0});try{t=t??u(x)}catch{}if(!t)throw new Error("destroyRef is mandatory when used outside a injection context");let s,n,h=()=>(n?.unsubscribe(),s?.abort()),p=o=>{if(o.aborted)throw new Error("aborted")};t.onDestroy(()=>{h(),O.destroy()});let O=k(async o=>{o(h);try{s=new AbortController;let i=s.signal,a=r(i);if(p(i),C(a))n=a.subscribe({next:l=>{p(i),e.set({value:l})},error:l=>{p(i),e.set({error:l})}});else if(A(a)){let l=await a;p(i),e.set({value:l})}else if(D(a))for await(let l of a)p(i),e.set({value:l});else e.set({value:a})}catch(i){i.message!=="aborted"&&e.set({error:i})}},{manualCleanup:!0,forceRoot:!0});return c(()=>{let o=e();if(o.error)throw o.error;return o.value})};var M=(()=>{class r{constructor(){this.users=u(E),this.$users=F(()=>this.users.allUsers$,[]),this.getUser=t=>this.$users()?.find(s=>s.id===t),this.getRelative=(t,e=1)=>{let s=this.$users()||[],n=s.findIndex(h=>h.id===t);return n===-1?s[0]?.id:n+e<=0||n+e>=s.length?t:s[n+e].id},this.$lastId=c(()=>{let t=this.$users();return t&&t.length>0?t.at(-1).id:-2})}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275prov=I({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var te=(()=>{class r{constructor(){this.sps=u(M),this.id=$(""),this.$user=c(()=>{let t=this.sps.getUser(this.id());return t||this.sps.$users()[0]}),this.$availableUserCount=c(()=>this.sps.$users().length),this.relId=(t=1)=>{let e=this.sps.getRelative(this.id(),t);return e||this.id()}}next(){this.id.set(this.relId(1))}prev(){this.id.set(this.relId(-1))}static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275cmp=S({type:r,selectors:[["se-signal-play"]],inputs:{id:[1,"id"]},outputs:{id:"idChange"},standalone:!0,features:[P],decls:12,vars:4,consts:[[3,"click"]],template:function(e,s){e&1&&(d(0,"h3"),f(1),m(),y(2,"hr"),d(3,"pre")(4,"code"),f(5),_(6,"json"),m()(),y(7,"hr"),d(8,"button",0),v("click",function(){return s.next()}),f(9,"next"),m(),d(10,"button",0),v("click",function(){return s.prev()}),f(11,"prev"),m()),e&2&&(b(),g(s.$availableUserCount()),b(4),g(j(6,2,s.$user())))},dependencies:[U],styles:["[_nghost-%COMP%]{display:block}"]})}}return r})();export{te as default};
