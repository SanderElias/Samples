import{a as T,b as $}from"./chunk-WDPMSLOP.js";import{j as k,k as I,m as O}from"./chunk-COT5DIUW.js";import{G as M,Ib as E,Kb as b,Lb as v,X as h,Xa as r,eb as y,f as _,gb as p,ha as w,hb as s,ib as n,jb as d,nb as C,qa as x,qb as f,ra as S,rb as g,wb as o,xb as u}from"./chunk-IWWGYS2Z.js";import{h as m}from"./chunk-G5KKTNWD.js";function B(c,i){if(c&1){let a=C();s(0,"main")(1,"section",1)(2,"button",2),f("click",function(){x(a);let t=g();return S(t.down())}),o(3,"-"),n(),s(4,"h3"),o(5),n(),s(6,"button",2),f("click",function(){x(a);let t=g();return S(t.up())}),o(7,"+"),n(),d(8,"br"),n(),s(9,"h1"),o(10),n(),d(11,"br")(12,"br"),s(13,"p"),o(14,"The raw viewModel:"),n(),d(15,"hr"),s(16,"pre")(17,"code"),o(18),b(19,"json"),n()()()}if(c&2){let a=i.ngIf;r(2),p("disabled",a.underMin),r(3),u(a.count),r(1),p("disabled",a.overMax),r(4),u(a.msg),r(8),u(v(19,5,a))}}var G=(()=>{let i=class{constructor(){this.state$=new _({count:5,msg:"",overMax:!1,underMin:!1,max:10,min:2}),this.updateMessage=e=>{let t=e.overMax?"too high!":e.underMin?"too low!":"";this.setState("msg",t)},this.viewModel$=this.state$.pipe(M(5),h(e=>this.checkState()),h(this.updateMessage)),this.setState=$(this.state$),this.getState=T(this.state$)}checkState(){return m(this,null,function*(){let{count:e,min:t,max:l,overMax:P,underMin:V}=yield this.getState();e>l!==P&&this.setState("overMax",e>l),e<t!==V&&this.setState("underMin",e<t)})}up(){return m(this,null,function*(){let e=yield this.getState("count");this.setState("count",e+1)})}down(){return m(this,null,function*(){let e=yield this.getState("count");this.setState("count",e-1),this.setState({min:3,max:5})})}},c=i;return(()=>{i.\u0275fac=function(t){return new(t||i)}})(),(()=>{i.\u0275cmp=w({type:i,selectors:[["app-observable-state"]],standalone:!0,features:[E],decls:4,vars:3,consts:[[4,"ngIf"],[1,"display"],[3,"disabled","click"]],template:function(t,l){t&1&&(s(0,"h1"),o(1,"Observable state"),n(),y(2,B,20,7,"main",0),b(3,"async")),t&2&&(r(2),p("ngIf",v(3,1,l.viewModel$)))},dependencies:[I,k,O],styles:[`section[_ngcontent-%COMP%] {
    display: grid;
    grid-template-columns: 150px 150px 150px;
  }
  section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {
    text-align: center;
    font-size: 30px;
  }`],changeDetection:0})})(),c})();export{G as ObservableStateComponent};
