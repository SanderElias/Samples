import{i as E}from"./chunk-NE3XWMKB.js";import"./chunk-QF5K4MHH.js";import{$ as m,Dc as b,Ec as y,Kc as a,Nc as l,Sb as n,Tb as o,Ub as c,Xa as d,bc as u,ea as p,kb as f,pc as r,qc as v,sc as g,wa as h}from"./chunk-JMJSAENN.js";import"./chunk-DAQOROHW.js";var j=(()=>{class e{constructor(){this.usersResource=l({loader:M}),this.getUser=t=>l({params:t,loader:$}),this.getUserById=t=>l({params:t,loader:$})}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),C=e=>`https://jsonplaceholder.typicode.com/${e}`,$=async({params:e,abortSignal:I})=>{let t=await fetch(C(`users/${e}`),{signal:I});if(!t.ok)throw new Error(`Failed to load user's data, ${t.status} ${t.statusText}`);return await t.json()},M=()=>fetch(C("users")).then(e=>e.json());var N=(()=>{class e{constructor(){this.jph=p(j),this.id=h(1),this.userResource=this.jph.getUser(this.id),this.$user=a(()=>this.userResource.value()??{}),this.$state=a(()=>this.userResource.status()),this.$availableUserCount=a(()=>this.jph.usersResource.value()?.length??0),this.relId=(t=1)=>{let s=+this.id()||0;return Math.max(1,Math.min(this.$availableUserCount(),s+t))}}next(){this.id.set(this.relId(1))}prev(){this.id.set(this.relId(-1))}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275cmp=f({type:e,selectors:[["se-signal-play"]],decls:12,vars:5,consts:[[3,"click"]],template:function(s,i){s&1&&(n(0,"h3"),r(1),o(),c(2,"hr"),n(3,"pre")(4,"code"),r(5),b(6,"json"),o()(),c(7,"hr"),n(8,"button",0),u("click",function(){return i.next()}),r(9,"next"),o(),n(10,"button",0),u("click",function(){return i.prev()}),r(11,"prev"),o()),s&2&&(d(),g("Available:",i.$availableUserCount()," current:",i.id()),d(4),v(y(6,3,i.$user())))},dependencies:[E],styles:["[_nghost-%COMP%]{display:block}"]})}}return e})();export{N as default};
