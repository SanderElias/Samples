import{a as u,b as d}from"./chunk-J4QXUUYF.js";import{Bb as r,Cb as h,H as i,Vb as m,Y as s,cc as p,g as o,ha as c}from"./chunk-L7DZHDME.js";import"./chunk-KAT7YFEL.js";var v=(()=>{class a{constructor(){this.state$=new o({count:5,msg:"",overMax:!1,underMin:!1,max:10,min:2}),this.updateMessage=t=>{let e=t.overMax?"too high!":t.underMin?"too low!":"";this.setState("msg",e)},this.viewModel$=this.state$.pipe(i(5),s(t=>this.checkState()),s(this.updateMessage)),this.setState=d(this.state$),this.getState=u(this.state$)}async checkState(){let{count:t,min:e,max:n,overMax:l,underMin:S}=await this.getState();t>n!==l&&this.setState("overMax",t>n),t<e!==S&&this.setState("underMin",t<e)}async up(){let t=await this.getState("count");this.setState("count",t+1)}async down(){let t=await this.getState("count");this.setState("count",t-1),this.setState({min:3,max:5})}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275cmp=c({type:a,selectors:[["app-observable-state"]],standalone:!0,features:[p],decls:2,vars:0,template:function(e,n){e&1&&(r(0,"h1"),m(1,"Observable state"),h())},styles:["section[_ngcontent-%COMP%]{display:grid;grid-template-columns:150px 150px 150px}section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-size:30px}"],changeDetection:0})}}return a})();export{v as ObservableStateComponent};
