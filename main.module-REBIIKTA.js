import{d as he,f as ge}from"./chunk-DAQOROHW.js";var Rt=he((ui,Ct)=>{"use strict";var Mt="Expected a function",At=NaN,Rn="[object Symbol]",Fn=/^\s+|\s+$/g,jn=/^[-+]0x[0-9a-f]+$/i,Dn=/^0b[01]+$/i,Vn=/^0o[0-7]+$/i,$n=parseInt,Ln=typeof global=="object"&&global&&global.Object===Object&&global,Nn=typeof self=="object"&&self&&self.Object===Object&&self,Bn=Ln||Nn||Function("return this")(),Wn=Object.prototype,Gn=Wn.toString,Un=Math.max,Hn=Math.min,ze=function(){return Bn.Date.now()};function Yn(t,a,e){var r,n,i,o,u,f,c=0,l=!1,s=!1,v=!0;if(typeof t!="function")throw new TypeError(Mt);a=It(a)||0,Se(e)&&(l=!!e.leading,s="maxWait"in e,i=s?Un(It(e.maxWait)||0,a):i,v="trailing"in e?!!e.trailing:v);function h(p){var m=r,T=n;return r=n=void 0,c=p,o=t.apply(T,m),o}function d(p){return c=p,u=setTimeout(b,a),l?h(p):o}function _(p){var m=p-f,T=p-c,M=a-m;return s?Hn(M,i-T):M}function g(p){var m=p-f,T=p-c;return f===void 0||m>=a||m<0||s&&T>=i}function b(){var p=ze();if(g(p))return y(p);u=setTimeout(b,_(p))}function y(p){return u=void 0,v&&r?h(p):(r=n=void 0,o)}function O(){u!==void 0&&clearTimeout(u),c=0,r=f=n=u=void 0}function x(){return u===void 0?o:y(ze())}function w(){var p=ze(),m=g(p);if(r=arguments,n=this,f=p,m){if(u===void 0)return d(f);if(s)return u=setTimeout(b,a),h(f)}return u===void 0&&(u=setTimeout(b,a)),o}return w.cancel=O,w.flush=x,w}function zn(t,a,e){var r=!0,n=!0;if(typeof t!="function")throw new TypeError(Mt);return Se(e)&&(r="leading"in e?!!e.leading:r,n="trailing"in e?!!e.trailing:n),Yn(t,a,{leading:r,maxWait:a,trailing:n})}function Se(t){var a=typeof t;return!!t&&(a=="object"||a=="function")}function qn(t){return!!t&&typeof t=="object"}function Xn(t){return typeof t=="symbol"||qn(t)&&Gn.call(t)==Rn}function It(t){if(typeof t=="number")return t;if(Xn(t))return At;if(Se(t)){var a=typeof t.valueOf=="function"?t.valueOf():t;t=Se(a)?a+"":a}if(typeof t!="string")return t===0?t:+t;t=t.replace(Fn,"");var e=Dn.test(t);return e||Vn.test(t)?$n(t.slice(2),e?2:8):jn.test(t)?At:+t}Ct.exports=zn});var kt=he((fi,xe)=>{"use strict";var Ft,jt,Dt,Vt,$t,Lt,Nt,Bt,Wt,Te,qe,Gt,Ut,q,Ht,Yt,zt,qt,Xt,Zt,Kt,Jt,Qt;(function(t){var a=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){t(e(a,e(r)))}):typeof xe=="object"&&typeof xe.exports=="object"?t(e(a,e(xe.exports))):t(e(a));function e(r,n){return r!==a&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(i,o){return r[i]=n?n(i,o):o}}})(function(t){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])};Ft=function(e,r){a(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)},jt=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Dt=function(e,r){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)r.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},Vt=function(e,r,n,i){var o=arguments.length,u=o<3?r:i===null?i=Object.getOwnPropertyDescriptor(r,n):i,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(e,r,n,i);else for(var c=e.length-1;c>=0;c--)(f=e[c])&&(u=(o<3?f(u):o>3?f(r,n,u):f(r,n))||u);return o>3&&u&&Object.defineProperty(r,n,u),u},$t=function(e,r){return function(n,i){r(n,i,e)}},Lt=function(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)},Nt=function(e,r,n,i){function o(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function c(v){try{s(i.next(v))}catch(h){f(h)}}function l(v){try{s(i.throw(v))}catch(h){f(h)}}function s(v){v.done?u(v.value):o(v.value).then(c,l)}s((i=i.apply(e,r||[])).next())})},Bt=function(e,r){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,f;return f={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function c(s){return function(v){return l([s,v])}}function l(s){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,o&&(u=s[0]&2?o.return:s[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,s[1])).done)return u;switch(o=0,u&&(s=[s[0]&2,u.value]),s[0]){case 0:case 1:u=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,o=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!u||s[1]>u[0]&&s[1]<u[3])){n.label=s[1];break}if(s[0]===6&&n.label<u[1]){n.label=u[1],u=s;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(s);break}u[2]&&n.ops.pop(),n.trys.pop();continue}s=r.call(e,n)}catch(v){s=[6,v],o=0}finally{i=u=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},Qt=function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]},Wt=function(e,r){for(var n in e)n!=="default"&&!r.hasOwnProperty(n)&&(r[n]=e[n])},Te=function(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},qe=function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,u=[],f;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(c){f={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(f)throw f.error}}return u},Gt=function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(qe(arguments[r]));return e},Ut=function(){for(var e=0,r=0,n=arguments.length;r<n;r++)e+=arguments[r].length;for(var i=Array(e),o=0,r=0;r<n;r++)for(var u=arguments[r],f=0,c=u.length;f<c;f++,o++)i[o]=u[f];return i},q=function(e){return this instanceof q?(this.v=e,this):new q(e)},Ht=function(e,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,r||[]),o,u=[];return o={},f("next"),f("throw"),f("return"),o[Symbol.asyncIterator]=function(){return this},o;function f(d){i[d]&&(o[d]=function(_){return new Promise(function(g,b){u.push([d,_,g,b])>1||c(d,_)})})}function c(d,_){try{l(i[d](_))}catch(g){h(u[0][3],g)}}function l(d){d.value instanceof q?Promise.resolve(d.value.v).then(s,v):h(u[0][2],d)}function s(d){c("next",d)}function v(d){c("throw",d)}function h(d,_){d(_),u.shift(),u.length&&c(u[0][0],u[0][1])}},Yt=function(e){var r,n;return r={},i("next"),i("throw",function(o){throw o}),i("return"),r[Symbol.iterator]=function(){return this},r;function i(o,u){r[o]=e[o]?function(f){return(n=!n)?{value:q(e[o](f)),done:o==="return"}:u?u(f):f}:u}},zt=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],n;return r?r.call(e):(e=typeof Te=="function"?Te(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=e[u]&&function(f){return new Promise(function(c,l){f=e[u](f),o(c,l,f.done,f.value)})}}function o(u,f,c,l){Promise.resolve(l).then(function(s){u({value:s,done:c})},f)}},qt=function(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e},Xt=function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r.default=e,r},Zt=function(e){return e&&e.__esModule?e:{default:e}},Kt=function(e,r){if(!r.has(e))throw new TypeError("attempted to get private field on non-instance");return r.get(e)},Jt=function(e,r,n){if(!r.has(e))throw new TypeError("attempted to set private field on non-instance");return r.set(e,n),n},t("__extends",Ft),t("__assign",jt),t("__rest",Dt),t("__decorate",Vt),t("__param",$t),t("__metadata",Lt),t("__awaiter",Nt),t("__generator",Bt),t("__exportStar",Wt),t("__createBinding",Qt),t("__values",Te),t("__read",qe),t("__spread",Gt),t("__spreadArrays",Ut),t("__await",q),t("__asyncGenerator",Ht),t("__asyncDelegator",Yt),t("__asyncValues",zt),t("__makeTemplateObject",qt),t("__importStar",Xt),t("__importDefault",Zt),t("__classPrivateFieldGet",Kt),t("__classPrivateFieldSet",Jt)})});var Sr=he((Ii,Ae)=>{"use strict";var nr,ar,ir,or,ur,fr,sr,cr,lr,Ee,Xe,vr,dr,X,pr,mr,hr,gr,yr,br,_r,wr,Or;(function(t){var a=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){t(e(a,e(r)))}):typeof Ae=="object"&&typeof Ae.exports=="object"?t(e(a,e(Ae.exports))):t(e(a));function e(r,n){return r!==a&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(i,o){return r[i]=n?n(i,o):o}}})(function(t){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])};nr=function(e,r){a(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)},ar=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ir=function(e,r){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)r.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},or=function(e,r,n,i){var o=arguments.length,u=o<3?r:i===null?i=Object.getOwnPropertyDescriptor(r,n):i,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(e,r,n,i);else for(var c=e.length-1;c>=0;c--)(f=e[c])&&(u=(o<3?f(u):o>3?f(r,n,u):f(r,n))||u);return o>3&&u&&Object.defineProperty(r,n,u),u},ur=function(e,r){return function(n,i){r(n,i,e)}},fr=function(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)},sr=function(e,r,n,i){function o(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function c(v){try{s(i.next(v))}catch(h){f(h)}}function l(v){try{s(i.throw(v))}catch(h){f(h)}}function s(v){v.done?u(v.value):o(v.value).then(c,l)}s((i=i.apply(e,r||[])).next())})},cr=function(e,r){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,f;return f={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function c(s){return function(v){return l([s,v])}}function l(s){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,o&&(u=s[0]&2?o.return:s[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,s[1])).done)return u;switch(o=0,u&&(s=[s[0]&2,u.value]),s[0]){case 0:case 1:u=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,o=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!u||s[1]>u[0]&&s[1]<u[3])){n.label=s[1];break}if(s[0]===6&&n.label<u[1]){n.label=u[1],u=s;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(s);break}u[2]&&n.ops.pop(),n.trys.pop();continue}s=r.call(e,n)}catch(v){s=[6,v],o=0}finally{i=u=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},Or=function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]},lr=function(e,r){for(var n in e)n!=="default"&&!r.hasOwnProperty(n)&&(r[n]=e[n])},Ee=function(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Xe=function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,u=[],f;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(c){f={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(f)throw f.error}}return u},vr=function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(Xe(arguments[r]));return e},dr=function(){for(var e=0,r=0,n=arguments.length;r<n;r++)e+=arguments[r].length;for(var i=Array(e),o=0,r=0;r<n;r++)for(var u=arguments[r],f=0,c=u.length;f<c;f++,o++)i[o]=u[f];return i},X=function(e){return this instanceof X?(this.v=e,this):new X(e)},pr=function(e,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,r||[]),o,u=[];return o={},f("next"),f("throw"),f("return"),o[Symbol.asyncIterator]=function(){return this},o;function f(d){i[d]&&(o[d]=function(_){return new Promise(function(g,b){u.push([d,_,g,b])>1||c(d,_)})})}function c(d,_){try{l(i[d](_))}catch(g){h(u[0][3],g)}}function l(d){d.value instanceof X?Promise.resolve(d.value.v).then(s,v):h(u[0][2],d)}function s(d){c("next",d)}function v(d){c("throw",d)}function h(d,_){d(_),u.shift(),u.length&&c(u[0][0],u[0][1])}},mr=function(e){var r,n;return r={},i("next"),i("throw",function(o){throw o}),i("return"),r[Symbol.iterator]=function(){return this},r;function i(o,u){r[o]=e[o]?function(f){return(n=!n)?{value:X(e[o](f)),done:o==="return"}:u?u(f):f}:u}},hr=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],n;return r?r.call(e):(e=typeof Ee=="function"?Ee(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=e[u]&&function(f){return new Promise(function(c,l){f=e[u](f),o(c,l,f.done,f.value)})}}function o(u,f,c,l){Promise.resolve(l).then(function(s){u({value:s,done:c})},f)}},gr=function(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e},yr=function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r.default=e,r},br=function(e){return e&&e.__esModule?e:{default:e}},_r=function(e,r){if(!r.has(e))throw new TypeError("attempted to get private field on non-instance");return r.get(e)},wr=function(e,r,n){if(!r.has(e))throw new TypeError("attempted to set private field on non-instance");return r.set(e,n),n},t("__extends",nr),t("__assign",ar),t("__rest",ir),t("__decorate",or),t("__param",ur),t("__metadata",fr),t("__awaiter",sr),t("__generator",cr),t("__exportStar",lr),t("__createBinding",Or),t("__values",Ee),t("__read",Xe),t("__spread",vr),t("__spreadArrays",dr),t("__await",X),t("__asyncGenerator",pr),t("__asyncDelegator",mr),t("__asyncValues",hr),t("__makeTemplateObject",gr),t("__importStar",yr),t("__importDefault",br),t("__classPrivateFieldGet",_r),t("__classPrivateFieldSet",wr)})});var fn=he((jo,Ve)=>{"use strict";var Wr,Gr,Ur,Hr,Yr,zr,qr,Xr,Zr,De,mt,Kr,Jr,k,Qr,kr,en,tn,rn,nn,an,on,un;(function(t){var a=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){t(e(a,e(r)))}):typeof Ve=="object"&&typeof Ve.exports=="object"?t(e(a,e(Ve.exports))):t(e(a));function e(r,n){return r!==a&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(i,o){return r[i]=n?n(i,o):o}}})(function(t){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])};Wr=function(e,r){a(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)},Gr=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ur=function(e,r){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)r.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},Hr=function(e,r,n,i){var o=arguments.length,u=o<3?r:i===null?i=Object.getOwnPropertyDescriptor(r,n):i,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(e,r,n,i);else for(var c=e.length-1;c>=0;c--)(f=e[c])&&(u=(o<3?f(u):o>3?f(r,n,u):f(r,n))||u);return o>3&&u&&Object.defineProperty(r,n,u),u},Yr=function(e,r){return function(n,i){r(n,i,e)}},zr=function(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)},qr=function(e,r,n,i){function o(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function c(v){try{s(i.next(v))}catch(h){f(h)}}function l(v){try{s(i.throw(v))}catch(h){f(h)}}function s(v){v.done?u(v.value):o(v.value).then(c,l)}s((i=i.apply(e,r||[])).next())})},Xr=function(e,r){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,f;return f={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function c(s){return function(v){return l([s,v])}}function l(s){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,o&&(u=s[0]&2?o.return:s[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,s[1])).done)return u;switch(o=0,u&&(s=[s[0]&2,u.value]),s[0]){case 0:case 1:u=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,o=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!u||s[1]>u[0]&&s[1]<u[3])){n.label=s[1];break}if(s[0]===6&&n.label<u[1]){n.label=u[1],u=s;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(s);break}u[2]&&n.ops.pop(),n.trys.pop();continue}s=r.call(e,n)}catch(v){s=[6,v],o=0}finally{i=u=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},un=function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]},Zr=function(e,r){for(var n in e)n!=="default"&&!r.hasOwnProperty(n)&&(r[n]=e[n])},De=function(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},mt=function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,u=[],f;try{for(;(r===void 0||r-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(c){f={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(f)throw f.error}}return u},Kr=function(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(mt(arguments[r]));return e},Jr=function(){for(var e=0,r=0,n=arguments.length;r<n;r++)e+=arguments[r].length;for(var i=Array(e),o=0,r=0;r<n;r++)for(var u=arguments[r],f=0,c=u.length;f<c;f++,o++)i[o]=u[f];return i},k=function(e){return this instanceof k?(this.v=e,this):new k(e)},Qr=function(e,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,r||[]),o,u=[];return o={},f("next"),f("throw"),f("return"),o[Symbol.asyncIterator]=function(){return this},o;function f(d){i[d]&&(o[d]=function(_){return new Promise(function(g,b){u.push([d,_,g,b])>1||c(d,_)})})}function c(d,_){try{l(i[d](_))}catch(g){h(u[0][3],g)}}function l(d){d.value instanceof k?Promise.resolve(d.value.v).then(s,v):h(u[0][2],d)}function s(d){c("next",d)}function v(d){c("throw",d)}function h(d,_){d(_),u.shift(),u.length&&c(u[0][0],u[0][1])}},kr=function(e){var r,n;return r={},i("next"),i("throw",function(o){throw o}),i("return"),r[Symbol.iterator]=function(){return this},r;function i(o,u){r[o]=e[o]?function(f){return(n=!n)?{value:k(e[o](f)),done:o==="return"}:u?u(f):f}:u}},en=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],n;return r?r.call(e):(e=typeof De=="function"?De(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=e[u]&&function(f){return new Promise(function(c,l){f=e[u](f),o(c,l,f.done,f.value)})}}function o(u,f,c,l){Promise.resolve(l).then(function(s){u({value:s,done:c})},f)}},tn=function(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e},rn=function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r.default=e,r},nn=function(e){return e&&e.__esModule?e:{default:e}},an=function(e,r){if(!r.has(e))throw new TypeError("attempted to get private field on non-instance");return r.get(e)},on=function(e,r,n){if(!r.has(e))throw new TypeError("attempted to set private field on non-instance");return r.set(e,n),n},t("__extends",Wr),t("__assign",Gr),t("__rest",Ur),t("__decorate",Hr),t("__param",Yr),t("__metadata",zr),t("__awaiter",qr),t("__generator",Xr),t("__exportStar",Zr),t("__createBinding",un),t("__values",De),t("__read",mt),t("__spread",Kr),t("__spreadArrays",Jr),t("__await",k),t("__asyncGenerator",Qr),t("__asyncDelegator",kr),t("__asyncValues",en),t("__makeTemplateObject",tn),t("__importStar",rn),t("__importDefault",nn),t("__classPrivateFieldGet",an),t("__classPrivateFieldSet",on)})});var Ot=1.525,ne=function(t){return function(a){return 1-t(1-a)}},ye=function(t){return function(a){return a<=.5?t(2*a)/2:(2-t(2*(1-a)))/2}},St=ne;var Tt=function(t){return function(a){return Math.pow(a,t)}},$e=function(t){return function(a){return a*a*((t+1)*a-t)}},xt=function(t){var a=$e(t);return function(e){return(e*=2)<1?.5*a(e):.5*(2-Math.pow(2,-10*(e-1)))}},ae=function(t){return t},ie=Tt(2),oe=ne(ie),be=ye(ie),_e=function(t){return 1-Math.sin(Math.acos(t))},we=ne(_e),Le=ye(we),ue=$e(Ot),Ne=ne(ue),Be=ye(ue),We=xt(Ot),qa=4/11,Xa=8/11,Za=9/10,Ka=4356/361,Ja=35442/1805,Qa=16061/1805;var xn=11,ka=1/(xn-1);var Ge=16.666666666666668,En=typeof performance<"u"?()=>performance.now():()=>Date.now(),Ue=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(En()),Ge);function Pt(t){let a=[],e=[],r=0,n=!1,i=!1,o=new WeakSet,u={schedule:(f,c=!1,l=!1)=>{let s=l&&n,v=s?a:e;return c&&o.add(f),v.indexOf(f)===-1&&(v.push(f),s&&n&&(r=a.length)),f},cancel:f=>{let c=e.indexOf(f);c!==-1&&e.splice(c,1),o.delete(f)},process:f=>{if(n){i=!0;return}if(n=!0,[a,e]=[e,a],e.length=0,r=a.length,r)for(let c=0;c<r;c++){let l=a[c];l(f),o.has(l)&&(u.schedule(l),t())}n=!1,i&&(i=!1,u.process(f))}};return u}var An=40,He=!0,se=!1,Ye=!1,fe={delta:0,timestamp:0},ce=["read","update","preRender","render","postRender"],Oe=ce.reduce((t,a)=>(t[a]=Pt(()=>se=!0),t),{}),In=ce.reduce((t,a)=>{let e=Oe[a];return t[a]=(r,n=!1,i=!1)=>(se||Cn(),e.schedule(r,n,i)),t},{}),ai=ce.reduce((t,a)=>(t[a]=Oe[a].cancel,t),{}),ii=ce.reduce((t,a)=>(t[a]=()=>Oe[a].process(fe),t),{}),Mn=t=>Oe[t].process(fe),Et=t=>{se=!1,fe.delta=He?Ge:Math.max(Math.min(t-fe.timestamp,An),1),fe.timestamp=t,Ye=!0,ce.forEach(Mn),Ye=!1,se&&(He=!1,Ue(Et))},Cn=()=>{se=!0,He=!0,Ye||Ue(Et)};var le=In;var wt=ge(Rt());var er=ge(kt(),1),{__extends:tr,__assign:R,__rest:Pe,__decorate:si,__param:ci,__metadata:li,__awaiter:vi,__generator:di,__exportStar:pi,__createBinding:mi,__values:hi,__read:gi,__spread:yi,__spreadArrays:rr,__await:bi,__asyncGenerator:_i,__asyncDelegator:wi,__asyncValues:Oi,__makeTemplateObject:Si,__importStar:Ti,__importDefault:xi,__classPrivateFieldGet:Pi,__classPrivateFieldSet:Ei}=er.default;var Tr=ge(Sr(),1),{__extends:Mi,__assign:j,__rest:Ci,__decorate:Ri,__param:Fi,__metadata:ji,__awaiter:Di,__generator:Vi,__exportStar:$i,__createBinding:Li,__values:Ni,__read:Bi,__spread:Wi,__spreadArrays:Gi,__await:Ui,__asyncGenerator:Hi,__asyncDelegator:Yi,__asyncValues:zi,__makeTemplateObject:qi,__importStar:Xi,__importDefault:Zi,__classPrivateFieldGet:Ki,__classPrivateFieldSet:Ji}=Tr.default;var Pr=function(t,a){return function(e){return Math.max(Math.min(e,a),t)}},ve=function(t){return t%1?Number(t.toFixed(5)):t},Ze=/(-)?(\d[\d\.]*)/g,Ie=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,Er=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i,S={test:function(t){return typeof t=="number"},parse:parseFloat,transform:function(t){return t}},et=j(j({},S),{transform:Pr(0,1)}),Zn=j(j({},S),{default:1}),de=function(t){return{test:function(a){return typeof a=="string"&&a.endsWith(t)&&a.split(" ").length===1},parse:parseFloat,transform:function(a){return""+a+t}}},tt=de("deg"),H=de("%"),rt=de("px"),Ar=de("vh"),Ir=de("vw"),Kn=j(j({},H),{parse:function(t){return H.parse(t)/100},transform:function(t){return H.transform(t*100)}}),Jn=function(t){return t.substring(t.indexOf("(")+1,t.lastIndexOf(")"))},Qn=Pr(0,255),Qe=function(t){return t.red!==void 0},ke=function(t){return t.hue!==void 0};function kn(t){return Jn(t).replace(/(,|\/)/g," ").split(/ \s*/)}var Mr=function(t){return function(a){if(typeof a!="string")return a;for(var e={},r=kn(a),n=0;n<4;n++)e[t[n]]=r[n]!==void 0?parseFloat(r[n]):1;return e}},ea=function(t){var a=t.red,e=t.green,r=t.blue,n=t.alpha,i=n===void 0?1:n;return"rgba("+a+", "+e+", "+r+", "+i+")"},ta=function(t){var a=t.hue,e=t.saturation,r=t.lightness,n=t.alpha,i=n===void 0?1:n;return"hsla("+a+", "+e+", "+r+", "+i+")"},Ke=j(j({},S),{transform:function(t){return Math.round(Qn(t))}});function nt(t,a){return t.startsWith(a)&&Er.test(t)}var Z={test:function(t){return typeof t=="string"?nt(t,"rgb"):Qe(t)},parse:Mr(["red","green","blue","alpha"]),transform:function(t){var a=t.red,e=t.green,r=t.blue,n=t.alpha,i=n===void 0?1:n;return ea({red:Ke.transform(a),green:Ke.transform(e),blue:Ke.transform(r),alpha:ve(et.transform(i))})}},K={test:function(t){return typeof t=="string"?nt(t,"hsl"):ke(t)},parse:Mr(["hue","saturation","lightness","alpha"]),transform:function(t){var a=t.hue,e=t.saturation,r=t.lightness,n=t.alpha,i=n===void 0?1:n;return ta({hue:Math.round(a),saturation:H.transform(ve(e)),lightness:H.transform(ve(r)),alpha:ve(et.transform(i))})}},Me=j(j({},Z),{test:function(t){return typeof t=="string"&&nt(t,"#")},parse:function(t){var a="",e="",r="";return t.length>4?(a=t.substr(1,2),e=t.substr(3,2),r=t.substr(5,2)):(a=t.substr(1,1),e=t.substr(2,1),r=t.substr(3,1),a+=a,e+=e,r+=r),{red:parseInt(a,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:1}}}),Y={test:function(t){return typeof t=="string"&&Er.test(t)||Qe(t)||ke(t)},parse:function(t){return Z.test(t)?Z.parse(t):K.test(t)?K.parse(t):Me.test(t)?Me.parse(t):t},transform:function(t){return Qe(t)?Z.transform(t):ke(t)?K.transform(t):t}},Je="${c}",xr="${n}",ra=function(t){return typeof t=="number"?0:t},z={test:function(t){if(typeof t!="string"||!isNaN(t))return!1;var a=0,e=t.match(Ze),r=t.match(Ie);return e&&(a+=e.length),r&&(a+=r.length),a>0},parse:function(t){var a=t,e=[],r=a.match(Ie);r&&(a=a.replace(Ie,Je),e.push.apply(e,r.map(Y.parse)));var n=a.match(Ze);return n&&e.push.apply(e,n.map(S.parse)),e},createTransformer:function(t){var a=t,e=0,r=t.match(Ie),n=r?r.length:0;if(r)for(var i=0;i<n;i++)a=a.replace(r[i],Je),e++;var o=a.match(Ze),u=o?o.length:0;if(o)for(var i=0;i<u;i++)a=a.replace(o[i],xr),e++;return function(f){for(var c=a,l=0;l<e;l++)c=c.replace(l<n?Je:xr,l<n?Y.transform(f[l]):ve(f[l]));return c}},getAnimatableNone:function(t){var a=z.parse(t),e=z.createTransformer(t);return e(a.map(ra))}};var $=function(){};var at=0,ro=typeof window<"u"&&window.requestAnimationFrame!==void 0?function(t){return window.requestAnimationFrame(t)}:function(t){var a=Date.now(),e=Math.max(0,16.7-(a-at));at=a+e,setTimeout(function(){return t(at)},e)};var no=1/60*1e3;var jr=function(t){return typeof t=="number"};var ot=function(t){return function(a,e,r){return r!==void 0?t(a,e,r):function(n){return t(a,e,n)}}},aa=function(t,a,e){return Math.min(Math.max(e,t),a)},Ce=ot(aa);var Dr=function(t,a,e){var r=a-t;return r===0?1:(e-t)/r},J=function(t,a,e){return-e*t+e*a+t};var it=function(){return it=Object.assign||function(a){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(a[i]=e[i])}return a},it.apply(this,arguments)},ia=function(t,a,e){var r=t*t,n=a*a;return Math.sqrt(Math.max(0,e*(n-r)+r))},oa=[Me,Z,K],Cr=function(t){return oa.find(function(a){return a.test(t)})},Rr=function(t){return"'"+t+"' is not an animatable color. Use the equivalent color code instead."},ut=function(t,a){var e=Cr(t),r=Cr(a);$(!!e,Rr(t)),$(!!r,Rr(a)),$(e.transform===r.transform,"Both colors must be hex/RGBA, OR both must be HSLA.");var n=e.parse(t),i=r.parse(a),o=it({},n),u=e===K?J:ia;return function(f){for(var c in o)c!=="alpha"&&(o[c]=u(n[c],i[c],f));return o.alpha=J(n.alpha,i.alpha,f),e.transform(o)}},ua=function(t,a){return function(e){return a(t(e))}},ft=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return t.reduce(ua)};function fa(t,a){return jr(t)?function(e){return J(t,a,e)}:Y.test(t)?ut(t,a):st(t,a)}var Vr=function(t,a){var e=t.slice(),r=e.length,n=t.map(function(i,o){return fa(i,a[o])});return function(i){for(var o=0;o<r;o++)e[o]=n[o](i);return e}};function Fr(t){for(var a=z.parse(t),e=a.length,r=0,n=0,i=0,o=0;o<e;o++)r||typeof a[o]=="number"?r++:a[o].hue!==void 0?i++:n++;return{parsed:a,numNumbers:r,numRGB:n,numHSL:i}}var st=function(t,a){var e=z.createTransformer(a),r=Fr(t),n=Fr(a);return $(r.numHSL===n.numHSL&&r.numRGB===n.numRGB&&r.numNumbers>=n.numNumbers,"Complex values '"+t+"' and '"+a+"' too different to mix. Ensure all colors are of the same type."),ft(Vr(r.parsed,n.parsed),e)};var sa=function(t){return t},ct=function(t){return t===void 0&&(t=sa),ot(function(a,e,r){var n=e-r,i=-(0-a+1)*(0-t(Math.abs(n)));return n<=0?e+i:e-i})},ca=ct(),la=ct(Math.sqrt),Re=function(t,a){return jr(t)?t/(1e3/a):0},lt=function(t,a){return a?t*(1e3/a):0},va=function(t,a,e){var r=a-t;return((e-t)%r+r)%r+t},da=ot(va),Io=Ce(0,1);var vt=0,Lr=typeof window<"u"&&window.requestAnimationFrame!==void 0?function(t){return window.requestAnimationFrame(t)}:function(t){var a=Date.now(),e=Math.max(0,16.7-(a-vt));vt=a+e,setTimeout(function(){return t(vt)},e)},pa=function(t){var a=[],e=[],r=0,n=!1,i=0,o=new WeakSet,u=new WeakSet,f={cancel:function(c){var l=e.indexOf(c);o.add(c),l!==-1&&e.splice(l,1)},process:function(c){var l;if(n=!0,l=[e,a],a=l[0],e=l[1],e.length=0,r=a.length,r){var s;for(i=0;i<r;i++)s=a[i],s(c),u.has(s)===!0&&!o.has(s)&&(f.schedule(s),t(!0))}n=!1},schedule:function(c,l,s){l===void 0&&(l=!1),s===void 0&&(s=!1),$(typeof c=="function","Argument must be a function");var v=s&&n,h=v?a:e;o.delete(c),l&&u.add(c),h.indexOf(c)===-1&&(h.push(c),v&&(r=a.length))}};return f},ma=40,$r=1/60*1e3,Fe=!0,pe=!1,dt=!1,Q={delta:0,timestamp:0},je=["read","update","preRender","render","postRender"],ha=function(t){return pe=t},pt=je.reduce(function(t,a){return t[a]=pa(ha),t},{}),ga=je.reduce(function(t,a){var e=pt[a];return t[a]=function(r,n,i){return n===void 0&&(n=!1),i===void 0&&(i=!1),pe||ba(),e.schedule(r,n,i),r},t},{}),N=je.reduce(function(t,a){return t[a]=pt[a].cancel,t},{}),ya=function(t){return pt[t].process(Q)},Nr=function(t){pe=!1,Q.delta=Fe?$r:Math.max(Math.min(t-Q.timestamp,ma),1),Fe||($r=Q.delta),Q.timestamp=t,dt=!0,je.forEach(ya),dt=!1,pe&&(Fe=!1,Lr(Nr))},ba=function(){pe=!0,Fe=!0,dt||Lr(Nr)},Br=function(){return Q},B=ga;var sn=ge(fn(),1),{__extends:Do,__assign:_a,__rest:wa,__decorate:Vo,__param:$o,__metadata:Lo,__awaiter:No,__generator:Bo,__exportStar:Wo,__createBinding:Go,__values:Uo,__read:Ho,__spread:Yo,__spreadArrays:zo,__await:qo,__asyncGenerator:Xo,__asyncDelegator:Zo,__asyncValues:Ko,__makeTemplateObject:Jo,__importStar:Qo,__importDefault:ko,__classPrivateFieldGet:eu,__classPrivateFieldSet:tu}=sn.default;var ht=0,au=typeof window<"u"&&window.requestAnimationFrame!==void 0?function(t){return window.requestAnimationFrame(t)}:function(t){var a=Date.now(),e=Math.max(0,16.7-(a-ht));ht=a+e,setTimeout(function(){return t(ht)},e)};var iu=1/60*1e3;var Oa=["Webkit","Moz","O","ms",""],vu=Oa.length;var Ta=(function(){function t(a){a===void 0&&(a={}),this.props=a}return t.prototype.applyMiddleware=function(a){return this.create(R(R({},this.props),{middleware:this.props.middleware?rr([a],this.props.middleware):[a]}))},t.prototype.pipe=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var r=a.length===1?a[0]:ft.apply(void 0,a);return this.applyMiddleware(function(n){return function(i){return n(r(i))}})},t.prototype.while=function(a){return this.applyMiddleware(function(e,r){return function(n){return a(n)?e(n):r()}})},t.prototype.filter=function(a){return this.applyMiddleware(function(e){return function(r){return a(r)&&e(r)}})},t})(),cn=(function(){function t(a,e){var r=this,n=a.middleware,i=a.onComplete;this.isActive=!0,this.update=function(o){r.observer.update&&r.updateObserver(o)},this.complete=function(){r.observer.complete&&r.isActive&&r.observer.complete(),r.onComplete&&r.onComplete(),r.isActive=!1},this.error=function(o){r.observer.error&&r.isActive&&r.observer.error(o),r.isActive=!1},this.observer=e,this.updateObserver=function(o){return e.update(o)},this.onComplete=i,e.update&&n&&n.length&&n.forEach(function(o){return r.updateObserver=o(r.updateObserver,r.complete)})}return t})(),xa=function(t,a,e){var r=a.middleware;return typeof t=="function"?new cn({middleware:r,onComplete:e},{update:t}):new cn({middleware:r,onComplete:e},t)},Pa=(function(t){tr(a,t);function a(){return t!==null&&t.apply(this,arguments)||this}return a.prototype.create=function(e){return new a(e)},a.prototype.start=function(e){e===void 0&&(e={});var r=!1,n={stop:function(){}},i=this.props,o=i.init,u=Pe(i,["init"]),f=xa(e,u,function(){r=!0,n.stop()}),c=o(f);return n=c?R(R({},n),c):n,e.registerParent&&e.registerParent(n),r&&n.stop(),n},a})(Ta),G=function(t){return new Pa({init:t})};var hn=function(t){var a=t.getCount,e=t.getFirst,r=t.getOutput,n=t.mapApi,i=t.setProp,o=t.startActions;return function(u){return G(function(f){var c=f.update,l=f.complete,s=f.error,v=a(u),h=r(),d=function(){return c(h)},_=0,g=o(u,function(b,y){var O=!1;return b.start({complete:function(){O||(O=!0,_++,_===v&&B.update(l))},error:s,update:function(x){i(h,y,x),B.update(d,!1,!0)}})});return Object.keys(e(g)).reduce(function(b,y){return b[y]=n(g,y),b},{})})}},Ea=hn({getOutput:function(){return{}},getCount:function(t){return Object.keys(t).length},getFirst:function(t){return t[Object.keys(t)[0]]},mapApi:function(t,a){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Object.keys(t).reduce(function(n,i){var o;return t[i][a]&&(e[0]&&e[0][i]!==void 0?n[i]=t[i][a](e[0][i]):n[i]=(o=t[i])[a].apply(o,e)),n},{})}},setProp:function(t,a,e){return t[a]=e},startActions:function(t,a){return Object.keys(t).reduce(function(e,r){return e[r]=a(t[r],r),e},{})}}),Aa=hn({getOutput:function(){return[]},getCount:function(t){return t.length},getFirst:function(t){return t[0]},mapApi:function(t,a){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.map(function(n,i){if(n[a])return Array.isArray(e[0])?n[a](e[0][i]):n[a].apply(n,e)})}},setProp:function(t,a,e){return t[a]=e},startActions:function(t,a){return t.map(function(e,r){return a(e,r)})}}),Ia=function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Aa(t)},Ma=function(t){var a=Object.keys(t),e=function(i,o){return i!==void 0&&!t[o](i)},r=function(i){return a.reduce(function(o,u){return e(i[u],u)&&o.push(u),o},[])},n=function(i){return i&&a.some(function(o){return e(i[o],o)})};return{getVectorKeys:r,testVectorProps:n}},Ca=[rt,H,tt,Ar,Ir],gt=function(t){return Ca.find(function(a){return a.test(t)})},Ra=function(t){return!!gt(t)},ln=function(t,a){return t(a)},Fa=function(t){return function(a,e){return a[e]=a[e][t],a}},ja=function(t,a,e){var r=e[0],n=a[r].map(function(i,o){var u=e.reduce(Fa(o),R({},a));return yt(i)(t,u)});return Ia.apply(void 0,n)},Da=function(t){return function(a,e){return a[e]=a[e][t],a}},Va=function(t,a,e){var r=e[0],n=Object.keys(a[r]).reduce(function(i,o){var u=e.reduce(Da(o),R({},a));return i[o]=yt(a[r][o])(t,u),i},{});return Ea(n)},$a=function(t,a){var e=a.from,r=a.to,n=Pe(a,["from","to"]),i=gt(e)||gt(r),o=i.transform,u=i.parse;return t(R(R({},n),{from:typeof e=="string"?u(e):e,to:typeof r=="string"?u(r):r})).pipe(o)},gn=function(t){return function(a,e){var r=e.from,n=e.to,i=Pe(e,["from","to"]);return a(R(R({},i),{from:0,to:1})).pipe(t(r,n))}},La=gn(ut),Na=gn(st),me=function(t,a){var e=Ma(a),r=e.testVectorProps,n=e.getVectorKeys,i=function(o){var u=r(o);if(!u)return t(o);var f=n(o),c=f[0],l=o[c];return yt(l)(t,o,f)};return i},yt=function(t){return typeof t=="number"?ln:Array.isArray(t)?ja:Ra(t)?$a:Y.test(t)?La:z.test(t)?Na:typeof t=="object"?Va:ln},yn=function(t){return t===void 0&&(t={}),G(function(a){var e=a.complete,r=a.update,n=t.velocity,i=n===void 0?0:n,o=t.from,u=o===void 0?0:o,f=t.power,c=f===void 0?.8:f,l=t.timeConstant,s=l===void 0?350:l,v=t.restDelta,h=v===void 0?.5:v,d=t.modifyTarget,_=0,g=c*i,b=u+g,y=typeof d>"u"?b:d(b);y!==b&&(g=y-u);var O=B.update(function(x){var w=x.delta;_+=w;var p=-g*Math.exp(-_/s),m=p>h||p<-h,T=m?y+p:y;r(T),m||(N.update(O),e())},!0);return{stop:function(){return N.update(O)}}})},Du=me(yn,{from:S.test,modifyTarget:function(t){return typeof t=="function"},velocity:S.test}),bn=function(t){return t===void 0&&(t={}),G(function(a){var e=a.update,r=a.complete,n=t.velocity,i=n===void 0?0:n,o=t.from,u=o===void 0?0:o,f=t.to,c=f===void 0?0:f,l=t.stiffness,s=l===void 0?100:l,v=t.damping,h=v===void 0?10:v,d=t.mass,_=d===void 0?1:d,g=t.restSpeed,b=g===void 0?.01:g,y=t.restDelta,O=y===void 0?.01:y,x=i?-(i/1e3):0,w=0,p=c-u,m=u,T=m,M=B.update(function(L){var D=L.delta;w+=D;var A=h/(2*Math.sqrt(s*_)),I=Math.sqrt(s/_)/1e3;if(T=m,A<1){var C=Math.exp(-A*I*w),P=I*Math.sqrt(1-A*A);m=c-C*((x+A*I*p)/P*Math.sin(P*w)+p*Math.cos(P*w))}else{var C=Math.exp(-I*w);m=c-C*(p+(x+I*p)*w)}i=lt(m-T,D);var V=Math.abs(i)<=b,E=Math.abs(c-m)<=O;V&&E?(m=c,e(m),N.update(M),r()):e(m)},!0);return{stop:function(){return N.update(M)}}})},Vu=me(bn,{from:S.test,to:S.test,stiffness:S.test,damping:S.test,mass:S.test,velocity:S.test}),Ba=function(t){var a=t.from,e=a===void 0?0:a,r=t.velocity,n=r===void 0?0:r,i=t.min,o=t.max,u=t.power,f=u===void 0?.8:u,c=t.timeConstant,l=c===void 0?700:c,s=t.bounceStiffness,v=s===void 0?500:s,h=t.bounceDamping,d=h===void 0?10:h,_=t.restDelta,g=_===void 0?1:_,b=t.modifyTarget;return G(function(y){var O=y.update,x=y.complete,w=e,p=e,m,T=function(E){return i!==void 0&&E<i||o!==void 0&&E>o},M=function(E){return Math.abs(i-E)<Math.abs(o-E)?i:o},L=function(E,U){m&&m.stop(),m=E.start({update:O,complete:function(){if(U){U();return}x()}})},D=function(E){L(bn(R(R({},E),{stiffness:v,damping:d,restDelta:g})))};if(T(e))D({from:e,velocity:n,to:M(e)});else{var A=f*n+e;typeof b<"u"&&(A=b(A),b=void 0,n=(A-e)/f);var I=yn({from:e,velocity:n,timeConstant:l,power:f,restDelta:g,modifyTarget:b}),C=void 0;if(T(A)){var P=M(A),V=P==i?-1:1;I=I.while(function(E){return w=p,n=lt(E-w,Br().delta),p=E,P-E*V>0}),C=function(){return D({from:p,to:P,velocity:n})}}L(I,C)}return{stop:function(){return m&&m.stop()}}})},$u=me(Ba,{from:S.test,velocity:S.test,min:S.test,max:S.test,damping:S.test,stiffness:S.test,modifyTarget:function(t){return typeof t=="function"}});var Wa=function(t){var a=t.from,e=a===void 0?0:a,r=t.to,n=r===void 0?1:r,i=t.ease,o=i===void 0?ae:i,u=t.reverseEase,f=u===void 0?!1:u;return f&&(o=St(o)),G(function(c){var l=c.update;return{seek:function(s){return l(s)}}}).pipe(o,function(c){return J(e,n,c)})},vn=me(Wa,{ease:function(t){return typeof t=="function"},from:S.test,to:S.test}),Ga=Ce(0,1),_n=function(t){return t===void 0&&(t={}),G(function(a){var e=a.update,r=a.complete,n=t.duration,i=n===void 0?300:n,o=t.ease,u=o===void 0?oe:o,f=t.flip,c=f===void 0?0:f,l=t.loop,s=l===void 0?0:l,v=t.yoyo,h=v===void 0?0:v,d=t.repeatDelay,_=d===void 0?0:d,g=t.from,b=g===void 0?0:g,y=t.to,O=y===void 0?1:y,x=t.elapsed,w=x===void 0?0:x,p=t.flipCount,m=p===void 0?0:p,T=t.yoyoCount,M=T===void 0?0:T,L=t.loopCount,D=L===void 0?0:L,A=vn({from:b,to:O,ease:u}).start(e),I=0,C,P=!1,V=function(F){var re;F===void 0&&(F=!1),re=[O,b],b=re[0],O=re[1],A=vn({from:b,to:O,ease:u,reverseEase:F}).start(e)},E=function(){var F=P&&w>i+_;return F?F&&!s&&!c&&!h?!0:(w=i-(w-_),s&&D<s?(D++,!1):c&&m<c?(m++,V(),!1):h&&M<h?(M++,V(M%2!==0),!1):!0):!1},U=function(){I=Ga(Dr(0,i,w)),A.seek(I)},te=function(){P=!0,C=B.update(function(F){var re=F.delta;w+=re,U(),E()&&(N.update(C),r&&B.update(r,!1,!0))},!0)},W=function(){P=!1,C&&N.update(C)};return te(),{isActive:function(){return P},getElapsed:function(){return Ce(0,i,w)},getProgress:function(){return I},stop:function(){W()},pause:function(){return W(),this},resume:function(){return P||te(),this},seek:function(F){return w=J(0,i,F),B.update(U,!1,!0),this},reverse:function(){return V(),this}}})};var Ua=function(t){return t===void 0&&(t={}),G(function(a){var e=a.complete,r=a.update,n=t.acceleration,i=n===void 0?0:n,o=t.friction,u=o===void 0?0:o,f=t.velocity,c=f===void 0?0:f,l=t.springStrength,s=t.to,v=t.restSpeed,h=v===void 0?.001:v,d=t.from,_=d===void 0?0:d,g=_,b=B.update(function(y){var O=y.delta,x=Math.max(O,16);if(i&&(c+=Re(i,x)),u&&(c*=Math.pow(1-u,x/100)),l!==void 0&&s!==void 0){var w=s-g;c+=w*Re(l,x)}g+=Re(c,x),r(g);var p=h!==!1&&(!c||Math.abs(c)<=h);p&&(N.update(b),e())},!0);return{set:function(y){return g=y,this},setAcceleration:function(y){return i=y,this},setFriction:function(y){return u=y,this},setSpringStrength:function(y){return l=y,this},setSpringTarget:function(y){return s=y,this},setVelocity:function(y){return c=y,this},stop:function(){return N.update(b)}}})},Lu=me(Ua,{acceleration:S.test,friction:S.test,velocity:S.test,from:S.test,to:S.test,springStrength:S.test});var wn=function(t,a,e){return G(function(r){var n=r.update,i=a.split(" ").map(function(o){return t.addEventListener(o,n,e),o});return{stop:function(){return i.forEach(function(o){return t.removeEventListener(o,n,e)})}}})},bt=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}},On=function(t,a){return a===void 0&&(a=bt()),a.clientX=a.x=t.clientX,a.clientY=a.y=t.clientY,a.pageX=t.pageX,a.pageY=t.pageY,a},dn=[bt()],Ha=!1;typeof document<"u"&&(pn=function(t){var a=t.touches;Ha=!0;var e=a.length;dn.length=0;for(var r=0;r<e;r++){var n=a[r];dn.push(On(n))}},wn(document,"touchstart touchmove",{passive:!0,capture:!0}).start(pn));var pn;var Ya=bt(),za=!1;typeof document<"u"&&(mn=function(t){za=!0,On(t,Ya)},wn(document,"mousedown mousemove",!0).start(mn));var mn;var Sn={anticipate:We,backIn:ue,backInOut:Be,backOut:Ne,circIn:_e,circInOut:Le,circOut:we,easeIn:ie,easeInOut:be,easeOut:oe,linear:ae},ee="animateGridId",_t=(t,a)=>{let{top:e,left:r,width:n,height:i}=a.getBoundingClientRect(),o={top:e,left:r,width:n,height:i};return o.top-=t.top,o.left-=t.left,o.top=Math.max(o.top,0),o.left=Math.max(o.left,0),o},Tn=(t,{translateX:a,translateY:e,scaleX:r,scaleY:n},{immediate:i}={})=>{let o=a===0&&e===0&&r===1&&n===1,u=()=>{t.style.transform=o?"":`translateX(${a}px) translateY(${e}px) scaleX(${r}) scaleY(${n})`};i?u():le.render(u);let f=t.children[0];if(f){let c=()=>{f.style.transform=o?"":`scaleX(${1/r}) scaleY(${1/n})`};i?c():le.render(c)}},Hu=(t,{duration:a=250,stagger:e=0,easing:r="easeInOut",onStart:n=()=>{},onEnd:i=()=>{}}={})=>{if(!Sn[r])throw new Error(`${r} is not a valid easing name`);let o=!1,u=g=>{o=!0,g(),setTimeout(()=>{o=!1},0)},f={},c=g=>{let b=t.getBoundingClientRect();Array.from(g).forEach(y=>{if(typeof y.getBoundingClientRect!="function")return;if(!y.dataset[ee]){let w=`${Math.random()}`;y.dataset[ee]=w}let O=y.dataset[ee];f[O]||(f[O]={});let x=_t(b,y);f[O].rect=x,f[O].gridBoundingClientRect=b})};c(t.children);let l=(0,wt.default)(()=>{let g=document.querySelector("body"),b=g&&!g.contains(t);(!t||b)&&window.removeEventListener("resize",l),c(t.children)},250);window.addEventListener("resize",l);let s=(0,wt.default)(()=>{c(t.children)},20);t.addEventListener("scroll",s);let v=g=>{if(g!=="forceGridAnimation"&&(!g.filter(m=>m.attributeName==="class"||m.addedNodes.length||m.removedNodes.length).length||o))return;let b=t.getBoundingClientRect(),y=Array.from(t.children);y.filter(p=>{let m=f[p.dataset[ee]];if(m&&m.stopTween)return m.stopTween(),delete m.stopTween,!0}).forEach(p=>{p.style.transform="";let m=p.children[0];m&&(m.style.transform="")});let O=y.map(p=>({childCoords:{},el:p,boundingClientRect:_t(b,p)})).filter(({el:p,boundingClientRect:m})=>{let T=f[p.dataset[ee]];if(T){if(m.top===T.rect.top&&m.left===T.rect.left&&m.width===T.rect.width&&m.height===T.rect.height)return!1}else return c([p]),!1;return!0});if(O.forEach(({el:p})=>{if(Array.from(p.children).length>1)throw new Error("Make sure every grid item has a single container element surrounding its children")}),!O.length)return;let x=O.map(({el:p})=>p);u(()=>n(x));let w=[];O.map(p=>{let m=p.el.children[0];return m&&(p.childCoords=_t(b,m)),p}).forEach(({el:p,boundingClientRect:{top:m,left:T,width:M,height:L},childCoords:{top:D,left:A}},I)=>{let C=p.children[0],P=f[p.dataset[ee]],V={scaleX:P.rect.width/M,scaleY:P.rect.height/L,translateX:P.rect.left-T,translateY:P.rect.top-m};p.style.transformOrigin="0 0",C&&A===T&&D===m&&(C.style.transformOrigin="0 0");let E,U=new Promise(W=>{E=W});w.push(U),Tn(p,V,{immediate:!0});let te=()=>{let{stop:W}=_n({from:V,to:{translateX:0,translateY:0,scaleX:1,scaleY:1},duration:a,ease:Sn[r]}).start({update:F=>{Tn(p,F),le.postRender(()=>c([p]))},complete:E});P.stopTween=W};if(typeof e!="number")te();else{let W=setTimeout(()=>{le.update(te)},e*I);P.stopTween=()=>clearTimeout(W)}}),Promise.all(w).then(()=>{i(x)})},h=new MutationObserver(v);return h.observe(t,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["class"]}),{unwrapGrid:()=>{window.removeEventListener("resize",l),t.removeEventListener("scroll",s),h.disconnect()},forceGridAnimation:()=>v("forceGridAnimation")}};export{Hu as wrapGrid};
