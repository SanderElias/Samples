import{a as M,d as b}from"./chunk-CDND3NPW.js";import"./chunk-JY3VNBBJ.js";import{$ as f,Qc as i,Rc as D,Za as u,Zb as s,_b as o,ea as h,p as g,pa as v,rb as E,va as d,wc as r,yc as m}from"./chunk-BFNFKNMI.js";import"./chunk-C6Q5SG76.js";var c=1e3,p=60*c,l=60*p,y=24*l,C=(()=>{class n{constructor(){this.des=h(v),this.downFrom=1*l,this.startTime=Date.now(),this.now=d(Date.now()),this.trueDuration=i(()=>+this.now()-+this.startTime-(this.downFrom||0)),this.duration=i(()=>Math.abs(this.trueDuration())),this.days=i(()=>Math.floor(this.duration()/y)),this.hours=i(()=>Math.floor(this.duration()%y/l)),this.minutes=i(()=>Math.floor(this.duration()%l/p)),this.seconds=i(()=>Math.floor(this.duration()%p/c)),this.milliseconds=i(()=>this.duration()%c),this.int=setInterval(()=>{let e=Date.now();this.now.set(e);let t=this.duration(),a=this.downFrom;console.log({durarion:t,now:e,down:a})},500),this._=this.des.onDestroy(()=>{clearInterval(this.int)})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=E({type:n,selectors:[["se-timer"]],decls:15,vars:5,template:function(t,a){t&1&&(s(0,"h1"),r(1,"Timer Component"),o(),s(2,"p"),r(3,"Elapsed Time:"),o(),s(4,"ul")(5,"li"),r(6),o(),s(7,"li"),r(8),o(),s(9,"li"),r(10),o(),s(11,"li"),r(12),o(),s(13,"li"),r(14),o()()),t&2&&(u(6),m("",a.days()," days"),u(2),m("",a.hours()," hours"),u(2),m("",a.minutes()," minutes"),u(2),m("",a.seconds()," seconds"),u(2),m("",a.milliseconds()," milliseconds"))},styles:["[_nghost-%COMP%]{display:block}"]})}}return n})(),T=(()=>{class n{constructor(){this.#e=h(M),this.#i=d(d(void 0).asReadonly()),this.#t=D(()=>this.#i()()),this.#s=i(()=>{let e=this.#t();return e?`https://api.example.com/users/${e}`:void 0}),this.userResource=b(this.#s),this.actionRunning=d(!1),this.lastError=d(void 0),this.#n=e=>(this.actionRunning.set(!0),this.lastError.set(void 0),g(e).then(()=>!0).catch(t=>(this.lastError.set(t),!1)).finally(()=>this.actionRunning.set(!1)))}#e;#i;#t;#s;#n;link(e){return this.#i.set(e),this}create(e){return this.#n(this.#e.post("https://api.example.com/users/user",e))}read(e){this.#t.set(e)}update(e){return this.#n(this.#e.put(`https://api.example.com/users/${e.id}`,e)).then(t=>(t&&this.userResource.value.set(e),t))}delete(e){return this.#n(this.#e.delete(`https://api.example.com/users/${e}`)).then(t=>(t&&(this.#t.set(void 0),this.userResource.value.set(void 0)),t))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=f({token:n,factory:n.\u0275fac})}}return n})();export{C as TimerComponent,T as UserService};
