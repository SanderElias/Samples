"use strict";(self.webpackChunksamples=self.webpackChunksamples||[]).push([[397],{5557:(M,v,n)=>{n.d(v,{t:()=>y});var g=n(8023),T=n(2069);class y extends g.x{constructor(c=1/0,d=1/0,r=T.l){super(),this._bufferSize=c,this._windowTime=d,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=d===1/0,this._bufferSize=Math.max(1,c),this._windowTime=Math.max(1,d)}next(c){const{isStopped:d,_buffer:r,_infiniteTimeWindow:u,_timestampProvider:l,_windowTime:h}=this;d||(r.push(c),!u&&r.push(l.now()+h)),this._trimBuffer(),super.next(c)}_subscribe(c){this._throwIfClosed(),this._trimBuffer();const d=this._innerSubscribe(c),{_infiniteTimeWindow:r,_buffer:u}=this,l=u.slice();for(let h=0;h<l.length&&!c.closed;h+=r?1:2)c.next(l[h]);return this._checkFinalizedStatuses(c),d}_trimBuffer(){const{_bufferSize:c,_timestampProvider:d,_buffer:r,_infiniteTimeWindow:u}=this,l=(u?1:2)*c;if(c<1/0&&l<r.length&&r.splice(0,r.length-l),!u){const h=d.now();let f=0;for(let t=1;t<r.length&&r[t]<=h;t+=2)f=t;f&&r.splice(0,f+1)}}}},3151:(M,v,n)=>{n.d(v,{b:()=>p});var g=n(2844),T=n(2085),y=n(8499);function p(c,d=g.z){return(0,T.e)((r,u)=>{let l=null,h=null,f=null;const t=()=>{if(l){l.unsubscribe(),l=null;const o=h;h=null,u.next(o)}};function s(){const o=f+c,e=d.now();if(e<o)return l=this.schedule(void 0,o-e),void u.add(l);t()}r.subscribe((0,y.x)(u,o=>{h=o,f=d.now(),l||(l=d.schedule(s,c),u.add(l))},()=>{t(),u.complete()},void 0,()=>{h=l=null}))})}},6466:(M,v,n)=>{n.d(v,{d:()=>y});var g=n(5557),T=n(815);function y(p,c,d){var r,u;let l,h=!1;return p&&"object"==typeof p?(l=null!==(r=p.bufferSize)&&void 0!==r?r:1/0,c=null!==(u=p.windowTime)&&void 0!==u?u:1/0,h=!!p.refCount,d=p.scheduler):l=null!=p?p:1/0,(0,T.B)({connector:()=>new g.t(l,c,d),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}},2844:(M,v,n)=>{n.d(v,{P:()=>h,z:()=>l});var g=n(4813);class T extends g.w0{constructor(t,s){super()}schedule(t,s=0){return this}}const y={setInterval(...f){const{delegate:t}=y;return((null==t?void 0:t.setInterval)||setInterval)(...f)},clearInterval(f){const{delegate:t}=y;return((null==t?void 0:t.clearInterval)||clearInterval)(f)},delegate:void 0};var p=n(8308),d=n(2069);class r{constructor(t,s=r.now){this.schedulerActionCtor=t,this.now=s}schedule(t,s=0,o){return new this.schedulerActionCtor(this,t).schedule(o,s)}}r.now=d.l.now;const l=new class u extends r{constructor(t,s=r.now){super(t,s),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:s}=this;if(this._active)return void s.push(t);let o;this._active=!0;do{if(o=t.execute(t.state,t.delay))break}while(t=s.shift());if(this._active=!1,o){for(;t=s.shift();)t.unsubscribe();throw o}}}(class c extends T{constructor(t,s){super(t,s),this.scheduler=t,this.work=s,this.pending=!1}schedule(t,s=0){if(this.closed)return this;this.state=t;const o=this.id,e=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(e,o,s)),this.pending=!0,this.delay=s,this.id=this.id||this.requestAsyncId(e,this.id,s),this}requestAsyncId(t,s,o=0){return y.setInterval(t.flush.bind(t,this),o)}recycleAsyncId(t,s,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return s;y.clearInterval(s)}execute(t,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(t,s);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,s){let e,o=!1;try{this.work(t)}catch(C){o=!0,e=C||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),e}unsubscribe(){if(!this.closed){const{id:t,scheduler:s}=this,{actions:o}=s;this.work=this.state=this.scheduler=null,this.pending=!1,(0,p.P)(o,this),null!=t&&(this.id=this.recycleAsyncId(s,t,null)),this.delay=null,super.unsubscribe()}}}),h=l},2069:(M,v,n)=>{n.d(v,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},9397:(M,v,n)=>{n.r(v),n.d(v,{TumblrModule:()=>O});var g=n(1048),T=n(3290),y=n(4121),p=n(9018),c=n(985),d=n(4581),r=n(4970),u=n(1528),l=n(3568),h=n(2993),f=n(7969),t=n(6466),s=n(3151),o=n(2147),e=n(9724),C=n(9725);function D(i,P){if(1&i){const a=e.EpF();e.TgZ(0,"article",3),e.NdJ("click",function(){const A=e.CHM(a).index;return e.oxw().switch(A)}),e._UZ(1,"img",4),e.qZA()}if(2&i){const a=P.$implicit,S=P.index,m=e.oxw();e.ekj("large",1===m.largePositions[S])("super",2===m.largePositions[S]),e.xp6(1),e.Q6J("src",null==a.images[0]?null:a.images[0].link,e.LSH)}}let E=(()=>{class i{constructor(a,S){this.http=a,this.ref=S,this.largePositions=Array.from({length:250},()=>Math.random()<.2?1:0),this.searchKey$=new y.X("kitten"),this.results$=this.searchKey$.pipe((0,r.h)(m=>!!m),(0,u.w)(m=>this.http.get(`https://api.imgur.com/3/gallery/t/${m}`,{headers:{Authorization:"Client-ID e972ca06cc4b961"}}).pipe((0,l.K)(A=>p.E))),(0,h.j)("data","items"),(0,r.h)(m=>!!m),(0,f.U)(m=>m.filter(A=>[I.ImageJPEG,I.ImagePNG].includes(A.images&&A.images[0].type))),(0,t.d)(1))}setSearch(a){console.log(a)}switch(a){this.largePositions[a]+=1,this.largePositions[a]>2&&(this.largePositions[a]=0)}ngOnInit(){const a=this.ref.nativeElement;if(a){const S=a.getElementsByTagName("input")[0];(0,c.D)(n.e(480).then(n.t.bind(n,1480,23))).pipe((0,f.U)(({wrapGrid:m})=>m(a.querySelector("#grid"))),(0,u.w)(()=>(0,d.R)(S,"input")),(0,f.U)(m=>m.target.value),(0,s.b)(400),(0,o.x)(),(0,r.h)(m=>m.length>0)).subscribe(this.searchKey$)}}}return i.\u0275fac=function(a){return new(a||i)(e.Y36(C.eN),e.Y36(e.SBq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-tumblr"]],decls:6,vars:6,consts:[["type","search",3,"value"],["id","grid"],[3,"large","super","click",4,"ngFor","ngForOf"],[3,"click"],["loading","lazy",3,"src"]],template:function(a,S){1&a&&(e.TgZ(0,"div"),e._UZ(1,"input",0),e.ALo(2,"async"),e.qZA(),e.TgZ(3,"div",1),e.YNc(4,D,2,5,"article",2),e.ALo(5,"async"),e.qZA()),2&a&&(e.xp6(1),e.Q6J("value",e.lcZ(2,2,S.searchKey$)),e.xp6(3),e.Q6J("ngForOf",e.lcZ(5,4,S.results$)))},directives:[g.sg],pipes:[g.Ov],styles:["root[_ngcontent-%COMP%] {\n    --image-nth: 3;\n  }\n  [_nghost-%COMP%] {\n    display: block;\n    height: 100%;\n  }\n  #grid[_ngcontent-%COMP%] {\n    display: grid;\n    height: 87vh;\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n    grid-auto-rows: 150px;\n    grid-auto-flow: dense;\n    overflow-x: auto;\n    gap: 4px;\n  }\n\n  .large[_ngcontent-%COMP%] {\n    grid-column: span 2;\n    grid-row: span 2;\n  }\n  .super[_ngcontent-%COMP%] {\n    grid-column: span 4;\n    grid-row: span 4;\n  }\n\n  img[_ngcontent-%COMP%] {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }"]}),i})();var I=(()=>{return(i=I||(I={})).ImageGIF="image/gif",i.ImageJPEG="image/jpeg",i.ImagePNG="image/png",i.VideoMp4="video/mp4",I;var i})();const w=[{path:"",component:E}];let F=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[T.Bz.forChild(w)],T.Bz]}),i})(),O=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[g.ez,F]]}),i})()}}]);