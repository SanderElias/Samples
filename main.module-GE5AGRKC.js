import{d as cr,e as lr}from"./chunk-C6Q5SG76.js";var _r=cr((aa,Or)=>{"use strict";var wr="Expected a function",br=NaN,Pt="[object Symbol]",It=/^\s+|\s+$/g,Rt=/^[-+]0x[0-9a-f]+$/i,Ft=/^0b[01]+$/i,Vt=/^0o[0-7]+$/i,Dt=parseInt,$t=typeof global=="object"&&global&&global.Object===Object&&global,Lt=typeof self=="object"&&self&&self.Object===Object&&self,jt=$t||Lt||Function("return this")(),Nt=Object.prototype,Bt=Nt.toString,Ut=Math.max,Wt=Math.min,Le=function(){return jt.Date.now()};function Gt(e,t,r){var n,a,i,o,u,s,f=0,v=!1,c=!1,m=!0;if(typeof e!="function")throw new TypeError(wr);t=yr(t)||0,ye(r)&&(v=!!r.leading,c="maxWait"in r,i=c?Ut(yr(r.maxWait)||0,t):i,m="trailing"in r?!!r.trailing:m);function y(l){var d=n,x=a;return n=a=void 0,f=l,o=e.apply(x,d),o}function b(l){return f=l,u=setTimeout(h,t),v?y(l):o}function S(l){var d=l-s,x=l-f,I=t-d;return c?Wt(I,i-x):I}function g(l){var d=l-s,x=l-f;return s===void 0||d>=t||d<0||c&&x>=i}function h(){var l=Le();if(g(l))return p(l);u=setTimeout(h,S(l))}function p(l){return u=void 0,m&&n?y(l):(n=a=void 0,o)}function O(){u!==void 0&&clearTimeout(u),f=0,n=s=a=u=void 0}function A(){return u===void 0?o:p(Le())}function w(){var l=Le(),d=g(l);if(n=arguments,a=this,s=l,d){if(u===void 0)return b(s);if(c)return u=setTimeout(h,t),y(s)}return u===void 0&&(u=setTimeout(h,t)),o}return w.cancel=O,w.flush=A,w}function Ht(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(wr);return ye(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Gt(e,t,{leading:n,maxWait:t,trailing:a})}function ye(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Yt(e){return!!e&&typeof e=="object"}function zt(e){return typeof e=="symbol"||Yt(e)&&Bt.call(e)==Pt}function yr(e){if(typeof e=="number")return e;if(zt(e))return br;if(ye(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ye(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(It,"");var r=Ft.test(e);return r||Vt.test(e)?Dt(e.slice(2),r?2:8):Rt.test(e)?br:+e}Or.exports=Ht});var Gr=cr((ia,Oe)=>{"use strict";var Sr,xr,Tr,Ar,Er,Cr,Mr,Pr,Ir,we,je,Rr,Fr,z,Vr,Dr,$r,Lr,jr,Nr,Br,Ur,Wr;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof Oe=="object"&&typeof Oe.exports=="object"?e(r(t,r(Oe.exports))):e(r(t));function r(n,a){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(i,o){return n[i]=a?a(i,o):o}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])};Sr=function(r,n){t(r,n);function a(){this.constructor=r}r.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)},xr=Object.assign||function(r){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},Tr=function(r,n){var a={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&n.indexOf(i)<0&&(a[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(a[i[o]]=r[i[o]]);return a},Ar=function(r,n,a,i){var o=arguments.length,u=o<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,a):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(r,n,a,i);else for(var f=r.length-1;f>=0;f--)(s=r[f])&&(u=(o<3?s(u):o>3?s(n,a,u):s(n,a))||u);return o>3&&u&&Object.defineProperty(n,a,u),u},Er=function(r,n){return function(a,i){n(a,i,r)}},Cr=function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},Mr=function(r,n,a,i){function o(u){return u instanceof a?u:new a(function(s){s(u)})}return new(a||(a=Promise))(function(u,s){function f(m){try{c(i.next(m))}catch(y){s(y)}}function v(m){try{c(i.throw(m))}catch(y){s(y)}}function c(m){m.done?u(m.value):o(m.value).then(f,v)}c((i=i.apply(r,n||[])).next())})},Pr=function(r,n){var a={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,s;return s={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function f(c){return function(m){return v([c,m])}}function v(c){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(u=c[0]&2?o.return:c[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,c[1])).done)return u;switch(o=0,u&&(c=[c[0]&2,u.value]),c[0]){case 0:case 1:u=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,o=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(c[0]===6||c[0]===2)){a=0;continue}if(c[0]===3&&(!u||c[1]>u[0]&&c[1]<u[3])){a.label=c[1];break}if(c[0]===6&&a.label<u[1]){a.label=u[1],u=c;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(c);break}u[2]&&a.ops.pop(),a.trys.pop();continue}c=n.call(r,a)}catch(m){c=[6,m],o=0}finally{i=u=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Wr=function(r,n,a,i){i===void 0&&(i=a),r[i]=n[a]},Ir=function(r,n){for(var a in r)a!=="default"&&!n.hasOwnProperty(a)&&(n[a]=r[a])},we=function(r){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&r[n],i=0;if(a)return a.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},je=function(r,n){var a=typeof Symbol=="function"&&r[Symbol.iterator];if(!a)return r;var i=a.call(r),o,u=[],s;try{for(;(n===void 0||n-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(f){s={error:f}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(s)throw s.error}}return u},Rr=function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(je(arguments[n]));return r},Fr=function(){for(var r=0,n=0,a=arguments.length;n<a;n++)r+=arguments[n].length;for(var i=Array(r),o=0,n=0;n<a;n++)for(var u=arguments[n],s=0,f=u.length;s<f;s++,o++)i[o]=u[s];return i},z=function(r){return this instanceof z?(this.v=r,this):new z(r)},Vr=function(r,n,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=a.apply(r,n||[]),o,u=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(b){i[b]&&(o[b]=function(S){return new Promise(function(g,h){u.push([b,S,g,h])>1||f(b,S)})})}function f(b,S){try{v(i[b](S))}catch(g){y(u[0][3],g)}}function v(b){b.value instanceof z?Promise.resolve(b.value.v).then(c,m):y(u[0][2],b)}function c(b){f("next",b)}function m(b){f("throw",b)}function y(b,S){b(S),u.shift(),u.length&&f(u[0][0],u[0][1])}},Dr=function(r){var n,a;return n={},i("next"),i("throw",function(o){throw o}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(o,u){n[o]=r[o]?function(s){return(a=!a)?{value:z(r[o](s)),done:o==="return"}:u?u(s):s}:u}},$r=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],a;return n?n.call(r):(r=typeof we=="function"?we(r):r[Symbol.iterator](),a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a);function i(u){a[u]=r[u]&&function(s){return new Promise(function(f,v){s=r[u](s),o(f,v,s.done,s.value)})}}function o(u,s,f,v){Promise.resolve(v).then(function(c){u({value:c,done:f})},s)}},Lr=function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},jr=function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var a in r)Object.hasOwnProperty.call(r,a)&&(n[a]=r[a]);return n.default=r,n},Nr=function(r){return r&&r.__esModule?r:{default:r}},Br=function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},Ur=function(r,n,a){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,a),a},e("__extends",Sr),e("__assign",xr),e("__rest",Tr),e("__decorate",Ar),e("__param",Er),e("__metadata",Cr),e("__awaiter",Mr),e("__generator",Pr),e("__exportStar",Ir),e("__createBinding",Wr),e("__values",we),e("__read",je),e("__spread",Rr),e("__spreadArrays",Fr),e("__await",z),e("__asyncGenerator",Vr),e("__asyncDelegator",Dr),e("__asyncValues",$r),e("__makeTemplateObject",Lr),e("__importStar",jr),e("__importDefault",Nr),e("__classPrivateFieldGet",Br),e("__classPrivateFieldSet",Ur)})});var vr=1.525,ee=function(e){return function(t){return 1-e(1-t)}},pe=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},dr=ee;var pr=function(e){return function(t){return Math.pow(t,e)}},Ce=function(e){return function(t){return t*t*((e+1)*t-e)}},mr=function(e){var t=Ce(e);return function(r){return(r*=2)<1?.5*t(r):.5*(2-Math.pow(2,-10*(r-1)))}},re=function(e){return e},te=pr(2),ne=ee(te),me=pe(te),he=function(e){return 1-Math.sin(Math.acos(e))},ge=ee(he),Me=pe(ge),ae=Ce(vr),Pe=ee(ae),Ie=pe(ae),Re=mr(vr),Hn=4/11,Yn=8/11,zn=9/10,Xn=4356/361,qn=35442/1805,Zn=16061/1805;var St=11,Kn=1/(St-1);var Fe=16.666666666666668,Tt=typeof performance<"u"?()=>performance.now():()=>Date.now(),Ve=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(Tt()),Fe);function hr(e){let t=[],r=[],n=0,a=!1,i=!1,o=new WeakSet,u={schedule:(s,f=!1,v=!1)=>{let c=v&&a,m=c?t:r;return f&&o.add(s),m.indexOf(s)===-1&&(m.push(s),c&&a&&(n=t.length)),s},cancel:s=>{let f=r.indexOf(s);f!==-1&&r.splice(f,1),o.delete(s)},process:s=>{if(a){i=!0;return}if(a=!0,[t,r]=[r,t],r.length=0,n=t.length,n)for(let f=0;f<n;f++){let v=t[f];v(s),o.has(v)&&(u.schedule(v),e())}a=!1,i&&(i=!1,u.process(s))}};return u}var At=40,De=!0,oe=!1,$e=!1,ie={delta:0,timestamp:0},ue=["read","update","preRender","render","postRender"],be=ue.reduce((e,t)=>(e[t]=hr(()=>oe=!0),e),{}),Et=ue.reduce((e,t)=>{let r=be[t];return e[t]=(n,a=!1,i=!1)=>(oe||Mt(),r.schedule(n,a,i)),e},{}),ra=ue.reduce((e,t)=>(e[t]=be[t].cancel,e),{}),ta=ue.reduce((e,t)=>(e[t]=()=>be[t].process(ie),e),{}),Ct=e=>be[e].process(ie),gr=e=>{oe=!1,ie.delta=De?Fe:Math.max(Math.min(e-ie.timestamp,At),1),ie.timestamp=e,$e=!0,ue.forEach(Ct),$e=!1,oe&&(De=!1,Ve(gr))},Mt=()=>{oe=!0,De=!0,$e||Ve(gr)};var se=Et;var fr=lr(_r());var Hr=lr(Gr(),1),{__extends:Yr,__assign:T,__rest:fe,__decorate:oa,__param:ua,__metadata:sa,__awaiter:fa,__generator:ca,__exportStar:la,__createBinding:va,__values:da,__read:pa,__spread:ma,__spreadArrays:zr,__await:ha,__asyncGenerator:ga,__asyncDelegator:ba,__asyncValues:ya,__makeTemplateObject:wa,__importStar:Oa,__importDefault:_a,__classPrivateFieldGet:Sa,__classPrivateFieldSet:xa}=Hr.default;var qr=function(e,t){return function(r){return Math.max(Math.min(r,t),e)}},ce=function(e){return e%1?Number(e.toFixed(5)):e},Ne=/(-)?(\d[\d\.]*)/g,_e=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,Zr=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i,_={test:function(e){return typeof e=="number"},parse:parseFloat,transform:function(e){return e}},He=T(T({},_),{transform:qr(0,1)}),Xt=T(T({},_),{default:1}),le=function(e){return{test:function(t){return typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1},parse:parseFloat,transform:function(t){return""+t+e}}},Ye=le("deg"),G=le("%"),ze=le("px"),Kr=le("vh"),Jr=le("vw"),qt=T(T({},G),{parse:function(e){return G.parse(e)/100},transform:function(e){return G.transform(e*100)}}),Zt=function(e){return e.substring(e.indexOf("(")+1,e.lastIndexOf(")"))},Kt=qr(0,255),We=function(e){return e.red!==void 0},Ge=function(e){return e.hue!==void 0};function Jt(e){return Zt(e).replace(/(,|\/)/g," ").split(/ \s*/)}var Qr=function(e){return function(t){if(typeof t!="string")return t;for(var r={},n=Jt(t),a=0;a<4;a++)r[e[a]]=n[a]!==void 0?parseFloat(n[a]):1;return r}},Qt=function(e){var t=e.red,r=e.green,n=e.blue,a=e.alpha,i=a===void 0?1:a;return"rgba("+t+", "+r+", "+n+", "+i+")"},kt=function(e){var t=e.hue,r=e.saturation,n=e.lightness,a=e.alpha,i=a===void 0?1:a;return"hsla("+t+", "+r+", "+n+", "+i+")"},Be=T(T({},_),{transform:function(e){return Math.round(Kt(e))}});function Xe(e,t){return e.startsWith(t)&&Zr.test(e)}var X={test:function(e){return typeof e=="string"?Xe(e,"rgb"):We(e)},parse:Qr(["red","green","blue","alpha"]),transform:function(e){var t=e.red,r=e.green,n=e.blue,a=e.alpha,i=a===void 0?1:a;return Qt({red:Be.transform(t),green:Be.transform(r),blue:Be.transform(n),alpha:ce(He.transform(i))})}},q={test:function(e){return typeof e=="string"?Xe(e,"hsl"):Ge(e)},parse:Qr(["hue","saturation","lightness","alpha"]),transform:function(e){var t=e.hue,r=e.saturation,n=e.lightness,a=e.alpha,i=a===void 0?1:a;return kt({hue:Math.round(t),saturation:G.transform(ce(r)),lightness:G.transform(ce(n)),alpha:ce(He.transform(i))})}},Se=T(T({},X),{test:function(e){return typeof e=="string"&&Xe(e,"#")},parse:function(e){var t="",r="",n="";return e.length>4?(t=e.substr(1,2),r=e.substr(3,2),n=e.substr(5,2)):(t=e.substr(1,1),r=e.substr(2,1),n=e.substr(3,1),t+=t,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:1}}}),H={test:function(e){return typeof e=="string"&&Zr.test(e)||We(e)||Ge(e)},parse:function(e){return X.test(e)?X.parse(e):q.test(e)?q.parse(e):Se.test(e)?Se.parse(e):e},transform:function(e){return We(e)?X.transform(e):Ge(e)?q.transform(e):e}},Ue="${c}",Xr="${n}",en=function(e){return typeof e=="number"?0:e},Y={test:function(e){if(typeof e!="string"||!isNaN(e))return!1;var t=0,r=e.match(Ne),n=e.match(_e);return r&&(t+=r.length),n&&(t+=n.length),t>0},parse:function(e){var t=e,r=[],n=t.match(_e);n&&(t=t.replace(_e,Ue),r.push.apply(r,n.map(H.parse)));var a=t.match(Ne);return a&&r.push.apply(r,a.map(_.parse)),r},createTransformer:function(e){var t=e,r=0,n=e.match(_e),a=n?n.length:0;if(n)for(var i=0;i<a;i++)t=t.replace(n[i],Ue),r++;var o=t.match(Ne),u=o?o.length:0;if(o)for(var i=0;i<u;i++)t=t.replace(o[i],Xr),r++;return function(s){for(var f=t,v=0;v<r;v++)f=f.replace(v<a?Ue:Xr,v<a?H.transform(s[v]):ce(s[v]));return f}},getAnimatableNone:function(e){var t=Y.parse(e),r=Y.createTransformer(e);return r(t.map(en))}};var B=function(){};var qe=0,et=typeof window<"u"&&window.requestAnimationFrame!==void 0?function(e){return window.requestAnimationFrame(e)}:function(e){var t=Date.now(),r=Math.max(0,16.7-(t-qe));qe=t+r,setTimeout(function(){return e(qe)},r)},tn=function(e){var t=[],r=[],n=0,a=!1,i=0,o=new WeakSet,u=new WeakSet,s={cancel:function(f){var v=r.indexOf(f);o.add(f),v!==-1&&r.splice(v,1)},process:function(f){var v;if(a=!0,v=[r,t],t=v[0],r=v[1],r.length=0,n=t.length,n){var c;for(i=0;i<n;i++)c=t[i],c(f),u.has(c)===!0&&!o.has(c)&&(s.schedule(c),e(!0))}a=!1},schedule:function(f,v,c){v===void 0&&(v=!1),c===void 0&&(c=!1),B(typeof f=="function","Argument must be a function");var m=c&&a,y=m?t:r;o.delete(f),v&&u.add(f),y.indexOf(f)===-1&&(y.push(f),m&&(n=t.length))}};return s},nn=40,kr=1/60*1e3,xe=!0,ve=!1,Ze=!1,Z={delta:0,timestamp:0},Te=["read","update","preRender","render","postRender"],an=function(e){return ve=e},Ke=Te.reduce(function(e,t){return e[t]=tn(an),e},{}),on=Te.reduce(function(e,t){var r=Ke[t];return e[t]=function(n,a,i){return a===void 0&&(a=!1),i===void 0&&(i=!1),ve||sn(),r.schedule(n,a,i),n},e},{}),j=Te.reduce(function(e,t){return e[t]=Ke[t].cancel,e},{}),un=function(e){return Ke[e].process(Z)},rt=function(e){ve=!1,Z.delta=xe?kr:Math.max(Math.min(e-Z.timestamp,nn),1),xe||(kr=Z.delta),Z.timestamp=e,Ze=!0,Te.forEach(un),Ze=!1,ve&&(xe=!1,et(rt))},sn=function(){ve=!0,xe=!0,Ze||et(rt)},Je=function(){return Z},$=on;var it=function(e){return typeof e=="number"};var ke=function(e){return function(t,r,n){return n!==void 0?e(t,r,n):function(a){return e(t,r,a)}}},fn=function(e,t,r){return Math.min(Math.max(r,e),t)},Ae=ke(fn);var ot=function(e,t,r){var n=t-e;return n===0?1:(r-e)/n},K=function(e,t,r){return-r*e+r*t+e};var Qe=function(){return Qe=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Qe.apply(this,arguments)},cn=function(e,t,r){var n=e*e,a=t*t;return Math.sqrt(Math.max(0,r*(a-n)+n))},ln=[Se,X,q],tt=function(e){return ln.find(function(t){return t.test(e)})},nt=function(e){return"'"+e+"' is not an animatable color. Use the equivalent color code instead."},er=function(e,t){var r=tt(e),n=tt(t);B(!!r,nt(e)),B(!!n,nt(t)),B(r.transform===n.transform,"Both colors must be hex/RGBA, OR both must be HSLA.");var a=r.parse(e),i=n.parse(t),o=Qe({},a),u=r===q?K:cn;return function(s){for(var f in o)f!=="alpha"&&(o[f]=u(a[f],i[f],s));return o.alpha=K(a.alpha,i.alpha,s),r.transform(o)}},vn=function(e,t){return function(r){return t(e(r))}},rr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(vn)};function dn(e,t){return it(e)?function(r){return K(e,t,r)}:H.test(e)?er(e,t):tr(e,t)}var ut=function(e,t){var r=e.slice(),n=r.length,a=e.map(function(i,o){return dn(i,t[o])});return function(i){for(var o=0;o<n;o++)r[o]=a[o](i);return r}};function at(e){for(var t=Y.parse(e),r=t.length,n=0,a=0,i=0,o=0;o<r;o++)n||typeof t[o]=="number"?n++:t[o].hue!==void 0?i++:a++;return{parsed:t,numNumbers:n,numRGB:a,numHSL:i}}var tr=function(e,t){var r=Y.createTransformer(t),n=at(e),a=at(t);return B(n.numHSL===a.numHSL&&n.numRGB===a.numRGB&&n.numNumbers>=a.numNumbers,"Complex values '"+e+"' and '"+t+"' too different to mix. Ensure all colors are of the same type."),rr(ut(n.parsed,a.parsed),r)};var pn=function(e){return e},nr=function(e){return e===void 0&&(e=pn),ke(function(t,r,n){var a=r-n,i=-(0-t+1)*(0-e(Math.abs(a)));return a<=0?r+i:r-i})},mn=nr(),hn=nr(Math.sqrt),Ee=function(e,t){return it(e)?e/(1e3/t):0},ar=function(e,t){return t?e*(1e3/t):0},gn=function(e,t,r){var n=t-e;return((r-e)%n+n)%n+e},bn=ke(gn),Qa=Ae(0,1);var yn=["Webkit","Moz","O","ms",""],ii=yn.length;var On=(function(){function e(t){t===void 0&&(t={}),this.props=t}return e.prototype.applyMiddleware=function(t){return this.create(T(T({},this.props),{middleware:this.props.middleware?zr([t],this.props.middleware):[t]}))},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.length===1?t[0]:rr.apply(void 0,t);return this.applyMiddleware(function(a){return function(i){return a(n(i))}})},e.prototype.while=function(t){return this.applyMiddleware(function(r,n){return function(a){return t(a)?r(a):n()}})},e.prototype.filter=function(t){return this.applyMiddleware(function(r){return function(n){return t(n)&&r(n)}})},e})(),st=(function(){function e(t,r){var n=this,a=t.middleware,i=t.onComplete;this.isActive=!0,this.update=function(o){n.observer.update&&n.updateObserver(o)},this.complete=function(){n.observer.complete&&n.isActive&&n.observer.complete(),n.onComplete&&n.onComplete(),n.isActive=!1},this.error=function(o){n.observer.error&&n.isActive&&n.observer.error(o),n.isActive=!1},this.observer=r,this.updateObserver=function(o){return r.update(o)},this.onComplete=i,r.update&&a&&a.length&&a.forEach(function(o){return n.updateObserver=o(n.updateObserver,n.complete)})}return e})(),_n=function(e,t,r){var n=t.middleware;return typeof e=="function"?new st({middleware:n,onComplete:r},{update:e}):new st({middleware:n,onComplete:r},e)},Sn=(function(e){Yr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.create=function(r){return new t(r)},t.prototype.start=function(r){r===void 0&&(r={});var n=!1,a={stop:function(){}},i=this.props,o=i.init,u=fe(i,["init"]),s=_n(r,u,function(){n=!0,a.stop()}),f=o(s);return a=f?T(T({},a),f):a,r.registerParent&&r.registerParent(a),n&&a.stop(),a},t})(On),U=function(e){return new Sn({init:e})};var pt=function(e){var t=e.getCount,r=e.getFirst,n=e.getOutput,a=e.mapApi,i=e.setProp,o=e.startActions;return function(u){return U(function(s){var f=s.update,v=s.complete,c=s.error,m=t(u),y=n(),b=function(){return f(y)},S=0,g=o(u,function(h,p){var O=!1;return h.start({complete:function(){O||(O=!0,S++,S===m&&$.update(v))},error:c,update:function(A){i(y,p,A),$.update(b,!1,!0)}})});return Object.keys(r(g)).reduce(function(h,p){return h[p]=a(g,p),h},{})})}},xn=pt({getOutput:function(){return{}},getCount:function(e){return Object.keys(e).length},getFirst:function(e){return e[Object.keys(e)[0]]},mapApi:function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return Object.keys(e).reduce(function(a,i){var o;return e[i][t]&&(r[0]&&r[0][i]!==void 0?a[i]=e[i][t](r[0][i]):a[i]=(o=e[i])[t].apply(o,r)),a},{})}},setProp:function(e,t,r){return e[t]=r},startActions:function(e,t){return Object.keys(e).reduce(function(r,n){return r[n]=t(e[n],n),r},{})}}),Tn=pt({getOutput:function(){return[]},getCount:function(e){return e.length},getFirst:function(e){return e[0]},mapApi:function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.map(function(a,i){if(a[t])return Array.isArray(r[0])?a[t](r[0][i]):a[t].apply(a,r)})}},setProp:function(e,t,r){return e[t]=r},startActions:function(e,t){return e.map(function(r,n){return t(r,n)})}}),An=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Tn(e)},En=function(e){var t=Object.keys(e),r=function(i,o){return i!==void 0&&!e[o](i)},n=function(i){return t.reduce(function(o,u){return r(i[u],u)&&o.push(u),o},[])},a=function(i){return i&&t.some(function(o){return r(i[o],o)})};return{getVectorKeys:n,testVectorProps:a}},Cn=[ze,G,Ye,Kr,Jr],ir=function(e){return Cn.find(function(t){return t.test(e)})},Mn=function(e){return!!ir(e)},ft=function(e,t){return e(t)},Pn=function(e){return function(t,r){return t[r]=t[r][e],t}},In=function(e,t,r){var n=r[0],a=t[n].map(function(i,o){var u=r.reduce(Pn(o),T({},t));return or(i)(e,u)});return An.apply(void 0,a)},Rn=function(e){return function(t,r){return t[r]=t[r][e],t}},Fn=function(e,t,r){var n=r[0],a=Object.keys(t[n]).reduce(function(i,o){var u=r.reduce(Rn(o),T({},t));return i[o]=or(t[n][o])(e,u),i},{});return xn(a)},Vn=function(e,t){var r=t.from,n=t.to,a=fe(t,["from","to"]),i=ir(r)||ir(n),o=i.transform,u=i.parse;return e(T(T({},a),{from:typeof r=="string"?u(r):r,to:typeof n=="string"?u(n):n})).pipe(o)},mt=function(e){return function(t,r){var n=r.from,a=r.to,i=fe(r,["from","to"]);return t(T(T({},i),{from:0,to:1})).pipe(e(n,a))}},Dn=mt(er),$n=mt(tr),de=function(e,t){var r=En(t),n=r.testVectorProps,a=r.getVectorKeys,i=function(o){var u=n(o);if(!u)return e(o);var s=a(o),f=s[0],v=o[f];return or(v)(e,o,s)};return i},or=function(e){return typeof e=="number"?ft:Array.isArray(e)?In:Mn(e)?Vn:H.test(e)?Dn:Y.test(e)?$n:typeof e=="object"?Fn:ft},ht=function(e){return e===void 0&&(e={}),U(function(t){var r=t.complete,n=t.update,a=e.velocity,i=a===void 0?0:a,o=e.from,u=o===void 0?0:o,s=e.power,f=s===void 0?.8:s,v=e.timeConstant,c=v===void 0?350:v,m=e.restDelta,y=m===void 0?.5:m,b=e.modifyTarget,S=0,g=f*i,h=u+g,p=typeof b>"u"?h:b(h);p!==h&&(g=p-u);var O=$.update(function(A){var w=A.delta;S+=w;var l=-g*Math.exp(-S/c),d=l>y||l<-y,x=d?p+l:p;n(x),d||(j.update(O),r())},!0);return{stop:function(){return j.update(O)}}})},Ci=de(ht,{from:_.test,modifyTarget:function(e){return typeof e=="function"},velocity:_.test}),gt=function(e){return e===void 0&&(e={}),U(function(t){var r=t.update,n=t.complete,a=e.velocity,i=a===void 0?0:a,o=e.from,u=o===void 0?0:o,s=e.to,f=s===void 0?0:s,v=e.stiffness,c=v===void 0?100:v,m=e.damping,y=m===void 0?10:m,b=e.mass,S=b===void 0?1:b,g=e.restSpeed,h=g===void 0?.01:g,p=e.restDelta,O=p===void 0?.01:p,A=i?-(i/1e3):0,w=0,l=f-u,d=u,x=d,I=$.update(function(L){var V=L.delta;w+=V;var M=y/(2*Math.sqrt(c*S)),P=Math.sqrt(c/S)/1e3;if(x=d,M<1){var R=Math.exp(-M*P*w),E=P*Math.sqrt(1-M*M);d=f-R*((A+M*P*l)/E*Math.sin(E*w)+l*Math.cos(E*w))}else{var R=Math.exp(-P*w);d=f-R*(l+(A+P*l)*w)}i=ar(d-x,V);var D=Math.abs(i)<=h,C=Math.abs(f-d)<=O;D&&C?(d=f,r(d),j.update(I),n()):r(d)},!0);return{stop:function(){return j.update(I)}}})},Mi=de(gt,{from:_.test,to:_.test,stiffness:_.test,damping:_.test,mass:_.test,velocity:_.test}),Ln=function(e){var t=e.from,r=t===void 0?0:t,n=e.velocity,a=n===void 0?0:n,i=e.min,o=e.max,u=e.power,s=u===void 0?.8:u,f=e.timeConstant,v=f===void 0?700:f,c=e.bounceStiffness,m=c===void 0?500:c,y=e.bounceDamping,b=y===void 0?10:y,S=e.restDelta,g=S===void 0?1:S,h=e.modifyTarget;return U(function(p){var O=p.update,A=p.complete,w=r,l=r,d,x=function(C){return i!==void 0&&C<i||o!==void 0&&C>o},I=function(C){return Math.abs(i-C)<Math.abs(o-C)?i:o},L=function(C,W){d&&d.stop(),d=C.start({update:O,complete:function(){if(W){W();return}A()}})},V=function(C){L(gt(T(T({},C),{stiffness:m,damping:b,restDelta:g})))};if(x(r))V({from:r,velocity:a,to:I(r)});else{var M=s*a+r;typeof h<"u"&&(M=h(M),h=void 0,a=(M-r)/s);var P=ht({from:r,velocity:a,timeConstant:v,power:s,restDelta:g,modifyTarget:h}),R=void 0;if(x(M)){var E=I(M),D=E==i?-1:1;P=P.while(function(C){return w=l,a=ar(C-w,Je().delta),l=C,E-C*D>0}),R=function(){return V({from:l,to:E,velocity:a})}}L(P,R)}return{stop:function(){return d&&d.stop()}}})},Pi=de(Ln,{from:_.test,velocity:_.test,min:_.test,max:_.test,damping:_.test,stiffness:_.test,modifyTarget:function(e){return typeof e=="function"}});var jn=function(e){var t=e.from,r=t===void 0?0:t,n=e.to,a=n===void 0?1:n,i=e.ease,o=i===void 0?re:i,u=e.reverseEase,s=u===void 0?!1:u;return s&&(o=dr(o)),U(function(f){var v=f.update;return{seek:function(c){return v(c)}}}).pipe(o,function(f){return K(r,a,f)})},ct=de(jn,{ease:function(e){return typeof e=="function"},from:_.test,to:_.test}),Nn=Ae(0,1),bt=function(e){return e===void 0&&(e={}),U(function(t){var r=t.update,n=t.complete,a=e.duration,i=a===void 0?300:a,o=e.ease,u=o===void 0?ne:o,s=e.flip,f=s===void 0?0:s,v=e.loop,c=v===void 0?0:v,m=e.yoyo,y=m===void 0?0:m,b=e.repeatDelay,S=b===void 0?0:b,g=e.from,h=g===void 0?0:g,p=e.to,O=p===void 0?1:p,A=e.elapsed,w=A===void 0?0:A,l=e.flipCount,d=l===void 0?0:l,x=e.yoyoCount,I=x===void 0?0:x,L=e.loopCount,V=L===void 0?0:L,M=ct({from:h,to:O,ease:u}).start(r),P=0,R,E=!1,D=function(F){var k;F===void 0&&(F=!1),k=[O,h],h=k[0],O=k[1],M=ct({from:h,to:O,ease:u,reverseEase:F}).start(r)},C=function(){var F=E&&w>i+S;return F?F&&!c&&!f&&!y?!0:(w=i-(w-S),c&&V<c?(V++,!1):f&&d<f?(d++,D(),!1):y&&I<y?(I++,D(I%2!==0),!1):!0):!1},W=function(){P=Nn(ot(0,i,w)),M.seek(P)},Q=function(){E=!0,R=$.update(function(F){var k=F.delta;w+=k,W(),C()&&(j.update(R),n&&$.update(n,!1,!0))},!0)},N=function(){E=!1,R&&j.update(R)};return Q(),{isActive:function(){return E},getElapsed:function(){return Ae(0,i,w)},getProgress:function(){return P},stop:function(){N()},pause:function(){return N(),this},resume:function(){return E||Q(),this},seek:function(F){return w=K(0,i,F),$.update(W,!1,!0),this},reverse:function(){return D(),this}}})};var Bn=function(e){return e===void 0&&(e={}),U(function(t){var r=t.complete,n=t.update,a=e.acceleration,i=a===void 0?0:a,o=e.friction,u=o===void 0?0:o,s=e.velocity,f=s===void 0?0:s,v=e.springStrength,c=e.to,m=e.restSpeed,y=m===void 0?.001:m,b=e.from,S=b===void 0?0:b,g=S,h=$.update(function(p){var O=p.delta,A=Math.max(O,16);if(i&&(f+=Ee(i,A)),u&&(f*=Math.pow(1-u,A/100)),v!==void 0&&c!==void 0){var w=c-g;f+=w*Ee(v,A)}g+=Ee(f,A),n(g);var l=y!==!1&&(!f||Math.abs(f)<=y);l&&(j.update(h),r())},!0);return{set:function(p){return g=p,this},setAcceleration:function(p){return i=p,this},setFriction:function(p){return u=p,this},setSpringStrength:function(p){return v=p,this},setSpringTarget:function(p){return c=p,this},setVelocity:function(p){return f=p,this},stop:function(){return j.update(h)}}})},Ii=de(Bn,{acceleration:_.test,friction:_.test,velocity:_.test,from:_.test,to:_.test,springStrength:_.test});var yt=function(e,t,r){return U(function(n){var a=n.update,i=t.split(" ").map(function(o){return e.addEventListener(o,a,r),o});return{stop:function(){return i.forEach(function(o){return e.removeEventListener(o,a,r)})}}})},ur=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}},wt=function(e,t){return t===void 0&&(t=ur()),t.clientX=t.x=e.clientX,t.clientY=t.y=e.clientY,t.pageX=e.pageX,t.pageY=e.pageY,t},lt=[ur()],Un=!1;typeof document<"u"&&(vt=function(e){var t=e.touches;Un=!0;var r=t.length;lt.length=0;for(var n=0;n<r;n++){var a=t[n];lt.push(wt(a))}},yt(document,"touchstart touchmove",{passive:!0,capture:!0}).start(vt));var vt;var Wn=ur(),Gn=!1;typeof document<"u"&&(dt=function(e){Gn=!0,wt(e,Wn)},yt(document,"mousedown mousemove",!0).start(dt));var dt;var Ot={anticipate:Re,backIn:ae,backInOut:Ie,backOut:Pe,circIn:he,circInOut:Me,circOut:ge,easeIn:te,easeInOut:me,easeOut:ne,linear:re},J="animateGridId",sr=(e,t)=>{let{top:r,left:n,width:a,height:i}=t.getBoundingClientRect(),o={top:r,left:n,width:a,height:i};return o.top-=e.top,o.left-=e.left,o.top=Math.max(o.top,0),o.left=Math.max(o.left,0),o},_t=(e,{translateX:t,translateY:r,scaleX:n,scaleY:a},{immediate:i}={})=>{let o=t===0&&r===0&&n===1&&a===1,u=()=>{e.style.transform=o?"":`translateX(${t}px) translateY(${r}px) scaleX(${n}) scaleY(${a})`};i?u():se.render(u);let s=e.children[0];if(s){let f=()=>{s.style.transform=o?"":`scaleX(${1/n}) scaleY(${1/a})`};i?f():se.render(f)}},Li=(e,{duration:t=250,stagger:r=0,easing:n="easeInOut",onStart:a=()=>{},onEnd:i=()=>{}}={})=>{if(!Ot[n])throw new Error(`${n} is not a valid easing name`);let o=!1,u=g=>{o=!0,g(),setTimeout(()=>{o=!1},0)},s={},f=g=>{let h=e.getBoundingClientRect();Array.from(g).forEach(p=>{if(typeof p.getBoundingClientRect!="function")return;if(!p.dataset[J]){let w=`${Math.random()}`;p.dataset[J]=w}let O=p.dataset[J];s[O]||(s[O]={});let A=sr(h,p);s[O].rect=A,s[O].gridBoundingClientRect=h})};f(e.children);let v=(0,fr.default)(()=>{let g=document.querySelector("body"),h=g&&!g.contains(e);(!e||h)&&window.removeEventListener("resize",v),f(e.children)},250);window.addEventListener("resize",v);let c=(0,fr.default)(()=>{f(e.children)},20);e.addEventListener("scroll",c);let m=g=>{if(g!=="forceGridAnimation"&&(!g.filter(d=>d.attributeName==="class"||d.addedNodes.length||d.removedNodes.length).length||o))return;let h=e.getBoundingClientRect(),p=Array.from(e.children);p.filter(l=>{let d=s[l.dataset[J]];if(d&&d.stopTween)return d.stopTween(),delete d.stopTween,!0}).forEach(l=>{l.style.transform="";let d=l.children[0];d&&(d.style.transform="")});let O=p.map(l=>({childCoords:{},el:l,boundingClientRect:sr(h,l)})).filter(({el:l,boundingClientRect:d})=>{let x=s[l.dataset[J]];if(x){if(d.top===x.rect.top&&d.left===x.rect.left&&d.width===x.rect.width&&d.height===x.rect.height)return!1}else return f([l]),!1;return!0});if(O.forEach(({el:l})=>{if(Array.from(l.children).length>1)throw new Error("Make sure every grid item has a single container element surrounding its children")}),!O.length)return;let A=O.map(({el:l})=>l);u(()=>a(A));let w=[];O.map(l=>{let d=l.el.children[0];return d&&(l.childCoords=sr(h,d)),l}).forEach(({el:l,boundingClientRect:{top:d,left:x,width:I,height:L},childCoords:{top:V,left:M}},P)=>{let R=l.children[0],E=s[l.dataset[J]],D={scaleX:E.rect.width/I,scaleY:E.rect.height/L,translateX:E.rect.left-x,translateY:E.rect.top-d};l.style.transformOrigin="0 0",R&&M===x&&V===d&&(R.style.transformOrigin="0 0");let C,W=new Promise(N=>{C=N});w.push(W),_t(l,D,{immediate:!0});let Q=()=>{let{stop:N}=bt({from:D,to:{translateX:0,translateY:0,scaleX:1,scaleY:1},duration:t,ease:Ot[n]}).start({update:F=>{_t(l,F),se.postRender(()=>f([l]))},complete:C});E.stopTween=N};if(typeof r!="number")Q();else{let N=setTimeout(()=>{se.update(Q)},r*P);E.stopTween=()=>clearTimeout(N)}}),Promise.all(w).then(()=>{i(A)})},y=new MutationObserver(m);return y.observe(e,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["class"]}),{unwrapGrid:()=>{window.removeEventListener("resize",v),e.removeEventListener("scroll",c),y.disconnect()},forceGridAnimation:()=>m("forceGridAnimation")}};export{Li as wrapGrid};
