import{a as L}from"./chunk-B2QQKAJ4.js";import{a as P,b as A,c as R,d as $,e as I,f as G,h as a,k as T,l as B,m as j,o as q,p as z,v as J}from"./chunk-KK3LXITO.js";import{m as V,n as k,q as D}from"./chunk-MQTFCSRU.js";import{$a as E,Eb as O,Gb as g,Hb as v,U as y,V as S,Va as m,bb as s,cb as i,db as e,eb as r,ha as N,ib as F,ja as w,mb as b,nb as d,qa as u,ra as f,sb as o,ub as M}from"./chunk-MQSRH5NO.js";import{a as h,b as _}from"./chunk-G5KKTNWD.js";function H(C,t){if(C&1){let n=F();i(0,"main")(1,"h1"),o(2,"Reactive"),e(),i(3,"form",1),b("ngSubmit",function(){u(n);let p=d();return f(p.save())}),i(4,"label")(5,"span"),o(6,"Name"),e(),r(7,"input",2),e(),i(8,"label")(9,"span"),o(10,"Date of birth"),e(),r(11,"input",3),e(),i(12,"label")(13,"span"),o(14,"Email Address"),e(),r(15,"input",4),e(),i(16,"label")(17,"span"),o(18,"Favorite Number"),e(),r(19,"input",5),e(),i(20,"label")(21,"span"),r(22,"input",6),o(23," Admin"),e()(),i(24,"label")(25,"span"),o(26),g(27,"async"),e(),r(28,"input",7),e(),i(29,"button",8),b("click",function(p){let W=u(n).ngIf;return d().updateForm(W),f(p.preventDefault())}),o(30,"Reset form"),e(),i(31,"button",9),o(32,"Submit"),e()()()}if(C&2){let n=d();m(3),s("formGroup",n.form),m(23),M("Level ",v(27,3,n.level$),""),m(5),s("disabled",!n.form.valid)}}var l=class{constructor(){this.ds=N(L),this.data$=this.ds.data$.pipe(y({refCount:!0,bufferSize:1})),this.sub=this.data$.subscribe(t=>{this.updateForm(t),this.level$=this.form.get("level").valueChanges.pipe(S(t.level))})}updateForm(t){this.form=new G({name:new a(t.name,R.required),dob:new a(t.dob.toISOString().slice(0,10)),email:new a(t.email),favNumber:new a(t.favNumber),admin:new a(t.admin),level:new a(t.level)})}save(){console.log(`saving reactive ${JSON.stringify(this.form.value,void 0,2)}`);let t=new Date(this.form.value.dob);this.ds.save(_(h({},this.form.value),{dob:t}))}ngOnDestroy(){this.sub.unsubscribe()}},x=l;(()=>{l.\u0275fac=function(n){return new(n||l)}})(),(()=>{l.\u0275cmp=w({type:l,selectors:[["se-reactive"]],standalone:!0,features:[O],decls:2,vars:3,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],["name","name","type","text","placeholder","Name","formControlName","name"],["name","dob","type","date","placeholder","Date of birth","formControlName","dob"],["name","email","type","email","placeholder","Email Address","formControlName","email"],["name","favNumber","type","number","placeholder","Favorite Number","formControlName","favNumber"],["name","admin","type","checkbox","formControlName","admin"],["name","level","type","range","min","1","max","5","formControlName","level"],["type","cancel",3,"click"],["type","submit",3,"disabled"]],template:function(n,c){n&1&&(E(0,H,33,5,"main",0),g(1,"async")),n&2&&s("ngIf",v(1,1,c.data$))},dependencies:[D,V,k,J,T,A,B,j,P,$,I,q,z],styles:["[_nghost-%COMP%]{display:block}form[_ngcontent-%COMP%]{border:2px solid #d7b52b;padding:1.5rem;border-radius:1rem;accent-color:#2bd75d;width:30rem;display:flex;flex-direction:column;gap:.5rem;margin:auto}label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}label[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(2){margin-left:.25rem}.ng-invalid.ng-dirty[_ngcontent-%COMP%]:not(form){background-color:#8f4646}button[type=submit][_ngcontent-%COMP%]{background-color:#2bd75d;color:#fff;border:none;border-radius:5px;padding:.5rem}button[_ngcontent-%COMP%]:disabled{background-color:#d7b52b;cursor:not-allowed}"]})})();export{x as a};
