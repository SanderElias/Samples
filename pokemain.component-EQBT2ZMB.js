import{a as H}from"./chunk-OGPXMZS2.js";import{a as z,b as Y,c as q,d as B}from"./chunk-7NCCIKVB.js";import"./chunk-GOJFU6NU.js";import{$ as x,Ab as $,Cb as E,E as b,F as g,Fb as F,G as C,N as k,Nb as R,Ob as m,Pb as T,U as L,Wa as d,Xa as s,Xb as V,Y as o,Ya as M,cb as S,ea as w,ha as y,i as h,ic as A,ja as D,k as l,lb as P,n as u,nb as j,q as a,sa as O,ta as I,wb as c,xb as p,z as v,zb as _}from"./chunk-XM75YRED.js";import"./chunk-KAT7YFEL.js";var J=(()=>{class i{set seLet(e){this.assign(e)}set seLetObserve(e){this.assign(e)}set seLetOn(e){this.assign(e)}assign(e){this.sub&&this.sub.unsubscribe(),u(e)?this.sub=e.pipe(o(()=>this.cdr.markForCheck())).subscribe(t=>{this.context.$implicit=t,this.context.seLet=t}):(this.context.$implicit=e,this.context.seLet=e)}constructor(e,t,n){this.templateRef=e,this.viewContainer=t,this.cdr=n,this.context={$implicit:void 0,seLet:void 0},this.assign=this.assign.bind(this)}ngOnInit(){this.viewContainer.createEmbeddedView(this.templateRef,this.context)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)(s(M),s(S),s(A))}}static{this.\u0275dir=D({type:i,selectors:[["","seLet",""]],inputs:{seLet:"seLet",seLetObserve:"seLetObserve",seLetOn:"seLetOn"},standalone:!0})}}return i})();var K=(()=>{class i{constructor(e){this.http=e,this.base="https://pokeapi.co/api/v2"}async load(e){if(await z(),!q(e)){let t=await fetch(e).then(n=>n.json()).catch(n=>{});await Y(e,t)}return B(e)}init(){console.log("ps init"),this.load(this.base).then(e=>{console.log(e),l(Object.entries(e)).pipe(o(t=>console.log("url",t)),C(([t,n])=>this.getAllPagedData(n).pipe(b((r,f)=>r.concat(f.results),[]),a(r=>({name:t,baseUrl:n,data:r})))),g(),o(t=>console.log(t))).subscribe()})}getAllPagedData(e){return l(this.load(`${e}`)).pipe(k(t=>t.next?this.load(t.next):h))}static{this.\u0275fac=function(t){return new(t||i)(w(H))}}static{this.\u0275prov=x({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function X(i,N){if(i&1&&(_(0),c(1,"h1"),m(2),p(),$()),i&2){let e=N.$implicit;d(2),T(e)}}var ce=(()=>{class i{constructor(e){this.pa=e,this.fakePost$=v(1500).pipe(o(()=>console.log("done")),a(()=>"hello world"),L({refCount:!0,bufferSize:1}))}ngOnInit(){console.log("pokeMain")}static{this.\u0275fac=function(t){return new(t||i)(s(K))}}static{this.\u0275cmp=y({type:i,selectors:[["app-pokemain"]],standalone:!0,features:[V],decls:6,vars:1,consts:[["save",""],[3,"click"],[4,"seLet","seLetObserve"]],template:function(t,n){if(t&1){let r=E();c(0,"p"),m(1,"pokemain works!"),p(),c(2,"button",1,0),F("click",function(){O(r);let Q=R(3);return I(Q.goSave=!0)}),m(4,"Save"),p(),P(5,X,3,1,"ng-container",2)}t&2&&(d(5),j("seLetObserve",n.fakePost$))},dependencies:[J],encapsulation:2})}}return i})();export{ce as PokeMainComponent};
