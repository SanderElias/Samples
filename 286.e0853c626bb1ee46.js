"use strict";(self.webpackChunksamples=self.webpackChunksamples||[]).push([[286],{97:(y,g,n)=>{n.d(g,{b:()=>u});var r=n(818),v=n(5975);function u(p){return!!p&&(p instanceof r.y||(0,v.m)(p.lift)&&(0,v.m)(p.subscribe))}},9286:(y,g,n)=>{n.r(g),n.d(g,{ObservableStateModule:()=>j});var r=n(1048),v=n(3290),u=n(4553),p=n(4121),b=n(3151),d=n(8168),O=n(9676),l=n(1578),t=n(9724);function a(s,i){if(1&s){const e=t.EpF();t.TgZ(0,"main")(1,"section",1)(2,"button",2),t.NdJ("click",function(){return t.CHM(e),t.oxw().down()}),t._uU(3,"-"),t.qZA(),t.TgZ(4,"h3"),t._uU(5),t.qZA(),t.TgZ(6,"button",2),t.NdJ("click",function(){return t.CHM(e),t.oxw().up()}),t._uU(7,"+"),t.qZA(),t._UZ(8,"br"),t.qZA(),t.TgZ(9,"h1"),t._uU(10),t.qZA(),t._UZ(11,"br")(12,"br"),t.TgZ(13,"p"),t._uU(14,"The raw viewModel:"),t.qZA(),t._UZ(15,"hr"),t.TgZ(16,"pre")(17,"code"),t._uU(18),t.ALo(19,"json"),t.qZA()()()}if(2&s){const e=i.ngIf;t.xp6(2),t.Q6J("disabled",e.underMin),t.xp6(3),t.Oqu(e.count),t.xp6(1),t.Q6J("disabled",e.overMax),t.xp6(4),t.Oqu(e.msg),t.xp6(8),t.Oqu(t.lcZ(19,5,e))}}let m=(()=>{class s{constructor(){this.state$=new p.X({count:5,msg:"",overMax:!1,underMin:!1,max:10,min:2}),this.updateMessage=e=>{this.setState("msg",e.overMax?"too high!":e.underMin?"too low!":"")},this.viewModel$=this.state$.pipe((0,b.b)(5),(0,d.b)(e=>this.checkState()),(0,d.b)(this.updateMessage)),this.setState=(0,l.m)(this.state$),this.getState=function c(s){function e(){return(e=(0,u.Z)(function*(o){const f=yield s.pipe((0,O.P)()).toPromise();return o?Array.isArray(o)?o.reduce((S,x)=>Object.assign(Object.assign({},S),{[x]:f[x]}),{}):f[o]:f})).apply(this,arguments)}return function i(o){return e.apply(this,arguments)}}(this.state$)}checkState(){var e=this;return(0,u.Z)(function*(){const{count:o,min:f,max:S,overMax:x,underMin:I}=yield e.getState();o>S!==x&&e.setState("overMax",o>S),o<f!==I&&e.setState("underMin",o<f)})()}up(){var e=this;return(0,u.Z)(function*(){const o=yield e.getState("count");e.setState("count",o+1)})()}down(){var e=this;return(0,u.Z)(function*(){const o=yield e.getState("count");e.setState("count",o-1),e.setState({min:3,max:5})})()}ngOnInit(){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-observable-state"]],decls:4,vars:3,consts:[[4,"ngIf"],[1,"display"],[3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"h1"),t._uU(1,"Observable state"),t.qZA(),t.YNc(2,a,20,7,"main",0),t.ALo(3,"async")),2&e&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,o.viewModel$)))},directives:[r.O5],pipes:[r.Ov,r.Ts],styles:["section[_ngcontent-%COMP%] {\n    display: grid;\n    grid-template-columns: 150px 150px 150px;\n  }\n  section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\n    text-align: center;\n    font-size: 30px;\n  }"],changeDetection:0}),s})();var h=n(9508),M=n(2702),C=n(9959),T=n(1927),Z=n(1528),A=n(6466),_=n(7969),E=n(9226);function P(s,i){if(1&s&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&s){const e=i.$implicit;t.xp6(1),t.Oqu(e.name)}}function U(s,i){if(1&s&&(t.ynx(0),t._UZ(1,"input",2),t.TgZ(2,"ul"),t.YNc(3,P,2,1,"li",3),t.qZA(),t.BQk()),2&s){const e=i.ngIf,o=t.oxw();t.xp6(1),t.Q6J("formControl",o.search),t.xp6(2),t.Q6J("ngForOf",""===e.search?e.allShips:e.result)}}function L(s,i){1&s&&(t.TgZ(0,"div"),t._uU(1,"Loading..."),t.qZA())}const $=[{path:"",component:m},{path:"hook",component:(()=>{class s extends((0,M.m9)((0,M.$b)(class{}))){constructor(e){super(),this.swapi=e,this.search=new h.NI,this.searchText$=this.search.valueChanges.pipe((0,T.O)("")),this.starships$=this.seOnInit$.pipe((0,Z.w)(()=>this.swapi.getAllRows("starships")),(0,A.d)({refCount:!0,bufferSize:1})),this.filteredShips$=(0,C.Hv)({ships:this.starships$,s:this.searchText$}).pipe((0,_.U)(o=>o.ships.filter(f=>f.name.includes(o.s))),(0,d.b)(o=>console.log(o))),this.viewModel$=(0,C.Hv)({allShips:this.starships$,result:this.filteredShips$,search:this.searchText$})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(E.qj))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-lifeycle-hooks-sample"]],features:[t.qOj],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loading",""],["type","text",3,"formControl"],[4,"ngFor","ngForOf"]],template:function(e,o){if(1&e&&(t.YNc(0,U,4,2,"ng-container",0),t.ALo(1,"async"),t.YNc(2,L,2,0,"ng-template",null,1,t.W1O)),2&e){const f=t.MAs(3);t.Q6J("ngIf",t.lcZ(1,2,o.viewModel$))("ngIfElse",f)}},directives:[r.O5,h.Fj,h.JJ,h.oH,r.sg],pipes:[r.Ov],encapsulation:2}),s})()},{path:"**",redirectTo:""}];let j=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[r.ez,v.Bz.forChild($),h.UX]]}),s})()},9959:(y,g,n)=>{n.d(g,{Hv:()=>O});var r=n(7969),v=n(97),u=n(4945),p=n(5696);function O(c){const l=Object.values(c).map(t=>(0,v.b)(t)?t:(0,u.of)(t));return(0,p.a)(l).pipe((0,r.U)(t=>Object.keys(c).reduce((a,m,h)=>(a[m]=t[h],a),{})))}},4553:(y,g,n)=>{function r(u,p,b,d,O,c,l){try{var t=u[c](l),a=t.value}catch(m){return void b(m)}t.done?p(a):Promise.resolve(a).then(d,O)}function v(u){return function(){var p=this,b=arguments;return new Promise(function(d,O){var c=u.apply(p,b);function l(a){r(c,d,O,l,t,"next",a)}function t(a){r(c,d,O,l,t,"throw",a)}l(void 0)})}}n.d(g,{Z:()=>v})}}]);