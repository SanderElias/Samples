import{l as M}from"./chunk-SHWH7FWF.js";import{Gb as k,Hb as g,Ib as b,Jb as i,Kb as l,Lb as m,Sb as s,Tb as _,Za as r,bc as p,dc as v,lc as S,mb as a,mc as y,oa as h,xa as d,yb as C,zb as f}from"./chunk-FE3MAFSK.js";import"./chunk-KAT7YFEL.js";function x(o,w){if(o&1&&(h(),m(0,"rect")),o&2){let t=w.$implicit,e=_();C("data-id",t.id)("x",t.x)("y",t.y)("width",e.blockSize)("height",e.blockSize)("fill",t.fillColor)}}var T=(()=>{class o{set recolor(t){t&&this._recolor()}constructor(){this.blockSize=3,this.colCount=Math.floor(1e3/this.blockSize),this.blocks=Array.from({length:this.colCount*this.colCount},(t,e)=>({fillColor:this.randomColor(),x:this.calcX(e),y:this.calcY(e),id:e})),this.rectClicked=new d,this.cellCount=new d,setTimeout(()=>{this.cellCount.emit(this.blocks.length-1)})}sendRectNumber(t){t.preventDefault(),t.stopPropagation();let e=t.target;isNaN(Number(e.dataset.id))||this.rectClicked.emit(Number(e.dataset.id))}calcX(t){let e=Math.floor(t/this.colCount)*this.colCount;return(t-e)*this.blockSize}calcY(t){return Math.floor(t/this.colCount)*this.blockSize}_recolor(){this.blocks.forEach(t=>t.fillColor=this.randomColor()),console.log(`Changed the color of ${this.blocks.length-1} blocks`)}randomColor(){let t=Math.floor(Math.random()*256),e=Math.floor(Math.random()*256),n=Math.floor(Math.random()*256);return`rgb(${t}, ${e}, ${n})`}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=a({type:o,selectors:[["app-blocks"]],inputs:{recolor:"recolor"},outputs:{rectClicked:"rectClicked",cellCount:"cellCount"},decls:4,vars:0,consts:[["role","img","viewBox","0 0 1000 1000",3,"click"]],template:function(e,n){e&1&&(h(),i(0,"svg",0),s("click",function(c){return n.sendRectNumber(c)}),i(1,"g"),g(2,x,1,6,":svg:rect",null,k),l()()),e&2&&(r(2),b(n.blocks))},styles:[`:host{display:block}
`],encapsulation:3})}}return o})();var O=(()=>{class o{constructor(){this.count=0,this.cellCount=0}reColor(){this.count+=1}bit(t){console.log(`rectangle number ${t} is clicked`)}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=a({type:o,selectors:[["app-svg-test"]],decls:9,vars:4,consts:[[3,"rectClicked","cellCount","recolor"],[3,"click"]],template:function(e,n){e&1&&(i(0,"h1"),p(1,"Quick test with svg"),l(),i(2,"small"),p(3),S(4,"number"),l(),i(5,"app-blocks",0),s("rectClicked",function(c){return n.bit(c)})("cellCount",function(c){return n.cellCount=c}),l(),m(6,"hr"),i(7,"button",1),s("click",function(){return n.reColor()}),p(8,"ReColor"),l()),e&2&&(r(3),v("this image contains over ",y(4,2,n.cellCount)," elements"),r(2),f("recolor",n.count))},dependencies:[T,M],styles:["h1[_ngcontent-%COMP%]{margin:0}app-blocks[_ngcontent-%COMP%]{width:min(90vw,90vh);height:min(90vw,90vh)}"]})}}return o})();export{O as SvgTestComponent};
