import{a as J}from"./chunk-FZMQLUNY.js";import{a as P,b as A,c as R,d as D,e as $,f as I,h as l,k as G,l as T,m as B,o as j,p as q,w as z}from"./chunk-M4DNW4SU.js";import{j as V,k as M,n as k}from"./chunk-7UTYY7SV.js";import{Gb as O,Ib as g,Jb as v,T as _,U as y,Wa as d,cb as w,ea as S,eb as c,fb as n,ga as N,gb as t,hb as a,lb as E,ob as b,pa as u,pb as p,qa as f,ub as i,wb as F}from"./chunk-VWKE6EEO.js";import{a as C,b as h}from"./chunk-G5KKTNWD.js";function W(m,o){if(m&1){let s=E();n(0,"main")(1,"h1"),i(2,"Reactive"),t(),n(3,"form",1),b("ngSubmit",function(){u(s);let r=p();return f(r.save())}),n(4,"label")(5,"span"),i(6,"Name"),t(),a(7,"input",2),t(),n(8,"label")(9,"span"),i(10,"Date of birth"),t(),a(11,"input",3),t(),n(12,"label")(13,"span"),i(14,"Email Address"),t(),a(15,"input",4),t(),n(16,"label")(17,"span"),i(18,"Favorite Number"),t(),a(19,"input",5),t(),n(20,"label")(21,"span"),a(22,"input",6),i(23," Admin"),t()(),n(24,"label")(25,"span"),i(26),g(27,"async"),t(),a(28,"input",7),t(),n(29,"button",8),b("click",function(r){let L=u(s).ngIf;return p().updateForm(L),f(r.preventDefault())}),i(30,"Reset form"),t(),n(31,"button",9),i(32,"Submit"),t()()()}if(m&2){let s=p();d(3),c("formGroup",s.form),d(23),F("Level ",v(27,3,s.level$),""),d(5),c("disabled",!s.form.valid)}}var H=(()=>{let o=class{constructor(){this.ds=S(J),this.data$=this.ds.data$.pipe(_({refCount:!0,bufferSize:1})),this.sub=this.data$.subscribe(e=>{this.updateForm(e),this.level$=this.form.get("level").valueChanges.pipe(y(e.level))})}updateForm(e){this.form=new I({name:new l(e.name,R.required),dob:new l(e.dob.toISOString().slice(0,10)),email:new l(e.email),favNumber:new l(e.favNumber),admin:new l(e.admin),level:new l(e.level)})}save(){console.log(`saving reactive ${JSON.stringify(this.form.value,void 0,2)}`);let e=new Date(this.form.value.dob);this.ds.save(h(C({},this.form.value),{dob:e}))}ngOnDestroy(){this.sub.unsubscribe()}},m=o;return(()=>{o.\u0275fac=function(r){return new(r||o)}})(),(()=>{o.\u0275cmp=N({type:o,selectors:[["se-reactive"]],standalone:!0,features:[O],decls:2,vars:3,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],["name","name","type","text","placeholder","Name","formControlName","name"],["name","dob","type","date","placeholder","Date of birth","formControlName","dob"],["name","email","type","email","placeholder","Email Address","formControlName","email"],["name","favNumber","type","number","placeholder","Favorite Number","formControlName","favNumber"],["name","admin","type","checkbox","formControlName","admin"],["name","level","type","range","min","1","max","5","formControlName","level"],["type","cancel",3,"click"],["type","submit",3,"disabled"]],template:function(r,x){r&1&&(w(0,W,33,5,"main",0),g(1,"async")),r&2&&c("ngIf",v(1,1,x.data$))},dependencies:[k,V,M,z,G,A,T,B,P,D,$,j,q],styles:["[_nghost-%COMP%]{display:block}form[_ngcontent-%COMP%]{border:2px solid #d7b52b;padding:1.5rem;border-radius:1rem;accent-color:#2bd75d;width:30rem;display:flex;flex-direction:column;gap:.5rem;margin:auto}label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}label[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(2){margin-left:.25rem}.ng-invalid.ng-dirty[_ngcontent-%COMP%]:not(form){background-color:#8f4646}button[type=submit][_ngcontent-%COMP%]{background-color:#2bd75d;color:#fff;border:none;border-radius:5px;padding:.5rem}button[_ngcontent-%COMP%]:disabled{background-color:#d7b52b;cursor:not-allowed}"]})})(),m})(),ie=H;export{ie as a};
