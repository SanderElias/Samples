import{i as b}from"./chunk-GR2PXCGU.js";import{$a as k,Eb as h,Jb as v,Wa as m,ab as _,cb as p,db as r,eb as l,fb as d,ha as a,mb as c,ra as g,sb as u}from"./chunk-X5MK5QQ4.js";import"./chunk-G5KKTNWD.js";function w(n,o){if(n&1&&(g(),d(0,"rect",2)),n&2){let s=o.$implicit;k("data-id",s.id)("x",s.x)("y",s.y)("fill",s.fillColor)}}var y=(()=>{let o=class{constructor(){this.colCount=Math.floor(1e3/6),this.blocks=Array.from({length:this.colCount*this.colCount},(t,e)=>({fillColor:this.randomColor(),x:this.calcX(e),y:this.calcY(e),id:e})),this.rectClicked=new v}set recolor(t){t&&this._recolor()}sendRectNumber(t){t.preventDefault(),t.stopPropagation();let e=t.target;isNaN(+e.dataset.id)||this.rectClicked.emit(+e.dataset.id)}calcX(t){let e=Math.floor(t/this.colCount)*this.colCount;return(t-e)*6}calcY(t){return Math.floor(t/this.colCount)*6}_recolor(){this.blocks.forEach(t=>t.fillColor=this.randomColor()),console.log(`Changed the color of ${this.blocks.length} blocks`)}randomColor(){let t=Math.floor(Math.random()*256),e=Math.floor(Math.random()*256),i=Math.floor(Math.random()*256);return`rgb(${t}, ${e}, ${i})`}},n=o;return(()=>{o.\u0275fac=function(e){return new(e||o)}})(),(()=>{o.\u0275cmp=a({type:o,selectors:[["app-blocks"]],inputs:{recolor:"recolor"},outputs:{rectClicked:"rectClicked"},standalone:!0,features:[h],decls:3,vars:1,consts:[["role","img","viewBox","0 0 1000 1000",3,"click"],["width","5","height","5",4,"ngFor","ngForOf"],["width","5","height","5"]],template:function(e,i){e&1&&(g(),r(0,"svg",0),c("click",function(f){return i.sendRectNumber(f)}),r(1,"g"),_(2,w,1,4,"rect",1),l()()),e&2&&(m(2),p("ngForOf",i.blocks))},dependencies:[b],styles:[`:host{display:block}
`],encapsulation:3})})(),n})();var N=(()=>{let o=class{constructor(){this.count=0}ngOnInit(){}reColor(){this.count+=1}bit(t){console.log(`rectangle number ${t} is clicked`)}},n=o;return(()=>{o.\u0275fac=function(e){return new(e||o)}})(),(()=>{o.\u0275cmp=a({type:o,selectors:[["app-svg-test"]],standalone:!0,features:[h],decls:8,vars:1,consts:[[3,"recolor","rectClicked"],[3,"click"]],template:function(e,i){e&1&&(r(0,"h1"),u(1,"Quick test with svg "),l(),r(2,"small"),u(3,"this image containes over 27.500 elements"),l(),r(4,"app-blocks",0),c("rectClicked",function(f){return i.bit(f)}),l(),d(5,"hr"),r(6,"button",1),c("click",function(){return i.reColor()}),u(7,"ReColor"),l()),e&2&&(m(4),p("recolor",i.count))},dependencies:[y],styles:[`h1[_ngcontent-%COMP%] {
    margin:0;
  }
  app-blocks[_ngcontent-%COMP%] {
    width: min(90vw, 90vh);
    height: min(90vw, 90vh);
  }`]})})(),n})();export{N as SvgTestComponent};
