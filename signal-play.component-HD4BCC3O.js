import{c as l}from"./chunk-V2AHVTK6.js";import{k as j}from"./chunk-JQ6I7NYP.js";import{Ib as n,Jb as r,Kb as u,Rb as p,Ya as c,aa as d,ac as o,bc as v,db as m,dc as y,ga as h,kc as g,lb as f,lc as b,uc as a}from"./chunk-AULJCTBB.js";import"./chunk-KAT7YFEL.js";var I=(()=>{class e{constructor(){this.usersResource=l({loader:_}),this.getUser=t=>l({request:t,loader:C}),this.getUserById=t=>l({request:t,loader:C})}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275prov=d({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$=e=>`https://jsonplaceholder.typicode.com/${e}`,C=async({request:e,abortSignal:x})=>{let t=await fetch($(`users/${e}`),{signal:x});if(!t.ok)throw new Error(`Failed to load user's data, ${t.status} ${t.statusText}`);return await t.json()},_=()=>fetch($("users")).then(e=>e.json());var T=(()=>{class e{constructor(){this.jph=h(I),this.id=m(1),this.userResource=this.jph.getUser(this.id),this.$user=a(()=>this.userResource.value()??{}),this.$state=a(()=>this.userResource.status()),this.$availableUserCount=a(()=>this.jph.usersResource.value()?.length??0),this.relId=(t=1)=>{let s=+this.id()||0;return Math.max(1,Math.min(this.$availableUserCount(),s+t))}}next(){this.id.set(this.relId(1))}prev(){this.id.set(this.relId(-1))}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275cmp=f({type:e,selectors:[["se-signal-play"]],decls:12,vars:5,consts:[[3,"click"]],template:function(s,i){s&1&&(n(0,"h3"),o(1),r(),u(2,"hr"),n(3,"pre")(4,"code"),o(5),g(6,"json"),r()(),u(7,"hr"),n(8,"button",0),p("click",function(){return i.next()}),o(9,"next"),r(),n(10,"button",0),p("click",function(){return i.prev()}),o(11,"prev"),r()),s&2&&(c(),y("Available:",i.$availableUserCount()," current:",i.id(),""),c(4),v(b(6,3,i.$user())))},dependencies:[j],styles:["[_nghost-%COMP%]{display:block}"]})}}return e})();export{T as default};
