import{a as B,d as se}from"./chunk-I4MTPUBM.js";var mt=document.createElement("i");function Ln(n){let r="&"+n+";";mt.innerHTML=r;let t=mt.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===r?!1:t}function U(n,r,t,e){let u=n.length,i=0,o;if(r<0?r=-r>u?0:u+r:r=r>u?u:r,t=t>0?t:0,e.length<1e4)o=Array.from(e),o.unshift(r,t),n.splice(...o);else for(t&&n.splice(r,t);i<e.length;)o=e.slice(i,i+1e4),o.unshift(r,0),n.splice(...o),i+=1e4,r+=1e4}function H(n,r){return n.length>0?(U(n,n.length,0,r),n):r}var Vn={}.hasOwnProperty;function ht(n){let r={},t=-1;for(;++t<n.length;)ce(r,n[t]);return r}function ce(n,r){let t;for(t in r){let u=(Vn.call(n,t)?n[t]:void 0)||(n[t]={}),i=r[t],o;if(i)for(o in i){Vn.call(u,o)||(u[o]=[]);let l=i[o];pe(u[o],Array.isArray(l)?l:l?[l]:[])}}}function pe(n,r){let t=-1,e=[];for(;++t<r.length;)(r[t].add==="after"?n:e).push(r[t]);U(n,0,0,e)}function ft(n){let r={},t=-1;for(;++t<n.length;)me(r,n[t]);return r}function me(n,r){let t;for(t in r){let u=(Vn.call(n,t)?n[t]:void 0)||(n[t]={}),i=r[t],o;if(i)for(o in i)u[o]=i[o]}}function xt(n,r){let t=Number.parseInt(n,r);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"\uFFFD":String.fromCodePoint(t)}var he={'"':"quot","&":"amp","<":"lt",">":"gt"};function Tn(n){return n.replace(/["&<>]/g,r);function r(t){return"&"+he[t]+";"}}function ln(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var G=an(/[A-Za-z]/),Q=an(/[\dA-Za-z]/),gt=an(/[#-'*+\--9=?A-Z^-~]/);function Sn(n){return n!==null&&(n<32||n===127)}var bn=an(/\d/),kt=an(/[\dA-Fa-f]/),dt=an(/[!-/:-@[-`{-~]/);function b(n){return n!==null&&n<-2}function D(n){return n!==null&&(n<0||n===32)}function z(n){return n===-2||n===-1||n===32}var St=an(new RegExp("\\p{P}|\\p{S}","u")),bt=an(/\s/);function an(n){return r;function r(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function wn(n,r){let t=Tn(fe(n||""));if(!r)return t;let e=t.indexOf(":"),u=t.indexOf("?"),i=t.indexOf("#"),o=t.indexOf("/");return e<0||o>-1&&e>o||u>-1&&e>u||i>-1&&e>i||r.test(t.slice(0,e))?t:""}function fe(n){let r=[],t=-1,e=0,u=0;for(;++t<n.length;){let i=n.charCodeAt(t),o="";if(i===37&&Q(n.charCodeAt(t+1))&&Q(n.charCodeAt(t+2)))u=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){let l=n.charCodeAt(t+1);i<56320&&l>56319&&l<57344?(o=String.fromCharCode(i,l),u=1):o="\uFFFD"}else o=String.fromCharCode(i);o&&(r.push(n.slice(e,t),encodeURIComponent(o)),e=t+u+1,o=""),u&&(t+=u,u=0)}return r.join("")+n.slice(e)}var wt={}.hasOwnProperty,Et=/^(https?|ircs?|mailto|xmpp)$/i,xe=/^https?$/i;function Qn(n){let r=n||{},t=!0,e={},u=[[]],i=[],o=[],f=ft([{enter:{blockQuote:T,codeFenced:nn,codeFencedFenceInfo:_,codeFencedFenceMeta:_,codeIndented:rn,codeText:te,content:Wt,definition:Dt,definitionDestinationString:qt,definitionLabelString:_,definitionTitleString:_,emphasis:vt,htmlFlow:Xt,htmlText:lt,image:$,label:_,link:hn,listItemMarker:J,listItemValue:j,listOrdered:R,listUnordered:q,paragraph:V,reference:_,resource:kn,resourceDestinationString:un,resourceTitleString:_,setextHeading:jt,strong:ne},exit:{atxHeading:Zt,atxHeadingSequence:Ut,autolinkEmail:ae,autolinkProtocol:le,blockQuote:N,characterEscapeValue:dn,characterReferenceMarkerHexadecimal:at,characterReferenceMarkerNumeric:at,characterReferenceValue:oe,codeFenced:s,codeFencedFence:K,codeFencedFenceInfo:a,codeFencedFenceMeta:P,codeFlowValue:Kt,codeIndented:s,codeText:ee,codeTextData:dn,data:dn,definition:Qt,definitionDestinationString:Ht,definitionLabelString:Rt,definitionTitleString:Vt,emphasis:re,hardBreakEscape:ut,hardBreakTrailing:ut,htmlFlow:ot,htmlFlowData:dn,htmlText:ot,htmlTextData:dn,image:Fn,label:zn,labelText:Hn,lineEnding:Jt,link:Fn,listOrdered:M,listUnordered:y,paragraph:X,reference:P,referenceString:W,resource:P,resourceDestinationString:fn,resourceTitleString:xn,setextHeading:Gt,setextHeadingLineSequence:$t,setextHeadingText:Yt,strong:ie,thematicBreak:ue}},...r.htmlExtensions||[]]),m={definitions:e,tightStack:o},p={buffer:_,encode:g,getData:C,lineEndingIfNeeded:A,options:r,raw:S,resume:d,setData:w,tag:E},x=r.defaultLineEnding;return h;function h(k){let I=-1,Y=0,v=[],tn=[],on=[];for(;++I<k.length;)!x&&(k[I][1].type==="lineEnding"||k[I][1].type==="lineEndingBlank")&&(x=k[I][2].sliceSerialize(k[I][1])),(k[I][1].type==="listOrdered"||k[I][1].type==="listUnordered")&&(k[I][0]==="enter"?v.push(I):c(k.slice(v.pop(),I))),k[I][1].type==="definition"&&(k[I][0]==="enter"?(on=H(on,k.slice(Y,I)),Y=I):(tn=H(tn,k.slice(Y,I+1)),Y=I+1));tn=H(tn,on),tn=H(tn,k.slice(Y)),I=-1;let en=tn;for(f.enter.null&&f.enter.null.call(p);++I<k.length;){let st=f[en[I][0]],ct=en[I][1].type,pt=st[ct];wt.call(st,ct)&&pt&&pt.call(B({sliceSerialize:en[I][2].sliceSerialize},p),en[I][1])}return f.exit.null&&f.exit.null.call(p),u[0].join("")}function c(k){let I=k.length,Y=0,v=0,tn=!1,on;for(;++Y<I;){let en=k[Y];if(en[1]._container)on=void 0,en[0]==="enter"?v++:v--;else switch(en[1].type){case"listItemPrefix":{en[0]==="exit"&&(on=!0);break}case"linePrefix":break;case"lineEndingBlank":{en[0]==="enter"&&!v&&(on?on=void 0:tn=!0);break}default:on=void 0}}k[0][1]._loose=tn}function w(k,I){m[k]=I}function C(k){return m[k]}function _(){u.push([])}function d(){return u.pop().join("")}function E(k){t&&(w("lastWasTag",!0),u[u.length-1].push(k))}function S(k){w("lastWasTag"),u[u.length-1].push(k)}function O(){S(x||`
`)}function A(){let k=u[u.length-1],I=k[k.length-1],Y=I?I.charCodeAt(I.length-1):null;Y===10||Y===13||Y===null||O()}function g(k){return C("ignoreEncode")?k:Tn(k)}function P(){d()}function R(k){o.push(!k._loose),A(),E("<ol"),w("expectFirstItem",!0)}function q(k){o.push(!k._loose),A(),E("<ul"),w("expectFirstItem",!0)}function j(k){if(C("expectFirstItem")){let I=Number.parseInt(this.sliceSerialize(k),10);I!==1&&E(' start="'+g(String(I))+'"')}}function J(){C("expectFirstItem")?E(">"):L(),A(),E("<li>"),w("expectFirstItem"),w("lastWasTag")}function M(){L(),o.pop(),O(),E("</ol>")}function y(){L(),o.pop(),O(),E("</ul>")}function L(){C("lastWasTag")&&!C("slurpAllLineEndings")&&A(),E("</li>"),w("slurpAllLineEndings")}function T(){o.push(!1),A(),E("<blockquote>")}function N(){o.pop(),A(),E("</blockquote>"),w("slurpAllLineEndings")}function V(){o[o.length-1]||(A(),E("<p>")),w("slurpAllLineEndings")}function X(){o[o.length-1]?w("slurpAllLineEndings",!0):E("</p>")}function nn(){A(),E("<pre><code"),w("fencesCount",0)}function a(){let k=d();E(' class="language-'+k+'"')}function K(){let k=C("fencesCount")||0;k||(E(">"),w("slurpOneLineEnding",!0)),w("fencesCount",k+1)}function rn(){A(),E("<pre><code>")}function s(){let k=C("fencesCount");k!==void 0&&k<2&&m.tightStack.length>0&&!C("lastWasTag")&&O(),C("flowCodeSeenData")&&A(),E("</code></pre>"),k!==void 0&&k<2&&A(),w("flowCodeSeenData"),w("fencesCount"),w("slurpOneLineEnding")}function $(){i.push({image:!0}),t=void 0}function hn(){i.push({})}function Hn(k){i[i.length-1].labelId=this.sliceSerialize(k)}function zn(){i[i.length-1].label=d()}function W(k){i[i.length-1].referenceId=this.sliceSerialize(k)}function kn(){_(),i[i.length-1].destination=""}function un(){_(),w("ignoreEncode",!0)}function fn(){i[i.length-1].destination=d(),w("ignoreEncode")}function xn(){i[i.length-1].title=d()}function Fn(){let k=i.length-1,I=i[k],Y=I.referenceId||I.labelId,v=I.destination===void 0?e[ln(Y)]:I;for(t=!0;k--;)if(i[k].image){t=void 0;break}I.image?(E('<img src="'+wn(v.destination,r.allowDangerousProtocol?void 0:xe)+'" alt="'),S(I.label),E('"')):E('<a href="'+wn(v.destination,r.allowDangerousProtocol?void 0:Et)+'"'),E(v.title?' title="'+v.title+'"':""),I.image?E(" />"):(E(">"),S(I.label),E("</a>")),i.pop()}function Dt(){_(),i.push({})}function Rt(k){d(),i[i.length-1].labelId=this.sliceSerialize(k)}function qt(){_(),w("ignoreEncode",!0)}function Ht(){i[i.length-1].destination=d(),w("ignoreEncode")}function Vt(){i[i.length-1].title=d()}function Qt(){let k=i[i.length-1],I=ln(k.labelId);d(),wt.call(e,I)||(e[I]=i[i.length-1]),i.pop()}function Wt(){w("slurpAllLineEndings",!0)}function Ut(k){C("headingRank")||(w("headingRank",this.sliceSerialize(k).length),A(),E("<h"+C("headingRank")+">"))}function jt(){_(),w("slurpAllLineEndings")}function Yt(){w("slurpAllLineEndings",!0)}function Zt(){E("</h"+C("headingRank")+">"),w("headingRank")}function $t(k){w("headingRank",this.sliceSerialize(k).charCodeAt(0)===61?1:2)}function Gt(){let k=d();A(),E("<h"+C("headingRank")+">"),S(k),E("</h"+C("headingRank")+">"),w("slurpAllLineEndings"),w("headingRank")}function dn(k){S(g(this.sliceSerialize(k)))}function Jt(k){if(!C("slurpAllLineEndings")){if(C("slurpOneLineEnding")){w("slurpOneLineEnding");return}if(C("inCodeText")){S(" ");return}S(g(this.sliceSerialize(k)))}}function Kt(k){S(g(this.sliceSerialize(k))),w("flowCodeSeenData",!0)}function ut(){E("<br />")}function Xt(){A(),lt()}function ot(){w("ignoreEncode")}function lt(){r.allowDangerousHtml&&w("ignoreEncode",!0)}function vt(){E("<em>")}function ne(){E("<strong>")}function te(){w("inCodeText",!0),E("<code>")}function ee(){w("inCodeText"),E("</code>")}function re(){E("</em>")}function ie(){E("</strong>")}function ue(){A(),E("<hr />")}function at(k){w("characterReferenceType",k.type)}function oe(k){let I=this.sliceSerialize(k),Y=C("characterReferenceType")?xt(I,C("characterReferenceType")==="characterReferenceMarkerNumeric"?10:16):Ln(I);S(g(Y)),w("characterReferenceType")}function le(k){let I=this.sliceSerialize(k);E('<a href="'+wn(I,r.allowDangerousProtocol?void 0:Et)+'">'),S(g(I)),E("</a>")}function ae(k){let I=this.sliceSerialize(k);E('<a href="'+wn("mailto:"+I)+'">'),S(g(I)),E("</a>")}}function F(n,r,t,e){let u=e?e-1:Number.POSITIVE_INFINITY,i=0;return o;function o(f){return z(f)?(n.enter(t),l(f)):r(f)}function l(f){return z(f)&&i++<u?(n.consume(f),l):(n.exit(t),r(f))}}var It={tokenize:ge};function ge(n){let r=n.attempt(this.parser.constructs.contentInitial,e,u),t;return r;function e(l){if(l===null){n.consume(l);return}return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),F(n,r,"linePrefix")}function u(l){return n.enter("paragraph"),i(l)}function i(l){let f=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=f),t=f,o(l)}function o(l){if(l===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(l);return}return b(l)?(n.consume(l),n.exit("chunkText"),i):(n.consume(l),o)}}var Ct={tokenize:ke},yt={tokenize:de};function ke(n){let r=this,t=[],e=0,u,i,o;return l;function l(S){if(e<t.length){let O=t[e];return r.containerState=O[1],n.attempt(O[0].continuation,f,m)(S)}return m(S)}function f(S){if(e++,r.containerState._closeFlow){r.containerState._closeFlow=void 0,u&&E();let O=r.events.length,A=O,g;for(;A--;)if(r.events[A][0]==="exit"&&r.events[A][1].type==="chunkFlow"){g=r.events[A][1].end;break}d(e);let P=O;for(;P<r.events.length;)r.events[P][1].end=B({},g),P++;return U(r.events,A+1,0,r.events.slice(O)),r.events.length=P,m(S)}return l(S)}function m(S){if(e===t.length){if(!u)return h(S);if(u.currentConstruct&&u.currentConstruct.concrete)return w(S);r.interrupt=!!(u.currentConstruct&&!u._gfmTableDynamicInterruptHack)}return r.containerState={},n.check(yt,p,x)(S)}function p(S){return u&&E(),d(e),h(S)}function x(S){return r.parser.lazy[r.now().line]=e!==t.length,o=r.now().offset,w(S)}function h(S){return r.containerState={},n.attempt(yt,c,w)(S)}function c(S){return e++,t.push([r.currentConstruct,r.containerState]),h(S)}function w(S){if(S===null){u&&E(),d(0),n.consume(S);return}return u=u||r.parser.flow(r.now()),n.enter("chunkFlow",{_tokenizer:u,contentType:"flow",previous:i}),C(S)}function C(S){if(S===null){_(n.exit("chunkFlow"),!0),d(0),n.consume(S);return}return b(S)?(n.consume(S),_(n.exit("chunkFlow")),e=0,r.interrupt=void 0,l):(n.consume(S),C)}function _(S,O){let A=r.sliceStream(S);if(O&&A.push(null),S.previous=i,i&&(i.next=S),i=S,u.defineSkip(S.start),u.write(A),r.parser.lazy[S.start.line]){let g=u.events.length;for(;g--;)if(u.events[g][1].start.offset<o&&(!u.events[g][1].end||u.events[g][1].end.offset>o))return;let P=r.events.length,R=P,q,j;for(;R--;)if(r.events[R][0]==="exit"&&r.events[R][1].type==="chunkFlow"){if(q){j=r.events[R][1].end;break}q=!0}for(d(e),g=P;g<r.events.length;)r.events[g][1].end=B({},j),g++;U(r.events,R+1,0,r.events.slice(P)),r.events.length=g}}function d(S){let O=t.length;for(;O-- >S;){let A=t[O];r.containerState=A[1],A[0].exit.call(r,n)}t.length=S}function E(){u.write([null]),i=void 0,u=void 0,r.containerState._closeFlow=void 0}}function de(n,r,t){return F(n,n.attempt(this.parser.constructs.document,r,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Wn(n){if(n===null||D(n)||bt(n))return 1;if(St(n))return 2}function gn(n,r,t){let e=[],u=-1;for(;++u<n.length;){let i=n[u].resolveAll;i&&!e.includes(i)&&(r=i(r,t),e.push(i))}return r}var En={name:"attention",resolveAll:Se,tokenize:be};function Se(n,r){let t=-1,e,u,i,o,l,f,m,p;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(e=t;e--;)if(n[e][0]==="exit"&&n[e][1].type==="attentionSequence"&&n[e][1]._open&&r.sliceSerialize(n[e][1]).charCodeAt(0)===r.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[e][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[e][1].end.offset-n[e][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;f=n[e][1].end.offset-n[e][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;let x=B({},n[e][1].end),h=B({},n[t][1].start);zt(x,-f),zt(h,f),o={type:f>1?"strongSequence":"emphasisSequence",start:x,end:B({},n[e][1].end)},l={type:f>1?"strongSequence":"emphasisSequence",start:B({},n[t][1].start),end:h},i={type:f>1?"strongText":"emphasisText",start:B({},n[e][1].end),end:B({},n[t][1].start)},u={type:f>1?"strong":"emphasis",start:B({},o.start),end:B({},l.end)},n[e][1].end=B({},o.start),n[t][1].start=B({},l.end),m=[],n[e][1].end.offset-n[e][1].start.offset&&(m=H(m,[["enter",n[e][1],r],["exit",n[e][1],r]])),m=H(m,[["enter",u,r],["enter",o,r],["exit",o,r],["enter",i,r]]),m=H(m,gn(r.parser.constructs.insideSpan.null,n.slice(e+1,t),r)),m=H(m,[["exit",i,r],["enter",l,r],["exit",l,r],["exit",u,r]]),n[t][1].end.offset-n[t][1].start.offset?(p=2,m=H(m,[["enter",n[t][1],r],["exit",n[t][1],r]])):p=0,U(n,e-1,t-e+3,m),t=e+m.length-p-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function be(n,r){let t=this.parser.constructs.attentionMarkers.null,e=this.previous,u=Wn(e),i;return o;function o(f){return i=f,n.enter("attentionSequence"),l(f)}function l(f){if(f===i)return n.consume(f),l;let m=n.exit("attentionSequence"),p=Wn(f),x=!p||p===2&&u||t.includes(f),h=!u||u===2&&p||t.includes(e);return m._open=!!(i===42?x:x&&(u||!h)),m._close=!!(i===42?h:h&&(p||!x)),r(f)}}function zt(n,r){n.column+=r,n.offset+=r,n._bufferIndex+=r}var Un={name:"autolink",tokenize:we};function we(n,r,t){let e=0;return u;function u(c){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(c),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),i}function i(c){return G(c)?(n.consume(c),o):c===64?t(c):m(c)}function o(c){return c===43||c===45||c===46||Q(c)?(e=1,l(c)):m(c)}function l(c){return c===58?(n.consume(c),e=0,f):(c===43||c===45||c===46||Q(c))&&e++<32?(n.consume(c),l):(e=0,m(c))}function f(c){return c===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(c),n.exit("autolinkMarker"),n.exit("autolink"),r):c===null||c===32||c===60||Sn(c)?t(c):(n.consume(c),f)}function m(c){return c===64?(n.consume(c),p):gt(c)?(n.consume(c),m):t(c)}function p(c){return Q(c)?x(c):t(c)}function x(c){return c===46?(n.consume(c),e=0,p):c===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(c),n.exit("autolinkMarker"),n.exit("autolink"),r):h(c)}function h(c){if((c===45||Q(c))&&e++<63){let w=c===45?h:x;return n.consume(c),w}return t(c)}}var sn={partial:!0,tokenize:Ee};function Ee(n,r,t){return e;function e(i){return z(i)?F(n,u,"linePrefix")(i):u(i)}function u(i){return i===null||b(i)?r(i):t(i)}}var An={continuation:{tokenize:ye},exit:Ce,name:"blockQuote",tokenize:Ie};function Ie(n,r,t){let e=this;return u;function u(o){if(o===62){let l=e.containerState;return l.open||(n.enter("blockQuote",{_container:!0}),l.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),i}return t(o)}function i(o){return z(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),r):(n.exit("blockQuotePrefix"),r(o))}}function ye(n,r,t){let e=this;return u;function u(o){return z(o)?F(n,i,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return n.attempt(An,r,t)(o)}}function Ce(n){n.exit("blockQuote")}var _n={name:"characterEscape",tokenize:ze};function ze(n,r,t){return e;function e(i){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(i),n.exit("escapeMarker"),u}function u(i){return dt(i)?(n.enter("characterEscapeValue"),n.consume(i),n.exit("characterEscapeValue"),n.exit("characterEscape"),r):t(i)}}var Bn={name:"characterReference",tokenize:Fe};function Fe(n,r,t){let e=this,u=0,i,o;return l;function l(x){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(x),n.exit("characterReferenceMarker"),f}function f(x){return x===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(x),n.exit("characterReferenceMarkerNumeric"),m):(n.enter("characterReferenceValue"),i=31,o=Q,p(x))}function m(x){return x===88||x===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(x),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),i=6,o=kt,p):(n.enter("characterReferenceValue"),i=7,o=bn,p(x))}function p(x){if(x===59&&u){let h=n.exit("characterReferenceValue");return o===Q&&!Ln(e.sliceSerialize(h))?t(x):(n.enter("characterReferenceMarker"),n.consume(x),n.exit("characterReferenceMarker"),n.exit("characterReference"),r)}return o(x)&&u++<i?(n.consume(x),p):t(x)}}var Ft={partial:!0,tokenize:Te},Pn={concrete:!0,name:"codeFenced",tokenize:Le};function Le(n,r,t){let e=this,u={partial:!0,tokenize:A},i=0,o=0,l;return f;function f(g){return m(g)}function m(g){let P=e.events[e.events.length-1];return i=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,l=g,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),p(g)}function p(g){return g===l?(o++,n.consume(g),p):o<3?t(g):(n.exit("codeFencedFenceSequence"),z(g)?F(n,x,"whitespace")(g):x(g))}function x(g){return g===null||b(g)?(n.exit("codeFencedFence"),e.interrupt?r(g):n.check(Ft,C,O)(g)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===null||b(g)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),x(g)):z(g)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),F(n,c,"whitespace")(g)):g===96&&g===l?t(g):(n.consume(g),h)}function c(g){return g===null||b(g)?x(g):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),w(g))}function w(g){return g===null||b(g)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),x(g)):g===96&&g===l?t(g):(n.consume(g),w)}function C(g){return n.attempt(u,O,_)(g)}function _(g){return n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),d}function d(g){return i>0&&z(g)?F(n,E,"linePrefix",i+1)(g):E(g)}function E(g){return g===null||b(g)?n.check(Ft,C,O)(g):(n.enter("codeFlowValue"),S(g))}function S(g){return g===null||b(g)?(n.exit("codeFlowValue"),E(g)):(n.consume(g),S)}function O(g){return n.exit("codeFenced"),r(g)}function A(g,P,R){let q=0;return j;function j(T){return g.enter("lineEnding"),g.consume(T),g.exit("lineEnding"),J}function J(T){return g.enter("codeFencedFence"),z(T)?F(g,M,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):M(T)}function M(T){return T===l?(g.enter("codeFencedFenceSequence"),y(T)):R(T)}function y(T){return T===l?(q++,g.consume(T),y):q>=o?(g.exit("codeFencedFenceSequence"),z(T)?F(g,L,"whitespace")(T):L(T)):R(T)}function L(T){return T===null||b(T)?(g.exit("codeFencedFence"),P(T)):R(T)}}}function Te(n,r,t){let e=this;return u;function u(o){return o===null?t(o):(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),i)}function i(o){return e.parser.lazy[e.now().line]?t(o):r(o)}}var In={name:"codeIndented",tokenize:_e},Ae={partial:!0,tokenize:Be};function _e(n,r,t){let e=this;return u;function u(m){return n.enter("codeIndented"),F(n,i,"linePrefix",5)(m)}function i(m){let p=e.events[e.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?o(m):t(m)}function o(m){return m===null?f(m):b(m)?n.attempt(Ae,o,f)(m):(n.enter("codeFlowValue"),l(m))}function l(m){return m===null||b(m)?(n.exit("codeFlowValue"),o(m)):(n.consume(m),l)}function f(m){return n.exit("codeIndented"),r(m)}}function Be(n,r,t){let e=this;return u;function u(o){return e.parser.lazy[e.now().line]?t(o):b(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),u):F(n,i,"linePrefix",5)(o)}function i(o){let l=e.events[e.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?r(o):b(o)?u(o):t(o)}}var jn={name:"codeText",previous:Oe,resolve:Pe,tokenize:Me};function Pe(n){let r=n.length-4,t=3,e,u;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[r][1].type==="lineEnding"||n[r][1].type==="space")){for(e=t;++e<r;)if(n[e][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[r][1].type="codeTextPadding",t+=2,r-=2;break}}for(e=t-1,r++;++e<=r;)u===void 0?e!==r&&n[e][1].type!=="lineEnding"&&(u=e):(e===r||n[e][1].type==="lineEnding")&&(n[u][1].type="codeTextData",e!==u+2&&(n[u][1].end=n[e-1][1].end,n.splice(u+2,e-u-2),r-=e-u-2,e=u+2),u=void 0);return n}function Oe(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Me(n,r,t){let e=this,u=0,i,o;return l;function l(h){return n.enter("codeText"),n.enter("codeTextSequence"),f(h)}function f(h){return h===96?(n.consume(h),u++,f):(n.exit("codeTextSequence"),m(h))}function m(h){return h===null?t(h):h===32?(n.enter("space"),n.consume(h),n.exit("space"),m):h===96?(o=n.enter("codeTextSequence"),i=0,x(h)):b(h)?(n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),m):(n.enter("codeTextData"),p(h))}function p(h){return h===null||h===32||h===96||b(h)?(n.exit("codeTextData"),m(h)):(n.consume(h),p)}function x(h){return h===96?(n.consume(h),i++,x):i===u?(n.exit("codeTextSequence"),n.exit("codeText"),r(h)):(o.type="codeTextData",p(h))}}var On=class{constructor(r){this.left=r?[...r]:[],this.right=[]}get(r){if(r<0||r>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+r+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return r<this.left.length?this.left[r]:this.right[this.right.length-r+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(r,t){let e=t??Number.POSITIVE_INFINITY;return e<this.left.length?this.left.slice(r,e):r>this.left.length?this.right.slice(this.right.length-e+this.left.length,this.right.length-r+this.left.length).reverse():this.left.slice(r).concat(this.right.slice(this.right.length-e+this.left.length).reverse())}splice(r,t,e){let u=t||0;this.setCursor(Math.trunc(r));let i=this.right.splice(this.right.length-u,Number.POSITIVE_INFINITY);return e&&yn(this.left,e),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(r){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(r)}pushMany(r){this.setCursor(Number.POSITIVE_INFINITY),yn(this.left,r)}unshift(r){this.setCursor(0),this.right.push(r)}unshiftMany(r){this.setCursor(0),yn(this.right,r.reverse())}setCursor(r){if(!(r===this.left.length||r>this.left.length&&this.right.length===0||r<0&&this.left.length===0))if(r<this.left.length){let t=this.left.splice(r,Number.POSITIVE_INFINITY);yn(this.right,t.reverse())}else{let t=this.right.splice(this.left.length+this.right.length-r,Number.POSITIVE_INFINITY);yn(this.left,t.reverse())}}};function yn(n,r){let t=0;if(r.length<1e4)n.push(...r);else for(;t<r.length;)n.push(...r.slice(t,t+1e4)),t+=1e4}function Mn(n){let r={},t=-1,e,u,i,o,l,f,m,p=new On(n);for(;++t<p.length;){for(;t in r;)t=r[t];if(e=p.get(t),t&&e[1].type==="chunkFlow"&&p.get(t-1)[1].type==="listItemPrefix"&&(f=e[1]._tokenizer.events,i=0,i<f.length&&f[i][1].type==="lineEndingBlank"&&(i+=2),i<f.length&&f[i][1].type==="content"))for(;++i<f.length&&f[i][1].type!=="content";)f[i][1].type==="chunkText"&&(f[i][1]._isInFirstContentOfListItem=!0,i++);if(e[0]==="enter")e[1].contentType&&(Object.assign(r,Ne(p,t)),t=r[t],m=!0);else if(e[1]._container){for(i=t,u=void 0;i--&&(o=p.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(u&&(p.get(u)[1].type="lineEndingBlank"),o[1].type="lineEnding",u=i);u&&(e[1].end=B({},p.get(u)[1].start),l=p.slice(u,t),l.unshift(e),p.splice(u,t-u+1,l))}}return U(n,0,Number.POSITIVE_INFINITY,p.slice(0)),!m}function Ne(n,r){let t=n.get(r)[1],e=n.get(r)[2],u=r-1,i=[],o=t._tokenizer||e.parser[t.contentType](t.start),l=o.events,f=[],m={},p,x,h=-1,c=t,w=0,C=0,_=[C];for(;c;){for(;n.get(++u)[1]!==c;);i.push(u),c._tokenizer||(p=e.sliceStream(c),c.next||p.push(null),x&&o.defineSkip(c.start),c._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(p),c._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),x=c,c=c.next}for(c=t;++h<l.length;)l[h][0]==="exit"&&l[h-1][0]==="enter"&&l[h][1].type===l[h-1][1].type&&l[h][1].start.line!==l[h][1].end.line&&(C=h+1,_.push(C),c._tokenizer=void 0,c.previous=void 0,c=c.next);for(o.events=[],c?(c._tokenizer=void 0,c.previous=void 0):_.pop(),h=_.length;h--;){let d=l.slice(_[h],_[h+1]),E=i.pop();f.push([E,E+d.length-1]),n.splice(E,2,d)}for(f.reverse(),h=-1;++h<f.length;)m[w+f[h][0]]=w+f[h][1],w+=f[h][1]-f[h][0]-1;return m}var Yn={resolve:Re,tokenize:qe},De={partial:!0,tokenize:He};function Re(n){return Mn(n),n}function qe(n,r){let t;return e;function e(l){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),u(l)}function u(l){return l===null?i(l):b(l)?n.check(De,o,i)(l):(n.consume(l),u)}function i(l){return n.exit("chunkContent"),n.exit("content"),r(l)}function o(l){return n.consume(l),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,u}}function He(n,r,t){let e=this;return u;function u(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),F(n,i,"linePrefix")}function i(o){if(o===null||b(o))return t(o);let l=e.events[e.events.length-1];return!e.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?r(o):n.interrupt(e.parser.constructs.flow,t,r)(o)}}function Nn(n,r,t,e,u,i,o,l,f){let m=f||Number.POSITIVE_INFINITY,p=0;return x;function x(d){return d===60?(n.enter(e),n.enter(u),n.enter(i),n.consume(d),n.exit(i),h):d===null||d===32||d===41||Sn(d)?t(d):(n.enter(e),n.enter(o),n.enter(l),n.enter("chunkString",{contentType:"string"}),C(d))}function h(d){return d===62?(n.enter(i),n.consume(d),n.exit(i),n.exit(u),n.exit(e),r):(n.enter(l),n.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===62?(n.exit("chunkString"),n.exit(l),h(d)):d===null||d===60||b(d)?t(d):(n.consume(d),d===92?w:c)}function w(d){return d===60||d===62||d===92?(n.consume(d),c):c(d)}function C(d){return!p&&(d===null||d===41||D(d))?(n.exit("chunkString"),n.exit(l),n.exit(o),n.exit(e),r(d)):p<m&&d===40?(n.consume(d),p++,C):d===41?(n.consume(d),p--,C):d===null||d===32||d===40||Sn(d)?t(d):(n.consume(d),d===92?_:C)}function _(d){return d===40||d===41||d===92?(n.consume(d),C):C(d)}}function Dn(n,r,t,e,u,i){let o=this,l=0,f;return m;function m(c){return n.enter(e),n.enter(u),n.consume(c),n.exit(u),n.enter(i),p}function p(c){return l>999||c===null||c===91||c===93&&!f||c===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?t(c):c===93?(n.exit(i),n.enter(u),n.consume(c),n.exit(u),n.exit(e),r):b(c)?(n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),p):(n.enter("chunkString",{contentType:"string"}),x(c))}function x(c){return c===null||c===91||c===93||b(c)||l++>999?(n.exit("chunkString"),p(c)):(n.consume(c),f||(f=!z(c)),c===92?h:x)}function h(c){return c===91||c===92||c===93?(n.consume(c),l++,x):x(c)}}function Rn(n,r,t,e,u,i){let o;return l;function l(h){return h===34||h===39||h===40?(n.enter(e),n.enter(u),n.consume(h),n.exit(u),o=h===40?41:h,f):t(h)}function f(h){return h===o?(n.enter(u),n.consume(h),n.exit(u),n.exit(e),r):(n.enter(i),m(h))}function m(h){return h===o?(n.exit(i),f(o)):h===null?t(h):b(h)?(n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),F(n,m,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),p(h))}function p(h){return h===o||h===null||b(h)?(n.exit("chunkString"),m(h)):(n.consume(h),h===92?x:p)}function x(h){return h===o||h===92?(n.consume(h),p):p(h)}}function cn(n,r){let t;return e;function e(u){return b(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),t=!0,e):z(u)?F(n,e,t?"linePrefix":"lineSuffix")(u):r(u)}}var Zn={name:"definition",tokenize:Qe},Ve={partial:!0,tokenize:We};function Qe(n,r,t){let e=this,u;return i;function i(c){return n.enter("definition"),o(c)}function o(c){return Dn.call(e,n,l,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(c)}function l(c){return u=ln(e.sliceSerialize(e.events[e.events.length-1][1]).slice(1,-1)),c===58?(n.enter("definitionMarker"),n.consume(c),n.exit("definitionMarker"),f):t(c)}function f(c){return D(c)?cn(n,m)(c):m(c)}function m(c){return Nn(n,p,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(c)}function p(c){return n.attempt(Ve,x,x)(c)}function x(c){return z(c)?F(n,h,"whitespace")(c):h(c)}function h(c){return c===null||b(c)?(n.exit("definition"),e.parser.defined.push(u),r(c)):t(c)}}function We(n,r,t){return e;function e(l){return D(l)?cn(n,u)(l):t(l)}function u(l){return Rn(n,i,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function i(l){return z(l)?F(n,o,"whitespace")(l):o(l)}function o(l){return l===null||b(l)?r(l):t(l)}}var $n={name:"hardBreakEscape",tokenize:Ue};function Ue(n,r,t){return e;function e(i){return n.enter("hardBreakEscape"),n.consume(i),u}function u(i){return b(i)?(n.exit("hardBreakEscape"),r(i)):t(i)}}var Gn={name:"headingAtx",resolve:je,tokenize:Ye};function je(n,r){let t=n.length-2,e=3,u,i;return n[e][1].type==="whitespace"&&(e+=2),t-2>e&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(e===t-1||t-4>e&&n[t-2][1].type==="whitespace")&&(t-=e+1===t?2:4),t>e&&(u={type:"atxHeadingText",start:n[e][1].start,end:n[t][1].end},i={type:"chunkText",start:n[e][1].start,end:n[t][1].end,contentType:"text"},U(n,e,t-e+1,[["enter",u,r],["enter",i,r],["exit",i,r],["exit",u,r]])),n}function Ye(n,r,t){let e=0;return u;function u(p){return n.enter("atxHeading"),i(p)}function i(p){return n.enter("atxHeadingSequence"),o(p)}function o(p){return p===35&&e++<6?(n.consume(p),o):p===null||D(p)?(n.exit("atxHeadingSequence"),l(p)):t(p)}function l(p){return p===35?(n.enter("atxHeadingSequence"),f(p)):p===null||b(p)?(n.exit("atxHeading"),r(p)):z(p)?F(n,l,"whitespace")(p):(n.enter("atxHeadingText"),m(p))}function f(p){return p===35?(n.consume(p),f):(n.exit("atxHeadingSequence"),l(p))}function m(p){return p===null||p===35||D(p)?(n.exit("atxHeadingText"),l(p)):(n.consume(p),m)}}var Lt=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Jn=["pre","script","style","textarea"];var Kn={concrete:!0,name:"htmlFlow",resolveTo:Ge,tokenize:Je},Ze={partial:!0,tokenize:Xe},$e={partial:!0,tokenize:Ke};function Ge(n){let r=n.length;for(;r--&&!(n[r][0]==="enter"&&n[r][1].type==="htmlFlow"););return r>1&&n[r-2][1].type==="linePrefix"&&(n[r][1].start=n[r-2][1].start,n[r+1][1].start=n[r-2][1].start,n.splice(r-2,2)),n}function Je(n,r,t){let e=this,u,i,o,l,f;return m;function m(s){return p(s)}function p(s){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(s),x}function x(s){return s===33?(n.consume(s),h):s===47?(n.consume(s),i=!0,C):s===63?(n.consume(s),u=3,e.interrupt?r:a):G(s)?(n.consume(s),o=String.fromCharCode(s),_):t(s)}function h(s){return s===45?(n.consume(s),u=2,c):s===91?(n.consume(s),u=5,l=0,w):G(s)?(n.consume(s),u=4,e.interrupt?r:a):t(s)}function c(s){return s===45?(n.consume(s),e.interrupt?r:a):t(s)}function w(s){let $="CDATA[";return s===$.charCodeAt(l++)?(n.consume(s),l===$.length?e.interrupt?r:M:w):t(s)}function C(s){return G(s)?(n.consume(s),o=String.fromCharCode(s),_):t(s)}function _(s){if(s===null||s===47||s===62||D(s)){let $=s===47,hn=o.toLowerCase();return!$&&!i&&Jn.includes(hn)?(u=1,e.interrupt?r(s):M(s)):Lt.includes(o.toLowerCase())?(u=6,$?(n.consume(s),d):e.interrupt?r(s):M(s)):(u=7,e.interrupt&&!e.parser.lazy[e.now().line]?t(s):i?E(s):S(s))}return s===45||Q(s)?(n.consume(s),o+=String.fromCharCode(s),_):t(s)}function d(s){return s===62?(n.consume(s),e.interrupt?r:M):t(s)}function E(s){return z(s)?(n.consume(s),E):j(s)}function S(s){return s===47?(n.consume(s),j):s===58||s===95||G(s)?(n.consume(s),O):z(s)?(n.consume(s),S):j(s)}function O(s){return s===45||s===46||s===58||s===95||Q(s)?(n.consume(s),O):A(s)}function A(s){return s===61?(n.consume(s),g):z(s)?(n.consume(s),A):S(s)}function g(s){return s===null||s===60||s===61||s===62||s===96?t(s):s===34||s===39?(n.consume(s),f=s,P):z(s)?(n.consume(s),g):R(s)}function P(s){return s===f?(n.consume(s),f=null,q):s===null||b(s)?t(s):(n.consume(s),P)}function R(s){return s===null||s===34||s===39||s===47||s===60||s===61||s===62||s===96||D(s)?A(s):(n.consume(s),R)}function q(s){return s===47||s===62||z(s)?S(s):t(s)}function j(s){return s===62?(n.consume(s),J):t(s)}function J(s){return s===null||b(s)?M(s):z(s)?(n.consume(s),J):t(s)}function M(s){return s===45&&u===2?(n.consume(s),N):s===60&&u===1?(n.consume(s),V):s===62&&u===4?(n.consume(s),K):s===63&&u===3?(n.consume(s),a):s===93&&u===5?(n.consume(s),nn):b(s)&&(u===6||u===7)?(n.exit("htmlFlowData"),n.check(Ze,rn,y)(s)):s===null||b(s)?(n.exit("htmlFlowData"),y(s)):(n.consume(s),M)}function y(s){return n.check($e,L,rn)(s)}function L(s){return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),T}function T(s){return s===null||b(s)?y(s):(n.enter("htmlFlowData"),M(s))}function N(s){return s===45?(n.consume(s),a):M(s)}function V(s){return s===47?(n.consume(s),o="",X):M(s)}function X(s){if(s===62){let $=o.toLowerCase();return Jn.includes($)?(n.consume(s),K):M(s)}return G(s)&&o.length<8?(n.consume(s),o+=String.fromCharCode(s),X):M(s)}function nn(s){return s===93?(n.consume(s),a):M(s)}function a(s){return s===62?(n.consume(s),K):s===45&&u===2?(n.consume(s),a):M(s)}function K(s){return s===null||b(s)?(n.exit("htmlFlowData"),rn(s)):(n.consume(s),K)}function rn(s){return n.exit("htmlFlow"),r(s)}}function Ke(n,r,t){let e=this;return u;function u(o){return b(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),i):t(o)}function i(o){return e.parser.lazy[e.now().line]?t(o):r(o)}}function Xe(n,r,t){return e;function e(u){return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),n.attempt(sn,r,t)}}var Xn={name:"htmlText",tokenize:ve};function ve(n,r,t){let e=this,u,i,o;return l;function l(a){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(a),f}function f(a){return a===33?(n.consume(a),m):a===47?(n.consume(a),A):a===63?(n.consume(a),S):G(a)?(n.consume(a),R):t(a)}function m(a){return a===45?(n.consume(a),p):a===91?(n.consume(a),i=0,w):G(a)?(n.consume(a),E):t(a)}function p(a){return a===45?(n.consume(a),c):t(a)}function x(a){return a===null?t(a):a===45?(n.consume(a),h):b(a)?(o=x,V(a)):(n.consume(a),x)}function h(a){return a===45?(n.consume(a),c):x(a)}function c(a){return a===62?N(a):a===45?h(a):x(a)}function w(a){let K="CDATA[";return a===K.charCodeAt(i++)?(n.consume(a),i===K.length?C:w):t(a)}function C(a){return a===null?t(a):a===93?(n.consume(a),_):b(a)?(o=C,V(a)):(n.consume(a),C)}function _(a){return a===93?(n.consume(a),d):C(a)}function d(a){return a===62?N(a):a===93?(n.consume(a),d):C(a)}function E(a){return a===null||a===62?N(a):b(a)?(o=E,V(a)):(n.consume(a),E)}function S(a){return a===null?t(a):a===63?(n.consume(a),O):b(a)?(o=S,V(a)):(n.consume(a),S)}function O(a){return a===62?N(a):S(a)}function A(a){return G(a)?(n.consume(a),g):t(a)}function g(a){return a===45||Q(a)?(n.consume(a),g):P(a)}function P(a){return b(a)?(o=P,V(a)):z(a)?(n.consume(a),P):N(a)}function R(a){return a===45||Q(a)?(n.consume(a),R):a===47||a===62||D(a)?q(a):t(a)}function q(a){return a===47?(n.consume(a),N):a===58||a===95||G(a)?(n.consume(a),j):b(a)?(o=q,V(a)):z(a)?(n.consume(a),q):N(a)}function j(a){return a===45||a===46||a===58||a===95||Q(a)?(n.consume(a),j):J(a)}function J(a){return a===61?(n.consume(a),M):b(a)?(o=J,V(a)):z(a)?(n.consume(a),J):q(a)}function M(a){return a===null||a===60||a===61||a===62||a===96?t(a):a===34||a===39?(n.consume(a),u=a,y):b(a)?(o=M,V(a)):z(a)?(n.consume(a),M):(n.consume(a),L)}function y(a){return a===u?(n.consume(a),u=void 0,T):a===null?t(a):b(a)?(o=y,V(a)):(n.consume(a),y)}function L(a){return a===null||a===34||a===39||a===60||a===61||a===96?t(a):a===47||a===62||D(a)?q(a):(n.consume(a),L)}function T(a){return a===47||a===62||D(a)?q(a):t(a)}function N(a){return a===62?(n.consume(a),n.exit("htmlTextData"),n.exit("htmlText"),r):t(a)}function V(a){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),X}function X(a){return z(a)?F(n,nn,"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):nn(a)}function nn(a){return n.enter("htmlTextData"),o(a)}}var pn={name:"labelEnd",resolveAll:rr,resolveTo:ir,tokenize:ur},nr={tokenize:or},tr={tokenize:lr},er={tokenize:ar};function rr(n){let r=-1,t=[];for(;++r<n.length;){let e=n[r][1];if(t.push(n[r]),e.type==="labelImage"||e.type==="labelLink"||e.type==="labelEnd"){let u=e.type==="labelImage"?4:2;e.type="data",r+=u}}return n.length!==t.length&&U(n,0,n.length,t),n}function ir(n,r){let t=n.length,e=0,u,i,o,l;for(;t--;)if(u=n[t][1],i){if(u.type==="link"||u.type==="labelLink"&&u._inactive)break;n[t][0]==="enter"&&u.type==="labelLink"&&(u._inactive=!0)}else if(o){if(n[t][0]==="enter"&&(u.type==="labelImage"||u.type==="labelLink")&&!u._balanced&&(i=t,u.type!=="labelLink")){e=2;break}}else u.type==="labelEnd"&&(o=t);let f={type:n[i][1].type==="labelLink"?"link":"image",start:B({},n[i][1].start),end:B({},n[n.length-1][1].end)},m={type:"label",start:B({},n[i][1].start),end:B({},n[o][1].end)},p={type:"labelText",start:B({},n[i+e+2][1].end),end:B({},n[o-2][1].start)};return l=[["enter",f,r],["enter",m,r]],l=H(l,n.slice(i+1,i+e+3)),l=H(l,[["enter",p,r]]),l=H(l,gn(r.parser.constructs.insideSpan.null,n.slice(i+e+4,o-3),r)),l=H(l,[["exit",p,r],n[o-2],n[o-1],["exit",m,r]]),l=H(l,n.slice(o+1)),l=H(l,[["exit",f,r]]),U(n,i,n.length,l),n}function ur(n,r,t){let e=this,u=e.events.length,i,o;for(;u--;)if((e.events[u][1].type==="labelImage"||e.events[u][1].type==="labelLink")&&!e.events[u][1]._balanced){i=e.events[u][1];break}return l;function l(h){return i?i._inactive?x(h):(o=e.parser.defined.includes(ln(e.sliceSerialize({start:i.end,end:e.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(h),n.exit("labelMarker"),n.exit("labelEnd"),f):t(h)}function f(h){return h===40?n.attempt(nr,p,o?p:x)(h):h===91?n.attempt(tr,p,o?m:x)(h):o?p(h):x(h)}function m(h){return n.attempt(er,p,x)(h)}function p(h){return r(h)}function x(h){return i._balanced=!0,t(h)}}function or(n,r,t){return e;function e(x){return n.enter("resource"),n.enter("resourceMarker"),n.consume(x),n.exit("resourceMarker"),u}function u(x){return D(x)?cn(n,i)(x):i(x)}function i(x){return x===41?p(x):Nn(n,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(x)}function o(x){return D(x)?cn(n,f)(x):p(x)}function l(x){return t(x)}function f(x){return x===34||x===39||x===40?Rn(n,m,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(x):p(x)}function m(x){return D(x)?cn(n,p)(x):p(x)}function p(x){return x===41?(n.enter("resourceMarker"),n.consume(x),n.exit("resourceMarker"),n.exit("resource"),r):t(x)}}function lr(n,r,t){let e=this;return u;function u(l){return Dn.call(e,n,i,o,"reference","referenceMarker","referenceString")(l)}function i(l){return e.parser.defined.includes(ln(e.sliceSerialize(e.events[e.events.length-1][1]).slice(1,-1)))?r(l):t(l)}function o(l){return t(l)}}function ar(n,r,t){return e;function e(i){return n.enter("reference"),n.enter("referenceMarker"),n.consume(i),n.exit("referenceMarker"),u}function u(i){return i===93?(n.enter("referenceMarker"),n.consume(i),n.exit("referenceMarker"),n.exit("reference"),r):t(i)}}var vn={name:"labelStartImage",resolveAll:pn.resolveAll,tokenize:sr};function sr(n,r,t){let e=this;return u;function u(l){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(l),n.exit("labelImageMarker"),i}function i(l){return l===91?(n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelImage"),o):t(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in e.parser.constructs?t(l):r(l)}}var nt={name:"labelStartLink",resolveAll:pn.resolveAll,tokenize:cr};function cr(n,r,t){let e=this;return u;function u(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in e.parser.constructs?t(o):r(o)}}var Cn={name:"lineEnding",tokenize:pr};function pr(n,r){return t;function t(e){return n.enter("lineEnding"),n.consume(e),n.exit("lineEnding"),F(n,r,"linePrefix")}}var mn={name:"thematicBreak",tokenize:mr};function mr(n,r,t){let e=0,u;return i;function i(m){return n.enter("thematicBreak"),o(m)}function o(m){return u=m,l(m)}function l(m){return m===u?(n.enter("thematicBreakSequence"),f(m)):e>=3&&(m===null||b(m))?(n.exit("thematicBreak"),r(m)):t(m)}function f(m){return m===u?(n.consume(m),e++,f):(n.exit("thematicBreakSequence"),z(m)?F(n,l,"whitespace")(m):l(m))}}var Z={continuation:{tokenize:gr},exit:dr,name:"list",tokenize:xr},hr={partial:!0,tokenize:Sr},fr={partial:!0,tokenize:kr};function xr(n,r,t){let e=this,u=e.events[e.events.length-1],i=u&&u[1].type==="linePrefix"?u[2].sliceSerialize(u[1],!0).length:0,o=0;return l;function l(c){let w=e.containerState.type||(c===42||c===43||c===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!e.containerState.marker||c===e.containerState.marker:bn(c)){if(e.containerState.type||(e.containerState.type=w,n.enter(w,{_container:!0})),w==="listUnordered")return n.enter("listItemPrefix"),c===42||c===45?n.check(mn,t,m)(c):m(c);if(!e.interrupt||c===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),f(c)}return t(c)}function f(c){return bn(c)&&++o<10?(n.consume(c),f):(!e.interrupt||o<2)&&(e.containerState.marker?c===e.containerState.marker:c===41||c===46)?(n.exit("listItemValue"),m(c)):t(c)}function m(c){return n.enter("listItemMarker"),n.consume(c),n.exit("listItemMarker"),e.containerState.marker=e.containerState.marker||c,n.check(sn,e.interrupt?t:p,n.attempt(hr,h,x))}function p(c){return e.containerState.initialBlankLine=!0,i++,h(c)}function x(c){return z(c)?(n.enter("listItemPrefixWhitespace"),n.consume(c),n.exit("listItemPrefixWhitespace"),h):t(c)}function h(c){return e.containerState.size=i+e.sliceSerialize(n.exit("listItemPrefix"),!0).length,r(c)}}function gr(n,r,t){let e=this;return e.containerState._closeFlow=void 0,n.check(sn,u,i);function u(l){return e.containerState.furtherBlankLines=e.containerState.furtherBlankLines||e.containerState.initialBlankLine,F(n,r,"listItemIndent",e.containerState.size+1)(l)}function i(l){return e.containerState.furtherBlankLines||!z(l)?(e.containerState.furtherBlankLines=void 0,e.containerState.initialBlankLine=void 0,o(l)):(e.containerState.furtherBlankLines=void 0,e.containerState.initialBlankLine=void 0,n.attempt(fr,r,o)(l))}function o(l){return e.containerState._closeFlow=!0,e.interrupt=void 0,F(n,n.attempt(Z,r,t),"linePrefix",e.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function kr(n,r,t){let e=this;return F(n,u,"listItemIndent",e.containerState.size+1);function u(i){let o=e.events[e.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===e.containerState.size?r(i):t(i)}}function dr(n){n.exit(this.containerState.type)}function Sr(n,r,t){let e=this;return F(n,u,"listItemPrefixWhitespace",e.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function u(i){let o=e.events[e.events.length-1];return!z(i)&&o&&o[1].type==="listItemPrefixWhitespace"?r(i):t(i)}}var qn={name:"setextUnderline",resolveTo:br,tokenize:wr};function br(n,r){let t=n.length,e,u,i;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){e=t;break}n[t][1].type==="paragraph"&&(u=t)}else n[t][1].type==="content"&&n.splice(t,1),!i&&n[t][1].type==="definition"&&(i=t);let o={type:"setextHeading",start:B({},n[u][1].start),end:B({},n[n.length-1][1].end)};return n[u][1].type="setextHeadingText",i?(n.splice(u,0,["enter",o,r]),n.splice(i+1,0,["exit",n[e][1],r]),n[e][1].end=B({},n[i][1].end)):n[e][1]=o,n.push(["exit",o,r]),n}function wr(n,r,t){let e=this,u;return i;function i(m){let p=e.events.length,x;for(;p--;)if(e.events[p][1].type!=="lineEnding"&&e.events[p][1].type!=="linePrefix"&&e.events[p][1].type!=="content"){x=e.events[p][1].type==="paragraph";break}return!e.parser.lazy[e.now().line]&&(e.interrupt||x)?(n.enter("setextHeadingLine"),u=m,o(m)):t(m)}function o(m){return n.enter("setextHeadingLineSequence"),l(m)}function l(m){return m===u?(n.consume(m),l):(n.exit("setextHeadingLineSequence"),z(m)?F(n,f,"lineSuffix")(m):f(m))}function f(m){return m===null||b(m)?(n.exit("setextHeadingLine"),r(m)):t(m)}}var Tt={tokenize:Er};function Er(n){let r=this,t=n.attempt(sn,e,n.attempt(this.parser.constructs.flowInitial,u,F(n,n.attempt(this.parser.constructs.flow,u,n.attempt(Yn,u)),"linePrefix")));return t;function e(i){if(i===null){n.consume(i);return}return n.enter("lineEndingBlank"),n.consume(i),n.exit("lineEndingBlank"),r.currentConstruct=void 0,t}function u(i){if(i===null){n.consume(i);return}return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),r.currentConstruct=void 0,t}}var At={resolveAll:Ot()},_t=Pt("string"),Bt=Pt("text");function Pt(n){return{resolveAll:Ot(n==="text"?Ir:void 0),tokenize:r};function r(t){let e=this,u=this.parser.constructs[n],i=t.attempt(u,o,l);return o;function o(p){return m(p)?i(p):l(p)}function l(p){if(p===null){t.consume(p);return}return t.enter("data"),t.consume(p),f}function f(p){return m(p)?(t.exit("data"),i(p)):(t.consume(p),f)}function m(p){if(p===null)return!0;let x=u[p],h=-1;if(x)for(;++h<x.length;){let c=x[h];if(!c.previous||c.previous.call(e,e.previous))return!0}return!1}}}function Ot(n){return r;function r(t,e){let u=-1,i;for(;++u<=t.length;)i===void 0?t[u]&&t[u][1].type==="data"&&(i=u,u++):(!t[u]||t[u][1].type!=="data")&&(u!==i+2&&(t[i][1].end=t[u-1][1].end,t.splice(i+2,u-i-2),u=i+2),i=void 0);return n?n(t,e):t}}function Ir(n,r){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){let e=n[t-1][1],u=r.sliceStream(e),i=u.length,o=-1,l=0,f;for(;i--;){let m=u[i];if(typeof m=="string"){for(o=m.length;m.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(m===-2)f=!0,l++;else if(m!==-1){i++;break}}if(l){let m={type:t===n.length||f||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:e.start._bufferIndex+o,_index:e.start._index+i,line:e.end.line,column:e.end.column-l,offset:e.end.offset-l},end:B({},e.end)};e.end=B({},m.start),e.start.offset===e.end.offset?Object.assign(e,m):(n.splice(t,0,["enter",m,r],["exit",m,r]),t+=2)}t++}return n}var tt={};se(tt,{attentionMarkers:()=>_r,contentInitial:()=>Cr,disable:()=>Br,document:()=>yr,flow:()=>Fr,flowInitial:()=>zr,insideSpan:()=>Ar,string:()=>Lr,text:()=>Tr});var yr={42:Z,43:Z,45:Z,48:Z,49:Z,50:Z,51:Z,52:Z,53:Z,54:Z,55:Z,56:Z,57:Z,62:An},Cr={91:Zn},zr={[-2]:In,[-1]:In,32:In},Fr={35:Gn,42:mn,45:[qn,mn],60:Kn,61:qn,95:mn,96:Pn,126:Pn},Lr={38:Bn,92:_n},Tr={[-5]:Cn,[-4]:Cn,[-3]:Cn,33:vn,38:Bn,42:En,60:[Un,Xn],91:nt,92:[$n,_n],93:pn,95:En,96:jn},Ar={null:[En,At]},_r={null:[42,95]},Br={null:[]};function Mt(n,r,t){let e={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0},u={},i=[],o=[],l=[],f=!0,m={attempt:q(P),check:q(R),consume:O,enter:A,exit:g,interrupt:q(R,{interrupt:!0})},p={code:null,containerState:{},defineSkip:d,events:[],now:_,parser:n,previous:null,sliceSerialize:w,sliceStream:C,write:c},x=r.tokenize.call(p,m),h;return r.resolveAll&&i.push(r),p;function c(y){return o=H(o,y),E(),o[o.length-1]!==null?[]:(j(r,0),p.events=gn(i,p.events,p),p.events)}function w(y,L){return Or(C(y),L)}function C(y){return Pr(o,y)}function _(){let{_bufferIndex:y,_index:L,line:T,column:N,offset:V}=e;return{_bufferIndex:y,_index:L,line:T,column:N,offset:V}}function d(y){u[y.line]=y.column,M()}function E(){let y;for(;e._index<o.length;){let L=o[e._index];if(typeof L=="string")for(y=e._index,e._bufferIndex<0&&(e._bufferIndex=0);e._index===y&&e._bufferIndex<L.length;)S(L.charCodeAt(e._bufferIndex));else S(L)}}function S(y){f=void 0,h=y,x=x(y)}function O(y){b(y)?(e.line++,e.column=1,e.offset+=y===-3?2:1,M()):y!==-1&&(e.column++,e.offset++),e._bufferIndex<0?e._index++:(e._bufferIndex++,e._bufferIndex===o[e._index].length&&(e._bufferIndex=-1,e._index++)),p.previous=y,f=!0}function A(y,L){let T=L||{};return T.type=y,T.start=_(),p.events.push(["enter",T,p]),l.push(T),T}function g(y){let L=l.pop();return L.end=_(),p.events.push(["exit",L,p]),L}function P(y,L){j(y,L.from)}function R(y,L){L.restore()}function q(y,L){return T;function T(N,V,X){let nn,a,K,rn;return Array.isArray(N)?$(N):"tokenize"in N?$([N]):s(N);function s(W){return kn;function kn(un){let fn=un!==null&&W[un],xn=un!==null&&W.null,Fn=[...Array.isArray(fn)?fn:fn?[fn]:[],...Array.isArray(xn)?xn:xn?[xn]:[]];return $(Fn)(un)}}function $(W){return nn=W,a=0,W.length===0?X:hn(W[a])}function hn(W){return kn;function kn(un){return rn=J(),K=W,W.partial||(p.currentConstruct=W),W.name&&p.parser.constructs.disable.null.includes(W.name)?zn(un):W.tokenize.call(L?Object.assign(Object.create(p),L):p,m,Hn,zn)(un)}}function Hn(W){return f=!0,y(K,rn),V}function zn(W){return f=!0,rn.restore(),++a<nn.length?hn(nn[a]):X}}}function j(y,L){y.resolveAll&&!i.includes(y)&&i.push(y),y.resolve&&U(p.events,L,p.events.length-L,y.resolve(p.events.slice(L),p)),y.resolveTo&&(p.events=y.resolveTo(p.events,p))}function J(){let y=_(),L=p.previous,T=p.currentConstruct,N=p.events.length,V=Array.from(l);return{from:N,restore:X};function X(){e=y,p.previous=L,p.currentConstruct=T,p.events.length=N,l=V,M()}}function M(){e.line in u&&e.column<2&&(e.column=u[e.line],e.offset+=u[e.line]-1)}}function Pr(n,r){let t=r.start._index,e=r.start._bufferIndex,u=r.end._index,i=r.end._bufferIndex,o;if(t===u)o=[n[t].slice(e,i)];else{if(o=n.slice(t,u),e>-1){let l=o[0];typeof l=="string"?o[0]=l.slice(e):o.shift()}i>0&&o.push(n[u].slice(0,i))}return o}function Or(n,r){let t=-1,e=[],u;for(;++t<n.length;){let i=n[t],o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=r?" ":"	";break}case-1:{if(!r&&u)continue;o=" ";break}default:o=String.fromCharCode(i)}u=i===-2,e.push(o)}return e.join("")}function et(n){let e={constructs:ht([tt,...(n||{}).extensions||[]]),content:u(It),defined:[],document:u(Ct),flow:u(Tt),lazy:{},string:u(_t),text:u(Bt)};return e;function u(i){return o;function o(l){return Mt(e,i,l)}}}function rt(n){for(;!Mn(n););return n}var Nt=/[\0\t\n\r]/g;function it(){let n=1,r="",t=!0,e;return u;function u(i,o,l){let f=[],m,p,x,h,c;for(i=r+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),x=0,r="",t&&(i.charCodeAt(0)===65279&&x++,t=void 0);x<i.length;){if(Nt.lastIndex=x,m=Nt.exec(i),h=m&&m.index!==void 0?m.index:i.length,c=i.charCodeAt(h),!m){r=i.slice(x);break}if(c===10&&x===h&&e)f.push(-3),e=void 0;else switch(e&&(f.push(-5),e=void 0),x<h&&(f.push(i.slice(x,h)),n+=h-x),c){case 0:{f.push(65533),n++;break}case 9:{for(p=Math.ceil(n/4)*4,f.push(-2);n++<p;)f.push(-1);break}case 10:{f.push(-4),n=1;break}default:e=!0,n=1}x=h+1}return l&&(e&&f.push(-5),r&&f.push(r),f.push(null)),f}}function Ko(n,r,t){return typeof r!="string"&&(t=r,r=void 0),Qn(t)(rt(et(t).document().write(it()(n,r,!0))))}export{Qn as compile,Ko as micromark,et as parse,rt as postprocess,it as preprocess};
