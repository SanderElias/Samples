"use strict";(self.webpackChunksamples=self.webpackChunksamples||[]).push([[286],{9286:(F,h,o)=>{o.r(h),o.d(h,{ObservableStateModule:()=>J});var l=o(1048),v=o(5166),r=o(4553),d=o(4121),S=o(3151),m=o(8168),x=o(9676),y=o(1578),t=o(9724);function O(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"main")(1,"section",1)(2,"button",2),t.NdJ("click",function(){return t.CHM(e),t.oxw().down()}),t._uU(3,"-"),t.qZA(),t.TgZ(4,"h3"),t._uU(5),t.qZA(),t.TgZ(6,"button",2),t.NdJ("click",function(){return t.CHM(e),t.oxw().up()}),t._uU(7,"+"),t.qZA(),t._UZ(8,"br"),t.qZA(),t.TgZ(9,"h1"),t._uU(10),t.qZA(),t._UZ(11,"br")(12,"br"),t.TgZ(13,"p"),t._uU(14,"The raw viewModel:"),t.qZA(),t._UZ(15,"hr"),t.TgZ(16,"pre")(17,"code"),t._uU(18),t.ALo(19,"json"),t.qZA()()()}if(2&n){const e=a.ngIf;t.xp6(2),t.Q6J("disabled",e.underMin),t.xp6(3),t.Oqu(e.count),t.xp6(1),t.Q6J("disabled",e.overMax),t.xp6(4),t.Oqu(e.msg),t.xp6(8),t.Oqu(t.lcZ(19,5,e))}}let Z=(()=>{class n{constructor(){this.state$=new d.X({count:5,msg:"",overMax:!1,underMin:!1,max:10,min:2}),this.updateMessage=e=>{this.setState("msg",e.overMax?"too high!":e.underMin?"too low!":"")},this.viewModel$=this.state$.pipe((0,S.b)(5),(0,m.b)(e=>this.checkState()),(0,m.b)(this.updateMessage)),this.setState=(0,y.m)(this.state$),this.getState=function b(n){function e(){return(e=(0,r.Z)(function*(s){const i=yield n.pipe((0,x.P)()).toPromise();return s?Array.isArray(s)?s.reduce((p,u)=>Object.assign(Object.assign({},p),{[u]:i[u]}),{}):i[s]:i})).apply(this,arguments)}return function a(s){return e.apply(this,arguments)}}(this.state$)}checkState(){var e=this;return(0,r.Z)(function*(){const{count:s,min:i,max:p,overMax:u,underMin:j}=yield e.getState();s>p!==u&&e.setState("overMax",s>p),s<i!==j&&e.setState("underMin",s<i)})()}up(){var e=this;return(0,r.Z)(function*(){const s=yield e.getState("count");e.setState("count",s+1)})()}down(){var e=this;return(0,r.Z)(function*(){const s=yield e.getState("count");e.setState("count",s-1),e.setState({min:3,max:5})})()}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-observable-state"]],decls:4,vars:3,consts:[[4,"ngIf"],[1,"display"],[3,"disabled","click"]],template:function(e,s){1&e&&(t.TgZ(0,"h1"),t._uU(1,"Observable state"),t.qZA(),t.YNc(2,O,20,7,"main",0),t.ALo(3,"async")),2&e&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,s.viewModel$)))},directives:[l.O5],pipes:[l.Ov,l.Ts],styles:["section[_ngcontent-%COMP%] {\n    display: grid;\n    grid-template-columns: 150px 150px 150px;\n  }\n  section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\n    text-align: center;\n    font-size: 30px;\n  }"],changeDetection:0}),n})();var c=o(9508),f=o(2702),g=o(9959),M=o(1927),C=o(1528),T=o(6466),A=o(7969),$=o(9226);function U(n,a){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.name)}}function H(n,a){if(1&n&&(t.ynx(0),t._UZ(1,"input",2),t.TgZ(2,"ul"),t.YNc(3,U,2,1,"li",3),t.qZA(),t.BQk()),2&n){const e=a.ngIf,s=t.oxw();t.xp6(1),t.Q6J("formControl",s.search),t.xp6(2),t.Q6J("ngForOf",""===e.search?e.allShips:e.result)}}function L(n,a){1&n&&(t.TgZ(0,"div"),t._uU(1,"Loading..."),t.qZA())}const I=[{path:"",component:Z},{path:"hook",component:(()=>{class n extends((0,f.m9)((0,f.$b)(class{}))){constructor(e){super(),this.swapi=e,this.search=new c.NI,this.searchText$=this.search.valueChanges.pipe((0,M.O)("")),this.starships$=this.seOnInit$.pipe((0,C.w)(()=>this.swapi.getAllRows("starships")),(0,T.d)({refCount:!0,bufferSize:1})),this.filteredShips$=(0,g.Hv)({ships:this.starships$,s:this.searchText$}).pipe((0,A.U)(s=>s.ships.filter(i=>i.name.includes(s.s))),(0,m.b)(s=>console.log(s))),this.viewModel$=(0,g.Hv)({allShips:this.starships$,result:this.filteredShips$,search:this.searchText$})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36($.qj))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-lifeycle-hooks-sample"]],features:[t.qOj],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loading",""],["type","text",3,"formControl"],[4,"ngFor","ngForOf"]],template:function(e,s){if(1&e&&(t.YNc(0,H,4,2,"ng-container",0),t.ALo(1,"async"),t.YNc(2,L,2,0,"ng-template",null,1,t.W1O)),2&e){const i=t.MAs(3);t.Q6J("ngIf",t.lcZ(1,2,s.viewModel$))("ngIfElse",i)}},directives:[l.O5,c.Fj,c.JJ,c.oH,l.sg],pipes:[l.Ov],encapsulation:2}),n})()},{path:"**",redirectTo:""}];let J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,v.Bz.forChild(I),c.UX]]}),n})()}}]);