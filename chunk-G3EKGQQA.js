import{db as c,fa as u,mc as f,n as i,oc as d,za as a}from"./chunk-BFR4IEYA.js";var l=o=>typeof o?.then=="function";var h=(o,m,s=u(a))=>{let r=c({value:m,error:void 0});if(!s)throw new Error("destroyRef is mandatory when used outside a injection context");s.onDestroy(()=>{n?.unsubscribe(),b.destroy()});let n,b=d(async()=>{try{n?.unsubscribe();let e=o();if(i(e))n=e.subscribe({next:t=>r.set({value:t,error:void 0}),error:t=>{r.set({value:void 0,error:t})}});else if(l(e)){let t=await e;r.set({value:t,error:void 0})}else r.set({value:e,error:void 0})}catch(e){r.set({value:void 0,error:e})}},{manualCleanup:!0,allowSignalWrites:!0});return f(()=>{let e=r();if(e.error)throw e.error;return e.value})};export{h as a};
