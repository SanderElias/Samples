import{a as A}from"./chunk-N4FKHJ4B.js";import{a as H,b as z,c as Y,d as q}from"./chunk-HAGAOYTD.js";import"./chunk-IBCCEPDQ.js";import{$ as x,$a as M,Bb as c,Cb as p,E as g,Eb as j,F as v,Fb as I,G as C,Hb as $,Kb as E,N as k,U as L,Ub as F,Vb as m,Wb as R,Y as s,Za as f,cc as T,db as S,fa as n,ha as w,i as d,ja as y,k as l,n as u,ob as P,pc as V,q as a,ra as D,rb as _,sa as O,z as b}from"./chunk-L7DZHDME.js";import"./chunk-KAT7YFEL.js";var G=(()=>{class i{set seLet(e){this.assign(e)}set seLetObserve(e){this.assign(e)}set seLetOn(e){this.assign(e)}assign(e){this.sub&&this.sub.unsubscribe(),u(e)?this.sub=e.pipe(s(()=>this.cdr.markForCheck())).subscribe(t=>{this.context.$implicit=t,this.context.seLet=t}):(this.context.$implicit=e,this.context.seLet=e)}constructor(){this.templateRef=n(M),this.viewContainer=n(S),this.cdr=n(V),this.context={$implicit:void 0,seLet:void 0},this.assign=this.assign.bind(this)}ngOnInit(){this.viewContainer.createEmbeddedView(this.templateRef,this.context)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=y({type:i,selectors:[["","seLet",""]],inputs:{seLet:"seLet",seLetObserve:"seLetObserve",seLetOn:"seLetOn"},standalone:!0})}}return i})();var J=(()=>{class i{constructor(){this.http=n(A),this.base="https://pokeapi.co/api/v2"}async load(e){if(await H(),!Y(e)){let t=await fetch(e).then(o=>o.json()).catch(o=>{});await z(e,t)}return q(e)}init(){console.log("ps init"),this.load(this.base).then(e=>{console.log(e),l(Object.entries(e)).pipe(s(t=>console.log("url",t)),C(([t,o])=>this.getAllPagedData(o).pipe(g((r,h)=>r.concat(h.results),[]),a(r=>({name:t,baseUrl:o,data:r})))),v(),s(t=>console.log(t))).subscribe()})}getAllPagedData(e){return l(this.load(`${e}`)).pipe(k(t=>t.next?this.load(t.next):d))}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=x({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Q(i,K){if(i&1&&(j(0),c(1,"h1"),m(2),p(),I()),i&2){let e=K.$implicit;f(2),R(e)}}var ue=(()=>{class i{constructor(){this.pa=n(J),this.fakePost$=b(1500).pipe(s(()=>console.log("done")),a(()=>"hello world"),L({refCount:!0,bufferSize:1}))}ngOnInit(){console.log("pokeMain")}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=w({type:i,selectors:[["app-pokemain"]],standalone:!0,features:[T],decls:6,vars:1,consts:[["save",""],[3,"click"],[4,"seLet","seLetObserve"]],template:function(t,o){if(t&1){let r=$();c(0,"p"),m(1,"pokemain works!"),p(),c(2,"button",1,0),E("click",function(){D(r);let N=F(3);return O(N.goSave=!0)}),m(4,"Save"),p(),P(5,Q,3,1,"ng-container",2)}t&2&&(f(5),_("seLetObserve",o.fakePost$))},dependencies:[G],encapsulation:2})}}return i})();export{ue as PokeMainComponent};
