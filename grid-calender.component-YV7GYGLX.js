import{Kc as C,Lb as v,Mb as f,Nb as h,Ob as u,Pb as i,Qb as o,Rb as D,Sc as y,Xa as p,Yb as S,ac as P,cc as O,ja as M,ka as b,kb as m,nc as w,pc as a,qc as x,rc as F}from"./chunk-JMJSAENN.js";import"./chunk-DAQOROHW.js";var T=(()=>{class e{constructor(){this.day=y.required()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=m({type:e,selectors:[["se-day-cell"]],hostVars:8,hostBindings:function(n,r){n&2&&w("mute",!r.day().isCurrentMonth)("special",r.day().isSpecial)("first",r.day().isFirstSelected)("last",r.day().isLastSelected)},inputs:{day:[1,"day"]},decls:1,vars:1,template:function(n,r){n&1&&a(0),n&2&&F(" ",r.day().day," ")},styles:["@layer se_calendar.day{[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}.mute[_nghost-%COMP%], .mute[_nghost-%COMP%]:hover{opacity:.3;border-radius:50%;cursor:not-allowed;background-color:inherit;margin:inherit;font-weight:inherit;font-size:inherit}[_nghost-%COMP%]:hover{font-weight:bolder;font-size:1.2em}.first[_nghost-%COMP%], .last[_nghost-%COMP%]{background-color:#1d0236cc}.first[_nghost-%COMP%], .first[_nghost-%COMP%]:hover{border-top-left-radius:25%;border-bottom-left-radius:25%;margin-right:-.25rem;border-right:0}.last[_nghost-%COMP%], .last[_nghost-%COMP%]:hover{border-top-right-radius:25%;border-bottom-right-radius:25%;border-left:0}}"]})}}return e})();var N=(e,d)=>d.date;function G(e,d){if(e&1){let t=S();i(0,"se-day-cell",1),P("click",function(){let r=M(t).$implicit,l=O();return b(l.select(r))}),o()}if(e&2){let t=d.$implicit;u("day",t)}}var E=(()=>{class e{constructor(){this.date=y.required(),this.days=C(()=>V(this.date())),this.monthName=C(()=>this.days()[10].date.toLocaleString("default",{month:"long"}))}select(t){let n=this.days();if(t.isCurrentMonth===!1)return;let r=n.find(c=>c.isFirstSelected),l=n.find(c=>c.isLastSelected);if(console.log({day:t,first:r,last:l}),!r){t.isFirstSelected=!0;return}if(!l){t.isLastSelected=!0;return}if(r.date===t.date&&l.date===t.date){t.isFirstSelected=!1,t.isLastSelected=!1;return}if(t.date<r.date){r.isFirstSelected=!1,t.isFirstSelected=!0;return}l&&(l.isLastSelected=!1),t.isLastSelected=!0}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=m({type:e,selectors:[["se-month"]],inputs:{date:[1,"date"]},decls:18,vars:1,consts:[[3,"day"],[3,"click","day"]],template:function(n,r){n&1&&(i(0,"h2"),a(1),o(),i(2,"span"),a(3,"S"),o(),i(4,"span"),a(5,"M"),o(),i(6,"span"),a(7,"T"),o(),i(8,"span"),a(9,"W"),o(),i(10,"span"),a(11,"T"),o(),i(12,"span"),a(13,"F"),o(),i(14,"span"),a(15,"S"),o(),f(16,G,1,1,"se-day-cell",0,N)),n&2&&(p(),x(r.monthName()),p(15),h(r.days()))},dependencies:[T],styles:["@layer se_calendar.month{[_nghost-%COMP%]{display:grid;height:fit-content;width:fit-content;grid-template-columns:repeat(7,40px);grid-auto-rows:40px;gap:.25rem}h2[_ngcontent-%COMP%]{grid-column:1 / -1;text-align:center;padding:7px;margin:0}se-day-cell[_ngcontent-%COMP%]{border:1px solid black}span[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;font-weight:bolder;padding:0}.first[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:has(~.last){background-color:#1d023673;margin-right:-.25rem;border-left:0;border-right:0}se-day-cell[_ngcontent-%COMP%]:hover{background-color:#b99f2d}se-day-cell[_ngcontent-%COMP%]:hover:were(:has(~ .first)){border-radius:25% 0 0 25%}se-day-cell[_ngcontent-%COMP%]:hover ~ [_ngcontent-%COMP%]:has(~.first){background-color:#b99f2d;border-left:0;border-right:0;margin-right:-.5rem}se-day-cell[_ngcontent-%COMP%]:hover:has(~.first){background-color:#b99f2dc4;border-right:0;border-radius:25% 0 0 25%;margin-right:-.5rem}.last[_ngcontent-%COMP%] ~ [_ngcontent-%COMP%]:has(~se-day-cell:hover){background-color:#b99f2d;border-left:0;border-right:0;margin-left:-.5rem}.last[_ngcontent-%COMP%] ~ se-day-cell[_ngcontent-%COMP%]:hover{background-color:#b99f2dc4;border-left:0;border-radius:0 25% 25% 0;margin-left:-.5rem}}"]})}}return e})();function V(e){let t=s=>new Date(s.getTime()+864e5),n=s=>new Date(e.getFullYear(),e.getMonth(),s),r=new Date(e.getFullYear(),e.getMonth(),1),l=new Date(e.getFullYear(),e.getMonth()+1,0),c=[];for(let s=0;s<r.getDay();s++){let L=e.getTime()-(r.getDay()-s)*864e5;c.push(_(new Date(L),!1))}for(let s=1;s<=l.getDate();s++)c.push(_(n(s)));let g=t(l);for(;g.getDay()!==0;)c.push(_(g,!1)),g=t(g);return c}function _(e,d=!0){return{date:e,day:e.getDate(),isCurrentMonth:d,isFirstSelected:!1,isLastSelected:!1,isSpecial:!1}}function Y(e,d){if(e&1&&D(0,"se-month",0),e&2){let t=d.$implicit;u("date",t)}}var W=(()=>{class e{constructor(){this.date=new Date("2025-05-01"),this.months=[0,1,2,3,4,5,6,7,8,9,10,11].map(t=>new Date(this.date.getFullYear(),t,1))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=m({type:e,selectors:[["se-grid-calender"]],decls:5,vars:0,consts:[[3,"date"]],template:function(n,r){n&1&&(i(0,"h1"),a(1,"Grid Calender"),o(),i(2,"div"),f(3,Y,1,1,"se-month",0,v),o()),n&2&&(p(3),h(r.months))},dependencies:[E],styles:["@layer se_calendar.overview,se_calendar.month,se_calendar.day;@layer se_calendar.overview{[_nghost-%COMP%]{display:block}div[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,352px);grid-template-rows:auto 1fr;gap:2rem}}"]})}}return e})();export{W as GridCalenderComponent};
