import{a as D}from"./chunk-KONHSAQK.js";import{e as k}from"./chunk-FEAZLDTM.js";import"./chunk-BDIKAETI.js";import"./chunk-QTD7QFMO.js";import{$b as a,Ac as w,Ea as m,Rc as M,Zc as _,_a as r,_b as n,ac as h,ec as b,fa as C,hd as O,jc as S,ka as y,la as x,rc as z,sb as f,sc as P,uc as s,wa as g,xc as o,zc as E}from"./chunk-VNOCNMFG.js";import"./chunk-C6Q5SG76.js";var I=["gridContainer"],j=(()=>{class l{constructor(){this.user=C(D).user,this.mouseOnCell=g({x:0,y:0},{equal:(t,e)=>t.x===e.x&&t.y===e.y}),this.gridContainerRef=_("gridContainer",{read:m}),this.gridContainer=M(()=>k(this.gridContainerRef()?.nativeElement)),this.gridProps=g({cellSize:0,gap:0,xCells:0,yCells:0}),this._=O({read:()=>{let t=this.gridContainer(),e=getComputedStyle(t);this.gridProps.set({cellSize:parseFloat(e.getPropertyValue("--cellSize")||"10"),gap:parseFloat(e.getPropertyValue("--gap")||"1"),xCells:Number(e.getPropertyValue("--xCells")||"40"),yCells:Number(e.getPropertyValue("--yCells")||"40")})}})}mouseToXY(t){let e=this.gridContainer(),{cellSize:i,gap:d,xCells:p,yCells:c}=this.gridProps(),u=e.getBoundingClientRect(),R=t.clientX-u.left,V=t.clientY-u.top,v=i+d,G=Math.min(p,Math.floor(R/v)+1),N=Math.min(c,Math.floor(V/v)+1);this.mouseOnCell.set({x:G,y:N})}static{this.\u0275fac=function(e){return new(e||l)}}static{this.\u0275cmp=f({type:l,selectors:[["se-grid-play"]],viewQuery:function(e,i){e&1&&z(i.gridContainerRef,I,5,m),e&2&&P()},decls:11,vars:15,consts:[["gridContainer",""],[1,"grid-container",3,"mousemove"],[1,"grid-item"],[1,"mouse-indicator"],["id","cell-coords"]],template:function(e,i){if(e&1){let d=b();n(0,"h1"),o(1),a(),n(2,"div",1,0),S("mousemove",function(c){return y(d),x(i.mouseToXY(c))}),n(4,"div",2),o(5,"1"),a(),n(6,"div",2),o(7,"3"),a(),h(8,"div",3),a(),n(9,"div",4),o(10),a()}e&2&&(r(),E("Grid Play ",i.user()),r(3),s("--x",1)("--y",1),r(2),s("--x",2)("--y",2),r(2),s("--x",i.mouseOnCell().x)("--y",i.mouseOnCell().y),r(2),w("",i.mouseOnCell().x,", ",i.mouseOnCell().y))},styles:["[_nghost-%COMP%]{display:block;--cellSize: 25px;--xCells: 25;--yCells: 25;--gap: 1px;--accent1: #f082cb;--accent2: #9c1d7c}.mouse-indicator[_ngcontent-%COMP%]{display:none;width:calc(var(--cellSize) - (2 * var(--gap)));height:calc(var(--cellSize) - (2 * var(--gap)));pointer-events:none;border:2px solid black;border-radius:4px;box-sizing:border-box;grid-column-start:var(--x);grid-row-start:var(--y)}.grid-container[_ngcontent-%COMP%]{display:grid;inline-size:calc(var(--xCells) * var(--cellSize) + (var(--xCells) - 1) * var(--gap));block-size:calc(var(--yCells) * var(--cellSize) + (var(--yCells) - 1) * var(--gap));grid-template-columns:repeat(var(--xCells),var(--cellSize));grid-template-rows:repeat(var(--yCells),var(--cellSize));gap:var(--gap);align-items:center;justify-items:center;border:1px solid white;background-image:repeating-linear-gradient(to right,white 0 var(--gap),rgba(255,255,255,0) var(--gap) calc(var(--cellSize) + var(--gap))),repeating-linear-gradient(to bottom,white 0 var(--gap),rgba(255,255,255,0) var(--gap) calc(var(--cellSize) + var(--gap))),linear-gradient(135deg,var(--accent1) 0%,var(--accent2) 100%);background-position:calc(var(--cellSize)) 0,0 calc(var(--cellSize)),0 0;background-repeat:repeat,repeat,no-repeat;background-size:auto;background-clip:padding-box}.grid-container[_ngcontent-%COMP%]:hover   .mouse-indicator[_ngcontent-%COMP%]{display:block}.grid-item[_ngcontent-%COMP%]{--x: attr(data-x type(<number>));--y: attr(data-y type(<number>));font-weight:700;font-size:calc(var(--cellSize) * .95);color:#fff;text-shadow:0 0 3px rgba(0,0,0,.5);border-radius:4px;grid-column-start:var(--x);grid-row-start:var(--y)}"]})}}return l})();export{j as GridPlayComponent};
