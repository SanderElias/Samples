import{a as j}from"./chunk-TJXSZ6JX.js";import{a as V,b as R,c as k,d as D,e as P,f as C,h as a,k as A,l as $,m as G,o as T,p as B,z as I}from"./chunk-OHGIGEK7.js";import{h as O}from"./chunk-LD3DWAFF.js";import{$b as b,Cc as v,Dc as g,Gb as w,Ib as E,Nb as f,Ob as n,Pb as t,Qb as r,V as _,W as y,Wa as d,Xb as F,bc as c,fa as S,ib as N,ka as p,la as u,oc as i,qc as M}from"./chunk-NHASU2AR.js";import{a as h,b as x}from"./chunk-DAQOROHW.js";function q(o,z){if(o&1){let e=F();n(0,"main")(1,"h1"),i(2,"Reactive"),t(),n(3,"form",0),b("ngSubmit",function(){p(e);let m=c();return u(m.save())}),n(4,"label")(5,"span"),i(6,"Name"),t(),r(7,"input",1),t(),n(8,"label")(9,"span"),i(10,"Date of birth"),t(),r(11,"input",2),t(),n(12,"label")(13,"span"),i(14,"Email Address"),t(),r(15,"input",3),t(),n(16,"label")(17,"span"),i(18,"Favorite Number"),t(),r(19,"input",4),t(),n(20,"label")(21,"span"),r(22,"input",5),i(23," Admin"),t()(),n(24,"label")(25,"span"),i(26),v(27,"async"),t(),r(28,"input",6),t(),n(29,"button",7),b("click",function(m){let s=p(e);return c().updateForm(s),u(m.preventDefault())}),i(30,"Reset form"),t(),n(31,"button",8),i(32,"Submit"),t()()()}if(o&2){let e=c();d(3),f("formGroup",e.form),d(23),M("Level ",g(27,3,e.level$)),d(5),f("disabled",!e.form.valid)}}var Z=(()=>{class o{constructor(){this.ds=S(j),this.data$=this.ds.data$.pipe(_({refCount:!0,bufferSize:1})),this.form=new C({}),this.sub=this.data$.subscribe(e=>{this.updateForm(e),this.level$=this.form.get("level").valueChanges.pipe(y(e.level))})}updateForm(e){this.form=new C({name:new a(e.name,k.required),dob:new a(e.dob.toISOString().slice(0,10)),email:new a(e.email),favNumber:new a(e.favNumber),admin:new a(e.admin),level:new a(e.level)})}save(){console.log(`saving reactive ${JSON.stringify(this.form.value,void 0,2)}`);let e=new Date(this.form.value.dob);this.ds.save(x(h({},this.form.value),{dob:e}))}ngOnDestroy(){this.sub.unsubscribe()}static{this.\u0275fac=function(l){return new(l||o)}}static{this.\u0275cmp=N({type:o,selectors:[["se-reactive"]],decls:2,vars:3,consts:[[3,"ngSubmit","formGroup"],["name","name","type","text","placeholder","Name","formControlName","name"],["name","dob","type","date","placeholder","Date of birth","formControlName","dob"],["name","email","type","email","placeholder","Email Address","formControlName","email"],["name","favNumber","type","number","placeholder","Favorite Number","formControlName","favNumber"],["name","admin","type","checkbox","formControlName","admin"],["name","level","type","range","min","1","max","5","formControlName","level"],["type","cancel",3,"click"],["type","submit",3,"disabled"]],template:function(l,m){if(l&1&&(w(0,q,33,5,"main"),v(1,"async")),l&2){let s;E((s=g(1,1,m.data$))?0:-1,s)}},dependencies:[I,A,R,$,G,V,D,P,T,B,O],styles:["[_nghost-%COMP%]{display:block}form[_ngcontent-%COMP%]{border:2px solid #d7b52b;padding:1.5rem;border-radius:1rem;accent-color:#2bd75d;width:30rem;display:flex;flex-direction:column;gap:.5rem;margin:auto}label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}label[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(2){margin-left:.25rem}.ng-invalid.ng-dirty[_ngcontent-%COMP%]:not(form){background-color:#8f4646}button[type=submit][_ngcontent-%COMP%]{background-color:#2bd75d;color:#fff;border:none;border-radius:5px;padding:.5rem}button[_ngcontent-%COMP%]:disabled{background-color:#d7b52b;cursor:not-allowed}"]})}}return o})();export{Z as a};
