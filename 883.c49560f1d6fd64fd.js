"use strict";(self.webpackChunksamples=self.webpackChunksamples||[]).push([[883],{7883:(P,d,c)=>{c.r(d),c.d(d,{DynamichtmlModule:()=>L});var y=c(1048),g=c(5166),s=c(9724),C=c(5557),E=c(1860),D=c(1528),I=c(7969);const l={schedule(n,t){const e=setTimeout(n,t);return()=>clearTimeout(e)},scheduleBeforeRender(n){if("undefined"==typeof window)return l.schedule(n,0);if(void 0===window.requestAnimationFrame)return l.schedule(n,16);const t=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(t)}};let m;function V(n,t,e){let i=e;return function b(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&t.some((a,o)=>!("*"===a||!function R(n,t){if(!m){const e=Element.prototype;m=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&m.call(n,t)}(n,a)||(i=o,0))),i}class O{constructor(t,e){this.componentFactory=e.get(s._Vd).resolveComponentFactory(t)}create(t){return new j(this.componentFactory,t)}}class j{constructor(t,e){this.componentFactory=t,this.injector=e,this.eventEmitters=new C.t(1),this.events=this.eventEmitters.pipe((0,D.w)(i=>(0,E.T)(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(s.R0b),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(t){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(t)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=l.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(t){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(t):this.componentRef.instance[t])}setInputValue(t,e){this.runInZone(()=>{null!==this.componentRef?function w(n,t){return n===t||n!=n&&t!=t}(e,this.getInputValue(t))&&(void 0!==e||!this.unchangedInputs.has(t))||(this.recordInputChange(t,e),this.unchangedInputs.delete(t),this.hasInputChanges=!0,this.componentRef.instance[t]=e,this.scheduleDetectChanges()):this.initialInputValues.set(t,e)})}initializeComponent(t){const e=s.zs3.create({providers:[],parent:this.injector}),i=function M(n,t){const e=n.childNodes,i=t.map(()=>[]);let a=-1;t.some((o,u)=>"*"===o&&(a=u,!0));for(let o=0,u=e.length;o<u;++o){const r=e[o],h=V(r,t,a);-1!==h&&i[h].push(r)}return i}(t,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,i,t),this.viewChangeDetectorRef=this.componentRef.injector.get(s.sBO),this.implementsOnChanges=function F(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(s.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:t})=>{this.initialInputValues.has(t)&&this.setInputValue(t,this.initialInputValues.get(t))}),this.initialInputValues.clear()}initializeOutputs(t){const e=this.componentFactory.outputs.map(({propName:i,templateName:a})=>t.instance[i].pipe((0,I.U)(u=>({name:a,value:u}))));this.eventEmitters.next(e)}callNgOnChanges(t){if(!this.implementsOnChanges||null===this.inputChanges)return;const e=this.inputChanges;this.inputChanges=null,t.instance.ngOnChanges(e)}markViewForCheck(t){this.hasInputChanges&&(this.hasInputChanges=!1,t.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=l.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(t,e){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[t];if(i)return void(i.currentValue=e);const a=this.unchangedInputs.has(t),o=a?void 0:this.getInputValue(t);this.inputChanges[t]=new s.WD2(o,e,a)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(t){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(t):t()}}class z extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}var A=c(4800);let N=(()=>{class n{constructor(e){this.parent=e,this.property=""}get content(){if(this.parent&&this.property&&this.parent[this.property])return this.parent[this.property]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(f))},n.\u0275cmp=s.Xpm({type:n,selectors:[["dyn-data"]],inputs:{property:"property"},decls:1,vars:1,template:function(e,i){1&e&&s._uU(0),2&e&&s.Oqu(i.content)},styles:["[_nghost-%COMP%]{display:inline-block;border:1px solid green;padding:5px 2px}"]}),n})(),f=(()=>{class n{constructor(e,i,a){this.elmRef=e,this.sanitizer=a,this.elm=this.elmRef.nativeElement,this.name="Angular",this.html="\n  <h1>Some random HTML</h1>\n  <p>Well, <dyn-data property='name'></dyn-data> is awesome</p>\n  <p>\n  To do it this way is really dangerous, as it will expose to all kind of security issues.\n  (see the functioning alert in the sample code!!)\n  But the person that asked the question, needed a way to run script tags, and this is the easiest way.\n  With this sample comes a severe warning, that this is really dangerous.\n  </p>\n  <button onclick=\"alert('hi')\">hi</button>\n  ";const o=function x(n,t){const e=function T(n,t){return t.get(s._Vd).resolveComponentFactory(n).inputs}(n,t.injector),i=t.strategyFactory||new O(n,t.injector),a=function S(n){const t={};return n.forEach(({propName:e,templateName:i})=>{t[function v(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}(i)]=e}),t}(e);class o extends z{constructor(r){super(),this.injector=r}get ngElementStrategy(){if(!this._ngElementStrategy){const r=this._ngElementStrategy=i.create(this.injector||t.injector);e.forEach(({propName:h})=>{if(!this.hasOwnProperty(h))return;const p=this[h];delete this[h],r.setInputValue(h,p)})}return this._ngElementStrategy}attributeChangedCallback(r,h,p,Y){this.ngElementStrategy.setInputValue(a[r],p)}connectedCallback(){let r=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),r=!0),this.ngElementStrategy.connect(this),r||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(r=>{const h=new CustomEvent(r.name,{detail:r.value});this.dispatchEvent(h)})}}return o.observedAttributes=Object.keys(a),e.forEach(({propName:u})=>{Object.defineProperty(o.prototype,u,{get(){return this.ngElementStrategy.getInputValue(u)},set(r){this.ngElementStrategy.setInputValue(u,r)},configurable:!0,enumerable:!0})}),o}(N,{injector:i});customElements.define("dyn-data",o)}ngOnInit(){this.update(this.html)}update(e){this.elm.querySelector("#target").innerHTML=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.zs3),s.Y36(A.H7))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-dynamichtml"]],decls:7,vars:2,consts:[["type","text",3,"value","input"],[3,"value","input"],["id","target"]],template:function(e,i){1&e&&(s.TgZ(0,"h1"),s._uU(1,"Dynamic HTML sample"),s.qZA(),s.TgZ(2,"input",0),s.NdJ("input",function(o){return i.name=o.target.value}),s.qZA(),s.TgZ(3,"textarea",1),s.NdJ("input",function(o){return i.update(o.target.value)}),s.qZA(),s.TgZ(4,"button"),s._uU(5,"Update"),s.qZA(),s._UZ(6,"div",2)),2&e&&(s.xp6(2),s.Q6J("value",i.name),s.xp6(1),s.Q6J("value",i.html))},styles:["textarea[_ngcontent-%COMP%]{display:block;height:6rem;width:30rem;padding:0}"]}),n})();const H=[{path:"",component:f}];let k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[g.Bz.forChild(H)],g.Bz]}),n})(),L=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[y.ez,k]]}),n})()}}]);