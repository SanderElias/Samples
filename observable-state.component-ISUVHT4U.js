import{a as p,b as u}from"./chunk-3BZUJWJZ.js";import{H as i,Mb as r,Nb as h,X as a,fc as m,g as o,lb as c}from"./chunk-WBYBMP4K.js";import"./chunk-DAQOROHW.js";var x=(()=>{class n{constructor(){this.state$=new o({count:5,msg:"",overMax:!1,underMin:!1,max:10,min:2}),this.updateMessage=t=>{let e=t.overMax?"too high!":t.underMin?"too low!":"";this.setState("msg",e)},this.viewModel$=this.state$.pipe(i(5),a(t=>this.checkState()),a(this.updateMessage)),this.setState=u(this.state$),this.getState=p(this.state$)}async checkState(){let{count:t,min:e,max:s,overMax:d,underMin:g}=await this.getState();t>s!==d&&this.setState("overMax",t>s),t<e!==g&&this.setState("underMin",t<e)}async up(){let t=await this.getState("count");this.setState("count",t+1)}async down(){let t=await this.getState("count");this.setState("count",t-1),this.setState({min:3,max:5})}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=c({type:n,selectors:[["app-observable-state"]],decls:2,vars:0,template:function(e,s){e&1&&(r(0,"h1"),m(1,"Observable state"),h())},styles:["section[_ngcontent-%COMP%]{display:grid;grid-template-columns:150px 150px 150px}section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-size:30px}"],changeDetection:0})}}return n})();export{x as ObservableStateComponent};
