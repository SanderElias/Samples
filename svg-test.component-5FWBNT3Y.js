import{j as M}from"./chunk-Q36CS5UM.js";import"./chunk-BJIBN36K.js";import{Ab as f,Ha as d,Jb as k,Kb as g,Lb as b,Mb as i,Nb as l,Ob as m,Vb as s,Wb as _,Za as r,fc as p,hc as v,la as h,lb as a,pc as S,qc as y,zb as C}from"./chunk-WBYBMP4K.js";import"./chunk-DAQOROHW.js";function E(o,w){if(o&1&&(h(),m(0,"rect")),o&2){let e=w.$implicit,t=_();C("data-id",e.id)("x",e.x)("y",e.y)("width",t.blockSize)("height",t.blockSize)("fill",e.fillColor)}}var T=(()=>{class o{set recolor(e){e&&this._recolor()}constructor(){this.blockSize=3,this.colCount=Math.floor(1e3/this.blockSize),this.blocks=Array.from({length:this.colCount*this.colCount},(e,t)=>({fillColor:this.randomColor(),x:this.calcX(t),y:this.calcY(t),id:t})),this.rectClicked=new d,this.cellCount=new d,setTimeout(()=>{this.cellCount.emit(this.blocks.length-1)})}sendRectNumber(e){e.preventDefault(),e.stopPropagation();let t=e.target;isNaN(Number(t.dataset.id))||this.rectClicked.emit(Number(t.dataset.id))}calcX(e){let t=Math.floor(e/this.colCount)*this.colCount;return(e-t)*this.blockSize}calcY(e){return Math.floor(e/this.colCount)*this.blockSize}_recolor(){this.blocks.forEach(e=>e.fillColor=this.randomColor()),console.log(`Changed the color of ${this.blocks.length-1} blocks`)}randomColor(){let e=Math.floor(Math.random()*256),t=Math.floor(Math.random()*256),n=Math.floor(Math.random()*256);return`rgb(${e}, ${t}, ${n})`}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=a({type:o,selectors:[["app-blocks"]],inputs:{recolor:"recolor"},outputs:{rectClicked:"rectClicked",cellCount:"cellCount"},decls:4,vars:0,consts:[["role","img","viewBox","0 0 1000 1000",3,"click"]],template:function(t,n){t&1&&(h(),i(0,"svg",0),s("click",function(c){return n.sendRectNumber(c)}),i(1,"g"),g(2,E,1,6,":svg:rect",null,k),l()()),t&2&&(r(2),b(n.blocks))},styles:[`:host{display:block}
`],encapsulation:3})}}return o})();var I=(()=>{class o{constructor(){this.count=0,this.cellCount=0}reColor(){this.count+=1}bit(e){console.log(`rectangle number ${e} is clicked`)}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=a({type:o,selectors:[["app-svg-test"]],decls:9,vars:4,consts:[[3,"rectClicked","cellCount","recolor"],[3,"click"]],template:function(t,n){t&1&&(i(0,"h1"),p(1,"Quick test with svg"),l(),i(2,"small"),p(3),S(4,"number"),l(),i(5,"app-blocks",0),s("rectClicked",function(c){return n.bit(c)})("cellCount",function(c){return n.cellCount=c}),l(),m(6,"hr"),i(7,"button",1),s("click",function(){return n.reColor()}),p(8,"ReColor"),l()),t&2&&(r(3),v("this image contains over ",y(4,2,n.cellCount)," elements"),r(2),f("recolor",n.count))},dependencies:[T,M],styles:["h1[_ngcontent-%COMP%]{margin:0;font-size:1.2rem}hr[_ngcontent-%COMP%]{margin-inline:0;margin-block:.25rem}app-blocks[_ngcontent-%COMP%]{inline-size:min(77vw,77vh);block-size:min(77vw,77vh)}"]})}}return o})();export{I as SvgTestComponent};
