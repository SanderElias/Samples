import{b as O}from"./chunk-PXOSFZTA.js";import"./chunk-CWFHXJ7A.js";import"./chunk-OGPXMZS2.js";import{i as M}from"./chunk-GOJFU6NU.js";import{Aa as k,C as y,Cb as H,Da as g,Fb as h,Gb as _,Kb as I,Lb as Q,Mb as V,Ob as s,Pb as P,S as m,W as $,Wa as f,Xa as E,Xb as T,Zb as A,_b as D,g as v,ha as w,j as C,lb as L,q as c,r as S,rb as j,sa as p,ta as d,wb as r,xb as a,y as x}from"./chunk-XM75YRED.js";import{a as l,b as u}from"./chunk-KAT7YFEL.js";var R=["b"];function W(o,i){if(o&1){let t=H();r(0,"button",1,0),h("click",function(){p(t);let e=_();return d(e.updateCounterWith(-1))}),s(2,"-1"),a(),r(3,"span"),s(4),a(),r(5,"button",1,0),h("click",function(){p(t);let e=_();return d(e.updateCounterWith(1))}),s(7,"+1"),a()}o&2&&(f(4),P(i.count))}var b=class o{constructor(i){this.route=i,this.localState$=new v({count:0}),this.id$=this.route.params.pipe(m("id"),c(t=>+t)),this.clicks$=this.localState$.pipe(m("buttons"),y(t=>t instanceof g),c(t=>t.toArray().map(n=>n.nativeElement)),$(t=>x(t,"click"))).subscribe(console.log),this.vm$=S({id:this.id$,state:this.localState$}).pipe(c(t=>({id:t.id,count:t.state.count||0})))}ngOnInit(){}updateCounterWith(i){this.localState$.next(u(l({},this.localState$.value),{count:this.localState$.value.count??0+i}))}static{this.\u0275fac=function(t){return new(t||o)(E(O))}}static{this.\u0275cmp=w({type:o,selectors:[["app-ls-home"]],viewQuery:function(t,n){if(t&1&&I(R,5,k),t&2){let e;Q(e=V())&&(n.buttons=e)}},standalone:!0,features:[T],decls:4,vars:3,consts:[["b",""],[3,"click"]],template:function(t,n){if(t&1&&(r(0,"h2"),s(1,"test some state"),a(),L(2,W,8,1),A(3,"async")),t&2){let e;f(2),j((e=D(3,1,n.vm$))?2:-1,e)}},dependencies:[M],encapsulation:2})}};C([B("localState$")],b.prototype,"buttons",void 0);var N=Symbol("subjectProp");function B(o){return(i,t)=>{Object.defineProperty(i,t,{set:function(n){let e=this[o];n&&e.next(u(l({},e.value),{[t]:n}))},get:function(){throw new Error(`Don't read the "${t}" directly, instead take it from the "${o}" behaviourSubject`)},configurable:!1,enumerable:!0})}}export{b as LsHomeComponent,B as ObservableInput};
