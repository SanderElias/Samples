"use strict";(self.webpackChunksamples=self.webpackChunksamples||[]).push([[883],{5557:(b,y,a)=>{a.d(y,{t:()=>s});var C=a(8023),I=a(2069);class s extends C.x{constructor(u=1/0,l=1/0,h=I.l){super(),this._bufferSize=u,this._windowTime=l,this._timestampProvider=h,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=l===1/0,this._bufferSize=Math.max(1,u),this._windowTime=Math.max(1,l)}next(u){const{isStopped:l,_buffer:h,_infiniteTimeWindow:m,_timestampProvider:f,_windowTime:g}=this;l||(h.push(u),!m&&h.push(f.now()+g)),this._trimBuffer(),super.next(u)}_subscribe(u){this._throwIfClosed(),this._trimBuffer();const l=this._innerSubscribe(u),{_infiniteTimeWindow:h,_buffer:m}=this,f=m.slice();for(let g=0;g<f.length&&!u.closed;g+=h?1:2)u.next(f[g]);return this._checkFinalizedStatuses(u),l}_trimBuffer(){const{_bufferSize:u,_timestampProvider:l,_buffer:h,_infiniteTimeWindow:m}=this,f=(m?1:2)*u;if(u<1/0&&f<h.length&&h.splice(0,h.length-f),!m){const g=l.now();let E=0;for(let D=1;D<h.length&&h[D]<=g;D+=2)E=D;E&&h.splice(0,E+1)}}}},2069:(b,y,a)=>{a.d(y,{l:()=>C});const C={now:()=>(C.delegate||Date).now(),delegate:void 0}},7883:(b,y,a)=>{a.r(y),a.d(y,{DynamichtmlModule:()=>L});var C=a(1048),I=a(3290),s=a(9724),T=a(5557),u=a(1860),l=a(1528),h=a(7969);const m={schedule(n,t){const e=setTimeout(n,t);return()=>clearTimeout(e)},scheduleBeforeRender(n){if("undefined"==typeof window)return m.schedule(n,0);if(void 0===window.requestAnimationFrame)return m.schedule(n,16);const t=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(t)}};let v;function V(n,t,e){let i=e;return function g(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&t.some((r,o)=>!("*"===r||!function S(n,t){if(!v){const e=Element.prototype;v=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&v.call(n,t)}(n,r)||(i=o,0))),i}class j{constructor(t,e){this.componentFactory=e.get(s._Vd).resolveComponentFactory(t)}create(t){return new x(this.componentFactory,t)}}class x{constructor(t,e){this.componentFactory=t,this.injector=e,this.eventEmitters=new T.t(1),this.events=this.eventEmitters.pipe((0,l.w)(i=>(0,u.T)(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(s.R0b),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(t){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(t)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=m.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(t){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(t):this.componentRef.instance[t])}setInputValue(t,e){this.runInZone(()=>{null!==this.componentRef?function F(n,t){return n===t||n!=n&&t!=t}(e,this.getInputValue(t))&&(void 0!==e||!this.unchangedInputs.has(t))||(this.recordInputChange(t,e),this.unchangedInputs.delete(t),this.hasInputChanges=!0,this.componentRef.instance[t]=e,this.scheduleDetectChanges()):this.initialInputValues.set(t,e)})}initializeComponent(t){const e=s.zs3.create({providers:[],parent:this.injector}),i=function _(n,t){const e=n.childNodes,i=t.map(()=>[]);let r=-1;t.some((o,p)=>"*"===o&&(r=p,!0));for(let o=0,p=e.length;o<p;++o){const c=e[o],d=V(c,t,r);-1!==d&&i[d].push(c)}return i}(t,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(e,i,t),this.viewChangeDetectorRef=this.componentRef.injector.get(s.sBO),this.implementsOnChanges=function E(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(s.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:t})=>{this.initialInputValues.has(t)&&this.setInputValue(t,this.initialInputValues.get(t))}),this.initialInputValues.clear()}initializeOutputs(t){const e=this.componentFactory.outputs.map(({propName:i,templateName:r})=>t.instance[i].pipe((0,h.U)(p=>({name:r,value:p}))));this.eventEmitters.next(e)}callNgOnChanges(t){if(!this.implementsOnChanges||null===this.inputChanges)return;const e=this.inputChanges;this.inputChanges=null,t.instance.ngOnChanges(e)}markViewForCheck(t){this.hasInputChanges&&(this.hasInputChanges=!1,t.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=m.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(t,e){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[t];if(i)return void(i.currentValue=e);const r=this.unchangedInputs.has(t),o=r?void 0:this.getInputValue(t);this.inputChanges[t]=new s.WD2(o,e,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(t){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(t):t()}}class z extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}var A=a(4800);let B=(()=>{class n{constructor(e){this.parent=e,this.property=""}get content(){if(this.parent&&this.property&&this.parent[this.property])return this.parent[this.property]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(R))},n.\u0275cmp=s.Xpm({type:n,selectors:[["dyn-data"]],inputs:{property:"property"},decls:1,vars:1,template:function(e,i){1&e&&s._uU(0),2&e&&s.Oqu(i.content)},styles:["[_nghost-%COMP%]{display:inline-block;border:1px solid green;padding:5px 2px}"]}),n})(),R=(()=>{class n{constructor(e,i,r){this.elmRef=e,this.sanitizer=r,this.elm=this.elmRef.nativeElement,this.name="Angular",this.html="\n  <h1>Some random HTML</h1>\n  <p>Well, <dyn-data property='name'></dyn-data> is awesome</p>\n  <p>\n  To do it this way is really dangerous, as it will expose to all kind of security issues.\n  (see the functioning alert in the sample code!!)\n  But the person that asked the question, needed a way to run script tags, and this is the easiest way.\n  With this sample comes a severe warning, that this is really dangerous.\n  </p>\n  <button onclick=\"alert('hi')\">hi</button>\n  ";const o=function P(n,t){const e=function O(n,t){return t.get(s._Vd).resolveComponentFactory(n).inputs}(n,t.injector),i=t.strategyFactory||new j(n,t.injector),r=function M(n){const t={};return n.forEach(({propName:e,templateName:i})=>{t[function f(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}(i)]=e}),t}(e);class o extends z{constructor(c){super(),this.injector=c}get ngElementStrategy(){if(!this._ngElementStrategy){const c=this._ngElementStrategy=i.create(this.injector||t.injector);e.forEach(({propName:d})=>{if(!this.hasOwnProperty(d))return;const w=this[d];delete this[d],c.setInputValue(d,w)})}return this._ngElementStrategy}attributeChangedCallback(c,d,w,U){this.ngElementStrategy.setInputValue(r[c],w)}connectedCallback(){let c=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),c=!0),this.ngElementStrategy.connect(this),c||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(c=>{const d=new CustomEvent(c.name,{detail:c.value});this.dispatchEvent(d)})}}return o.observedAttributes=Object.keys(r),e.forEach(({propName:p})=>{Object.defineProperty(o.prototype,p,{get(){return this.ngElementStrategy.getInputValue(p)},set(c){this.ngElementStrategy.setInputValue(p,c)},configurable:!0,enumerable:!0})}),o}(B,{injector:i});customElements.define("dyn-data",o)}ngOnInit(){this.update(this.html)}update(e){this.elm.querySelector("#target").innerHTML=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.zs3),s.Y36(A.H7))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-dynamichtml"]],decls:7,vars:2,consts:[["type","text",3,"value","input"],[3,"value","input"],["id","target"]],template:function(e,i){1&e&&(s.TgZ(0,"h1"),s._uU(1,"Dynamic HTML sample"),s.qZA(),s.TgZ(2,"input",0),s.NdJ("input",function(o){return i.name=o.target.value}),s.qZA(),s.TgZ(3,"textarea",1),s.NdJ("input",function(o){return i.update(o.target.value)}),s.qZA(),s.TgZ(4,"button"),s._uU(5,"Update"),s.qZA(),s._UZ(6,"div",2)),2&e&&(s.xp6(2),s.Q6J("value",i.name),s.xp6(1),s.Q6J("value",i.html))},styles:["textarea[_ngcontent-%COMP%]{display:block;height:6rem;width:30rem;padding:0}"]}),n})();const N=[{path:"",component:R}];let H=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[I.Bz.forChild(N)],I.Bz]}),n})(),L=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[C.ez,H]]}),n})()}}]);