import{b as O}from"./chunk-2EAGZOF3.js";import"./chunk-SEQFX5XL.js";import"./chunk-N4FKHJ4B.js";import{i as M}from"./chunk-IBCCEPDQ.js";import{Bb as r,C as y,Cb as a,Fa as E,Ga as g,Hb as H,Kb as h,Lb as _,Pb as Q,Qb as V,Rb as P,S as m,Vb as s,W as $,Wb as T,Za as f,cc as A,ec as D,fa as w,fc as I,g as v,ha as k,j as C,ob as L,q as c,r as S,ra as p,sa as d,wb as j,y as x}from"./chunk-L7DZHDME.js";import{a as l,b as u}from"./chunk-KAT7YFEL.js";var R=["b"];function W(n,t){if(n&1){let e=H();r(0,"button",1,0),h("click",function(){p(e);let i=_();return d(i.updateCounterWith(-1))}),s(2,"-1"),a(),r(3,"span"),s(4),a(),r(5,"button",1,0),h("click",function(){p(e);let i=_();return d(i.updateCounterWith(1))}),s(7,"+1"),a()}n&2&&(f(4),T(t.count))}var b=class n{constructor(){this.route=w(O),this.localState$=new v({count:0}),this.id$=this.route.params.pipe(m("id"),c(t=>+t)),this.clicks$=this.localState$.pipe(m("buttons"),y(t=>t instanceof g),c(t=>t.toArray().map(e=>e.nativeElement)),$(t=>x(t,"click"))).subscribe(console.log),this.vm$=S({id:this.id$,state:this.localState$}).pipe(c(t=>({id:t.id,count:t.state.count||0})))}ngOnInit(){}updateCounterWith(t){this.localState$.next(u(l({},this.localState$.value),{count:this.localState$.value.count??0+t}))}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=k({type:n,selectors:[["app-ls-home"]],viewQuery:function(e,o){if(e&1&&Q(R,5,E),e&2){let i;V(i=P())&&(o.buttons=i)}},standalone:!0,features:[A],decls:4,vars:3,consts:[["b",""],[3,"click"]],template:function(e,o){if(e&1&&(r(0,"h2"),s(1,"test some state"),a(),L(2,W,8,1),D(3,"async")),e&2){let i;f(2),j((i=I(3,1,o.vm$))?2:-1,i)}},dependencies:[M],encapsulation:2})}};C([B("localState$")],b.prototype,"buttons",void 0);var Z=Symbol("subjectProp");function B(n){return(t,e)=>{Object.defineProperty(t,e,{set:function(o){let i=this[n];o&&i.next(u(l({},i.value),{[e]:o}))},get:function(){throw new Error(`Don't read the "${e}" directly, instead take it from the "${n}" behaviourSubject`)},configurable:!1,enumerable:!0})}}export{b as LsHomeComponent,B as ObservableInput};
